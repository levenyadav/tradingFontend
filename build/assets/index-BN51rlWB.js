const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Markets-Dkij86eW.js","assets/radix-DtX1p3s1.js","assets/charts-Dh6mNU2f.js","assets/vendor-DDxydHEc.js","assets/Trading-Bnk9g2w6.js","assets/Portfolio-BzvRuQTY.js","assets/Transactions-B86iPRAq.js"])))=>i.map(i=>d[i]);
import{j as s,c as Pt,a as sa,P as $r,b as Ve,u as ra,d as Hs,e as St,f as hi,g as mi,R as fi,T as pi,I as gi,V as xi,h as bi,C as yi,i as vi,k as wi,l as Ni,m as ji,S as ki,n as Si,O as na,o as aa,p as Ci,q as oa,r as ia,s as Pi,D as _i,t as la,v as Di,w as Ct,A as ca,x as Ti,y as Ai,z as Ei,B as Mi,F as Oi,E as Ii,G as Ri,H as Li}from"./radix-DtX1p3s1.js";import{a as Bi}from"./vendor-DDxydHEc.js";import{r as c,R as Fi,d as da,b as $i}from"./charts-Dh6mNU2f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ns={},hn;function Wi(){if(hn)return Ns;hn=1;var e=Bi();return Ns.createRoot=e.createRoot,Ns.hydrateRoot=e.hydrateRoot,Ns}var Ui=Wi();const zi="modulepreload",qi=function(e){return"/"+e},mn={},Gs=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let i=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");a=i(r.map(u=>{if(u=qi(u),u in mn)return;mn[u]=!0;const h=u.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":zi,h||(f.as="script"),f.crossOrigin="",f.href=u,d&&f.setAttribute("nonce",d),document.head.appendChild(f),h)return new Promise((g,x)=>{f.addEventListener("load",g),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yi=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),fn=e=>{const t=Yi(e);return t.charAt(0).toUpperCase()+t.slice(1)},ua=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},d)=>c.createElement("svg",{ref:d,...Hi,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ua("lucide",a),...l},[...i.map(([u,h])=>c.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=c.forwardRef(({className:n,...a},o)=>c.createElement(Gi,{ref:o,iconNode:t,className:ua(`lucide-${Vi(fn(e))}`,`lucide-${e}`,n),...a}));return r.displayName=fn(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],wr=se("arrow-down-right",Ki);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],js=se("arrow-left-right",Ji);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],it=se("arrow-left",Xi);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ht=se("arrow-right",Qi);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Nr=se("arrow-up-right",Zi);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ha=se("bell",el);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sl=se("briefcase",tl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],pn=se("building-2",rl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],al=se("calendar",nl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],et=se("camera",ol);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}]],ll=se("chart-candlestick",il);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Le=se("check",cl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ma=se("chevron-down",dl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hl=se("chevron-left",ul);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fa=se("chevron-right",ml);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pl=se("chevron-up",fl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$e=se("circle-alert",gl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lt=se("circle-check-big",xl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yl=se("circle-help",bl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wl=se("circle-x",vl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],jr=se("clock",Nl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],kl=se("copy",jl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pa=se("credit-card",Sl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Pl=se("dollar-sign",Cl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Dl=se("eye-off",_l);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Al=se("eye",Tl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pt=se("file-text",El);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ks=se("gift",Ml);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Il=se("house",Ol);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kr=se("info",Rl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ga=se("lock",Ll);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Fl=se("log-out",Bl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],xa=se("mail",$l);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sr=se("map-pin",Wl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],zl=se("menu",Ul);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Vl=se("percent",ql);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Hl=se("phone",Yl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kl=se("plus",Gl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Xl=se("search",Jl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ba=se("settings",Ql);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ec=se("shield-alert",Zl);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gn=se("shield-check",tc);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xn=se("shield",sc);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ya=se("sparkles",rc);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],ac=se("trending-down",nc);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],xt=se("trending-up",oc);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],rr=se("upload",ic);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fs=se("user",lc);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bn=se("users",cc);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],$s=se("wallet",dc);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ct=se("x",uc);var hc=Symbol.for("react.lazy"),Ws=Fi[" use ".trim().toString()];function mc(e){return typeof e=="object"&&e!==null&&"then"in e}function va(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===hc&&"_payload"in e&&mc(e._payload)}function wa(e){const t=fc(e),r=c.forwardRef((n,a)=>{let{children:o,...i}=n;va(o)&&typeof Ws=="function"&&(o=Ws(o._payload));const l=c.Children.toArray(o),d=l.find(gc);if(d){const u=d.props.children,h=l.map(m=>m===d?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...i,ref:a,children:c.isValidElement(u)?c.cloneElement(u,void 0,h):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}var Na=wa("Slot");function fc(e){const t=c.forwardRef((r,n)=>{let{children:a,...o}=r;if(va(a)&&typeof Ws=="function"&&(a=Ws(a._payload)),c.isValidElement(a)){const i=bc(a),l=xc(o,a.props);return a.type!==c.Fragment&&(l.ref=n?Pt(n,i):i),c.cloneElement(a,l)}return c.Children.count(a)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pc=Symbol("radix.slottable");function gc(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pc}function xc(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const d=o(...l);return a(...l),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function bc(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const yn=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vn=da,ja=(e,t)=>r=>{var n;if(t?.variants==null)return vn(e,r?.class,r?.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(u=>{const h=r?.[u],m=o?.[u];if(h===null)return null;const f=yn(h)||yn(m);return a[u][f]}),l=r&&Object.entries(r).reduce((u,h)=>{let[m,f]=h;return f===void 0||(u[m]=f),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:m,className:f,...g}=h;return Object.entries(g).every(x=>{let[y,j]=x;return Array.isArray(j)?j.includes({...o,...l}[y]):{...o,...l}[y]===j})?[...u,m,f]:u},[]);return vn(e,i,d,r?.class,r?.className)},yc=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},vc=(e,t)=>({classGroupId:e,validator:t}),ka=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Us="-",wn=[],wc="arbitrary..",Nc=e=>{const t=kc(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return jc(i);const l=i.split(Us),d=l[0]===""&&l.length>1?1:0;return Sa(l,d,t)},getConflictingClassGroupIds:(i,l)=>{if(l){const d=n[i],u=r[i];return d?u?yc(u,d):d:u||wn}return r[i]||wn}}},Sa=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],o=r.nextPart.get(a);if(o){const u=Sa(e,t+1,o);if(u)return u}const i=r.validators;if(i===null)return;const l=t===0?e.join(Us):e.slice(t).join(Us),d=i.length;for(let u=0;u<d;u++){const h=i[u];if(h.validator(l))return h.classGroupId}},jc=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?wc+n:void 0})(),kc=e=>{const{theme:t,classGroups:r}=e;return Sc(r,t)},Sc=(e,t)=>{const r=ka();for(const n in e){const a=e[n];Wr(a,r,n,t)}return r},Wr=(e,t,r,n)=>{const a=e.length;for(let o=0;o<a;o++){const i=e[o];Cc(i,t,r,n)}},Cc=(e,t,r,n)=>{if(typeof e=="string"){Pc(e,t,r);return}if(typeof e=="function"){_c(e,t,r,n);return}Dc(e,t,r,n)},Pc=(e,t,r)=>{const n=e===""?t:Ca(t,e);n.classGroupId=r},_c=(e,t,r,n)=>{if(Tc(e)){Wr(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(vc(r,e))},Dc=(e,t,r,n)=>{const a=Object.entries(e),o=a.length;for(let i=0;i<o;i++){const[l,d]=a[i];Wr(d,Ca(t,l),r,n)}},Ca=(e,t)=>{let r=e;const n=t.split(Us),a=n.length;for(let o=0;o<a;o++){const i=n[o];let l=r.nextPart.get(i);l||(l=ka(),r.nextPart.set(i,l)),r=l}return r},Tc=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Ac=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(o,i)=>{r[o]=i,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(o){let i=r[o];if(i!==void 0)return i;if((i=n[o])!==void 0)return a(o,i),i},set(o,i){o in r?r[o]=i:a(o,i)}}},Cr="!",Nn=":",Ec=[],jn=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),Mc=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const o=[];let i=0,l=0,d=0,u;const h=a.length;for(let y=0;y<h;y++){const j=a[y];if(i===0&&l===0){if(j===Nn){o.push(a.slice(d,y)),d=y+1;continue}if(j==="/"){u=y;continue}}j==="["?i++:j==="]"?i--:j==="("?l++:j===")"&&l--}const m=o.length===0?a:a.slice(d);let f=m,g=!1;m.endsWith(Cr)?(f=m.slice(0,-1),g=!0):m.startsWith(Cr)&&(f=m.slice(1),g=!0);const x=u&&u>d?u-d:void 0;return jn(o,g,f,x)};if(t){const a=t+Nn,o=n;n=i=>i.startsWith(a)?o(i.slice(a.length)):jn(Ec,!1,i,void 0,!0)}if(r){const a=n;n=o=>r({className:o,parseClassName:a})}return n},Oc=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let o=0;o<r.length;o++){const i=r[o],l=i[0]==="[",d=t.has(i);l||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(i)):a.push(i)}return a.length>0&&(a.sort(),n.push(...a)),n}},Ic=e=>({cache:Ac(e.cacheSize),parseClassName:Mc(e),sortModifiers:Oc(e),...Nc(e)}),Rc=/\s+/,Lc=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:o}=t,i=[],l=e.trim().split(Rc);let d="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{isExternal:m,modifiers:f,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:y}=r(h);if(m){d=h+(d.length>0?" "+d:d);continue}let j=!!y,v=n(j?x.substring(0,y):x);if(!v){if(!j){d=h+(d.length>0?" "+d:d);continue}if(v=n(x),!v){d=h+(d.length>0?" "+d:d);continue}j=!1}const T=f.length===0?"":f.length===1?f[0]:o(f).join(":"),Q=g?T+Cr:T,fe=Q+v;if(i.indexOf(fe)>-1)continue;i.push(fe);const Y=a(v,j);for(let W=0;W<Y.length;++W){const I=Y[W];i.push(Q+I)}d=h+(d.length>0?" "+d:d)}return d},Bc=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=Pa(r))&&(a&&(a+=" "),a+=n);return a},Pa=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Pa(e[n]))&&(r&&(r+=" "),r+=t);return r},Fc=(e,...t)=>{let r,n,a,o;const i=d=>{const u=t.reduce((h,m)=>m(h),e());return r=Ic(u),n=r.cache.get,a=r.cache.set,o=l,l(d)},l=d=>{const u=n(d);if(u)return u;const h=Lc(d,r);return a(d,h),h};return o=i,(...d)=>o(Bc(...d))},$c=[],Me=e=>{const t=r=>r[e]||$c;return t.isThemeGetter=!0,t},_a=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Da=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Wc=/^\d+\/\d+$/,Uc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Vc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,At=e=>Wc.test(e),pe=e=>!!e&&!Number.isNaN(Number(e)),ht=e=>!!e&&Number.isInteger(Number(e)),nr=e=>e.endsWith("%")&&pe(e.slice(0,-1)),at=e=>Uc.test(e),Hc=()=>!0,Gc=e=>zc.test(e)&&!qc.test(e),Ta=()=>!1,Kc=e=>Vc.test(e),Jc=e=>Yc.test(e),Xc=e=>!z(e)&&!q(e),Qc=e=>Ut(e,Ma,Ta),z=e=>_a.test(e),jt=e=>Ut(e,Oa,Gc),ar=e=>Ut(e,rd,pe),kn=e=>Ut(e,Aa,Ta),Zc=e=>Ut(e,Ea,Jc),ks=e=>Ut(e,Ia,Kc),q=e=>Da.test(e),Gt=e=>zt(e,Oa),ed=e=>zt(e,nd),Sn=e=>zt(e,Aa),td=e=>zt(e,Ma),sd=e=>zt(e,Ea),Ss=e=>zt(e,Ia,!0),Ut=(e,t,r)=>{const n=_a.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},zt=(e,t,r=!1)=>{const n=Da.exec(e);return n?n[1]?t(n[1]):r:!1},Aa=e=>e==="position"||e==="percentage",Ea=e=>e==="image"||e==="url",Ma=e=>e==="length"||e==="size"||e==="bg-size",Oa=e=>e==="length",rd=e=>e==="number",nd=e=>e==="family-name",Ia=e=>e==="shadow",ad=()=>{const e=Me("color"),t=Me("font"),r=Me("text"),n=Me("font-weight"),a=Me("tracking"),o=Me("leading"),i=Me("breakpoint"),l=Me("container"),d=Me("spacing"),u=Me("radius"),h=Me("shadow"),m=Me("inset-shadow"),f=Me("text-shadow"),g=Me("drop-shadow"),x=Me("blur"),y=Me("perspective"),j=Me("aspect"),v=Me("ease"),T=Me("animate"),Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...fe(),q,z],W=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],M=()=>[q,z,d],R=()=>[At,"full","auto",...M()],le=()=>[ht,"none","subgrid",q,z],J=()=>["auto",{span:["full",ht,q,z]},ht,q,z],X=()=>[ht,"auto",q,z],U=()=>["auto","min","max","fr",q,z],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...M()],_=()=>[At,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],k=()=>[e,q,z],H=()=>[...fe(),Sn,kn,{position:[q,z]}],Ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",td,Qc,{size:[q,z]}],p=()=>[nr,Gt,jt],C=()=>["","none","full",u,q,z],E=()=>["",pe,Gt,jt],O=()=>["solid","dashed","dotted","double"],b=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>[pe,nr,Sn,kn],P=()=>["","none",x,q,z],A=()=>["none",pe,q,z],re=()=>["none",pe,q,z],$=()=>[pe,q,z],ne=()=>[At,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[at],breakpoint:[at],color:[Hc],container:[at],"drop-shadow":[at],ease:["in","out","in-out"],font:[Xc],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[at],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[at],shadow:[at],spacing:["px",pe],text:[at],"text-shadow":[at],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",At,z,q,j]}],container:["container"],columns:[{columns:[pe,z,q,l]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ht,"auto",q,z]}],basis:[{basis:[At,"full","auto",l,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pe,At,"auto","initial","none",z]}],grow:[{grow:["",pe,q,z]}],shrink:[{shrink:["",pe,q,z]}],order:[{order:[ht,"first","last","none",q,z]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:J()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:J()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:_()}],w:[{w:[l,"screen",..._()]}],"min-w":[{"min-w":[l,"screen","none",..._()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},..._()]}],h:[{h:["screen","lh",..._()]}],"min-h":[{"min-h":["screen","lh","none",..._()]}],"max-h":[{"max-h":["screen","lh",..._()]}],"font-size":[{text:["base",r,Gt,jt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,q,ar]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nr,z]}],"font-family":[{font:[ed,z,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,q,z]}],"line-clamp":[{"line-clamp":[pe,"none",q,ar]}],leading:[{leading:[o,...M()]}],"list-image":[{"list-image":["none",q,z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",q,z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:[pe,"from-font","auto",q,jt]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[pe,"auto",q,z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q,z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q,z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:Ne()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ht,q,z],radial:["",q,z],conic:[ht,q,z]},sd,Zc]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:p()}],"gradient-via-pos":[{via:p()}],"gradient-to-pos":[{to:p()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:C()}],"rounded-s":[{"rounded-s":C()}],"rounded-e":[{"rounded-e":C()}],"rounded-t":[{"rounded-t":C()}],"rounded-r":[{"rounded-r":C()}],"rounded-b":[{"rounded-b":C()}],"rounded-l":[{"rounded-l":C()}],"rounded-ss":[{"rounded-ss":C()}],"rounded-se":[{"rounded-se":C()}],"rounded-ee":[{"rounded-ee":C()}],"rounded-es":[{"rounded-es":C()}],"rounded-tl":[{"rounded-tl":C()}],"rounded-tr":[{"rounded-tr":C()}],"rounded-br":[{"rounded-br":C()}],"rounded-bl":[{"rounded-bl":C()}],"border-w":[{border:E()}],"border-w-x":[{"border-x":E()}],"border-w-y":[{"border-y":E()}],"border-w-s":[{"border-s":E()}],"border-w-e":[{"border-e":E()}],"border-w-t":[{"border-t":E()}],"border-w-r":[{"border-r":E()}],"border-w-b":[{"border-b":E()}],"border-w-l":[{"border-l":E()}],"divide-x":[{"divide-x":E()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":E()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...O(),"hidden","none"]}],"divide-style":[{divide:[...O(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...O(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pe,q,z]}],"outline-w":[{outline:["",pe,Gt,jt]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",h,Ss,ks]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",m,Ss,ks]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[pe,jt]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":E()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",f,Ss,ks]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[pe,q,z]}],"mix-blend":[{"mix-blend":[...b(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":b()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":S()}],"mask-image-linear-to-pos":[{"mask-linear-to":S()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":S()}],"mask-image-t-to-pos":[{"mask-t-to":S()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":S()}],"mask-image-r-to-pos":[{"mask-r-to":S()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":S()}],"mask-image-b-to-pos":[{"mask-b-to":S()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":S()}],"mask-image-l-to-pos":[{"mask-l-to":S()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":S()}],"mask-image-x-to-pos":[{"mask-x-to":S()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":S()}],"mask-image-y-to-pos":[{"mask-y-to":S()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[q,z]}],"mask-image-radial-from-pos":[{"mask-radial-from":S()}],"mask-image-radial-to-pos":[{"mask-radial-to":S()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":fe()}],"mask-image-conic-pos":[{"mask-conic":[pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":S()}],"mask-image-conic-to-pos":[{"mask-conic-to":S()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:Ne()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",q,z]}],filter:[{filter:["","none",q,z]}],blur:[{blur:P()}],brightness:[{brightness:[pe,q,z]}],contrast:[{contrast:[pe,q,z]}],"drop-shadow":[{"drop-shadow":["","none",g,Ss,ks]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",pe,q,z]}],"hue-rotate":[{"hue-rotate":[pe,q,z]}],invert:[{invert:["",pe,q,z]}],saturate:[{saturate:[pe,q,z]}],sepia:[{sepia:["",pe,q,z]}],"backdrop-filter":[{"backdrop-filter":["","none",q,z]}],"backdrop-blur":[{"backdrop-blur":P()}],"backdrop-brightness":[{"backdrop-brightness":[pe,q,z]}],"backdrop-contrast":[{"backdrop-contrast":[pe,q,z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pe,q,z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pe,q,z]}],"backdrop-invert":[{"backdrop-invert":["",pe,q,z]}],"backdrop-opacity":[{"backdrop-opacity":[pe,q,z]}],"backdrop-saturate":[{"backdrop-saturate":[pe,q,z]}],"backdrop-sepia":[{"backdrop-sepia":["",pe,q,z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",q,z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pe,"initial",q,z]}],ease:[{ease:["linear","initial",v,q,z]}],delay:[{delay:[pe,q,z]}],animate:[{animate:["none",T,q,z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,q,z]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:A()}],"rotate-x":[{"rotate-x":A()}],"rotate-y":[{"rotate-y":A()}],"rotate-z":[{"rotate-z":A()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[q,z,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q,z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q,z]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[pe,Gt,jt,ar]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},od=Fc(ad);function ie(...e){return od(da(e))}const Pr=ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2 has-[>svg]:px-3",sm:"h-10 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-11 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function L({className:e,variant:t,size:r,asChild:n=!1,...a}){const o=n?Na:"button";return s.jsx(o,{"data-slot":"button",className:ie(Pr({variant:t,size:r,className:e})),...a})}const zs={name:"NovaPip",tagline:"Trade Forex Globally, Anytime"};function id({onSignIn:e,onSignUp:t}){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-700 via-blue-800 to-blue-900 flex flex-col items-center justify-between p-6 text-white",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-md w-full",children:[s.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 animate-fade-in",children:s.jsx(xt,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),s.jsx("h1",{className:"text-center mb-3 animate-fade-in",style:{animationDelay:"100ms"},children:zs.name}),s.jsx("p",{className:"text-center text-blue-100 text-lg mb-12 animate-fade-in",style:{animationDelay:"200ms"},children:zs.tagline}),s.jsxs("div",{className:"w-full space-y-3 animate-fade-in",style:{animationDelay:"300ms"},children:[s.jsx(L,{onClick:t,className:"w-full h-12 bg-white text-blue-700 hover:bg-blue-50 rounded-full",children:"Create Account"}),s.jsx(L,{onClick:e,variant:"outline",className:"w-full h-12 bg-transparent border-2 border-white text-white hover:bg-white/10 rounded-full",children:"Sign In"})]})]}),s.jsx("p",{className:"text-blue-200 text-xs text-center max-w-sm animate-fade-in",style:{animationDelay:"400ms"},children:"Trading forex involves risk. Only trade with money you can afford to lose. CFDs are complex instruments and come with a high risk of losing money."})]})}function ve({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:ie("file:text-foreground placeholder:text-gray-600 selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-11 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background text-gray-900 transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var Js="Checkbox",[ld]=sa(Js),[cd,Ur]=ld(Js);function dd(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:o,form:i,name:l,onCheckedChange:d,required:u,value:h="on",internal_do_not_use_render:m}=e,[f,g]=ra({prop:r,defaultProp:a??!1,onChange:d,caller:Js}),[x,y]=c.useState(null),[j,v]=c.useState(null),T=c.useRef(!1),Q=x?!!i||!!x.closest("form"):!0,fe={checked:f,disabled:o,setChecked:g,control:x,setControl:y,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:T,required:u,defaultChecked:bt(a)?!1:a,isFormControl:Q,bubbleInput:j,setBubbleInput:v};return s.jsx(cd,{scope:t,...fe,children:ud(m)?m(fe):n})}var Ra="CheckboxTrigger",La=c.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:o,value:i,disabled:l,checked:d,required:u,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:g,bubbleInput:x}=Ur(Ra,e),y=Hs(a,h),j=c.useRef(d);return c.useEffect(()=>{const v=o?.form;if(v){const T=()=>m(j.current);return v.addEventListener("reset",T),()=>v.removeEventListener("reset",T)}},[o,m]),s.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":bt(d)?"mixed":d,"aria-required":u,"data-state":za(d),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:y,onKeyDown:St(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:St(r,v=>{m(T=>bt(T)?!0:!T),x&&g&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});La.displayName=Ra;var Ba=c.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:d,onCheckedChange:u,form:h,...m}=e;return s.jsx(dd,{__scopeCheckbox:r,checked:a,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:n,form:h,value:d,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(La,{...m,ref:t,__scopeCheckbox:r}),f&&s.jsx(Ua,{__scopeCheckbox:r})]})})});Ba.displayName=Js;var Fa="CheckboxIndicator",$a=c.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=Ur(Fa,r);return s.jsx($r,{present:n||bt(o.checked)||o.checked===!0,children:s.jsx(Ve.span,{"data-state":za(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});$a.displayName=Fa;var Wa="CheckboxBubbleInput",Ua=c.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:i,required:l,disabled:d,name:u,value:h,form:m,bubbleInput:f,setBubbleInput:g}=Ur(Wa,e),x=Hs(r,g),y=hi(o),j=mi(n);c.useEffect(()=>{const T=f;if(!T)return;const Q=window.HTMLInputElement.prototype,Y=Object.getOwnPropertyDescriptor(Q,"checked").set,W=!a.current;if(y!==o&&Y){const I=new Event("click",{bubbles:W});T.indeterminate=bt(o),Y.call(T,bt(o)?!1:o),T.dispatchEvent(I)}},[f,y,o,a]);const v=c.useRef(bt(o)?!1:o);return s.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:d,name:u,value:h,form:m,...t,tabIndex:-1,ref:x,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ua.displayName=Wa;function ud(e){return typeof e=="function"}function bt(e){return e==="indeterminate"}function za(e){return bt(e)?"indeterminate":e?"checked":"unchecked"}function qa({className:e,...t}){return s.jsx(Ba,{"data-slot":"checkbox",className:ie("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx($a,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Le,{className:"size-3.5"})})})}const Te={access:"fx.accessToken",refresh:"fx.refreshToken",session:"fx.sessionId",expires:"fx.expiresAt"};function Xs(e,t){[window.localStorage,window.sessionStorage].forEach(a=>{a.removeItem(Te.access),a.removeItem(Te.refresh),a.removeItem(Te.session),a.removeItem(Te.expires)});const r=t?window.localStorage:window.sessionStorage;r.setItem(Te.access,e.tokens.accessToken),r.setItem(Te.refresh,e.tokens.refreshToken),r.setItem(Te.session,e.sessionId);const n=e.tokens.expiresIn;if(n){const a=md(n),o=Date.now()+a;r.setItem(Te.expires,String(o))}}function Ms(){[window.localStorage,window.sessionStorage].forEach(e=>{e.removeItem(Te.access),e.removeItem(Te.refresh),e.removeItem(Te.session),e.removeItem(Te.expires)})}function Ge(){return window.localStorage.getItem(Te.access)||window.sessionStorage.getItem(Te.access)||null}function Va(){return window.localStorage.getItem(Te.refresh)||window.sessionStorage.getItem(Te.refresh)||null}function Ya(){return window.localStorage.getItem(Te.session)||window.sessionStorage.getItem(Te.session)||null}function hd(){const e=window.localStorage.getItem(Te.expires)||window.sessionStorage.getItem(Te.expires);return e?Number(e):null}function md(e){const t=String(e).trim(),r=Number(t);if(!Number.isNaN(r))return r*1e3;const n=/^(\d+)([smhd])$/i,a=t.match(n);if(!a)return 36e5;const o=Number(a[1]),i=a[2].toLowerCase();return i==="s"?o*1e3:i==="m"?o*60*1e3:i==="h"?o*60*60*1e3:i==="d"?o*24*60*60*1e3:36e5}const Ft="mfapp.selectedAccountId",Ha=c.createContext(null);function fd({children:e}){const[t,r]=c.useState(null),[n,a]=c.useState([]);c.useEffect(()=>{try{const i=localStorage.getItem(Ft);i&&r(i)}catch{}},[]),c.useEffect(()=>{try{t?localStorage.setItem(Ft,t):localStorage.removeItem(Ft)}catch{}},[t]),c.useEffect(()=>{if(!n||n.length===0)return;if(!(t?n.some(l=>String(l._id)===String(t)):!1))if(n.length===1){const l=n[0];l&&l._id&&r(String(l._id))}else r(null)},[n,t]);const o=c.useMemo(()=>({selectedAccountId:t,setSelectedAccountId:r,accounts:n,setAccounts:a}),[t,n]);return s.jsx(Ha.Provider,{value:o,children:e})}function Ga(){const e=c.useContext(Ha);return e||{selectedAccountId:Ka(),setSelectedAccountId:n=>{try{n?localStorage.setItem(Ft,n):localStorage.removeItem(Ft)}catch{}},accounts:[],setAccounts:()=>{}}}function Ka(){try{return localStorage.getItem(Ft)}catch{return null}}const pd="https://api.novapip.io";function _r(e){const t=e.startsWith("/")?e:`/${e}`;return`${pd}${t}`}async function ce(e,t={}){const{method:r="GET",headers:n={},body:a,signal:o}=t,i=Ge(),l={accept:"application/json",...i?{Authorization:`Bearer ${i}`}:{},...n};let d;a!==void 0&&(typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]=l["Content-Type"]||"application/json",d=typeof a=="string"?a:JSON.stringify(a)));const u=await fetch(_r(e),{method:r,headers:l,body:d,signal:o,credentials:"omit"}),m=u.headers.get("content-type")?.includes("application/json")?await u.json().catch(()=>({})):void 0;if(!u.ok){if(u.status===401){const x=Ge(),y=Va();if(x&&y)try{const j=await Xa({accessToken:x,refreshToken:y}),v=Ya()||"",T=typeof window<"u"?window.localStorage.getItem("fx.accessToken"):null,Q=!!T&&T===x;Xs({tokens:{accessToken:j.accessToken,refreshToken:j.refreshToken,expiresIn:j.expiresIn},sessionId:v},Q);const fe={...n,Authorization:`Bearer ${j.accessToken}`};d&&(fe["Content-Type"]=l["Content-Type"]||"application/json");const Y=await fetch(_r(e),{method:r,headers:fe,body:d,signal:o,credentials:"omit"}),I=Y.headers.get("content-type")?.includes("application/json")?await Y.json().catch(()=>({})):void 0;if(!Y.ok){let M=`HTTP ${Y.status}`;if(I){if(typeof I.message=="string")M=I.message;else if(I.error){const le=I.error;typeof le=="string"?M=le:typeof le?.message=="string"&&(M=le.message)}}const R=new Error(M);throw R.status=Y.status,R.data=I,R}return I}catch{Ms()}}let f=`HTTP ${u.status}`;if(m){if(typeof m.message=="string")f=m.message;else if(m.error){const x=m.error;typeof x=="string"?f=x:typeof x?.message=="string"&&(f=x.message)}}const g=new Error(f);throw g.status=u.status,g.data=m,g}return m}async function Ja(e,t={},r=2,n=300){let a=null;const o=new AbortController,i={...t,signal:t.signal||o.signal};for(let l=0;l<Math.max(1,r);l++)try{return await ce(e,i)}catch(d){if(a=d,l<r-1){await new Promise(u=>setTimeout(u,n*Math.pow(2,l)));continue}throw a}throw a}function dt(e,t=!0){const r=Ka();if(!r&&t){const n=new Error("Select an account to perform this action");throw n.code="ACCOUNT_NOT_SELECTED",n}return{...e,...r?{accountId:r}:{}}}async function gd(e,t,r={}){const n=Ge(),a={accept:"application/json",...n?{Authorization:`Bearer ${n}`}:{},...r},o=await fetch(_r(e),{method:"POST",headers:a,body:t,credentials:"omit"}),l=o.headers.get("content-type")?.includes("application/json")?await o.json().catch(()=>({})):void 0;if(!o.ok){let d=`HTTP ${o.status}`;if(l){if(typeof l.message=="string")d=l.message;else if(l.error){const h=l.error;typeof h=="string"?d=h:typeof h?.message=="string"&&(d=h.message)}}const u=new Error(d);throw u.status=o.status,u.data=l,u}return l}function zr(e){const t=e?.metadata?._doc||{},r=e.id||t._id||"",n=e.email||t.email||"";return{id:r,email:n,firstName:t.firstName,lastName:t.lastName,role:e.role,status:e.status}}async function xd(e){const t=await ce("/api/v1/auth/login",{method:"POST",body:e});return{user:zr(t.data.user),tokens:t.data.tokens,sessionId:t.data.sessionId,message:t.message}}async function bd(e){const t=await ce("/api/v1/auth/register",{method:"POST",body:e});return{user:zr(t.data.user),tokens:t.data.tokens,sessionId:t.data.sessionId||"",message:t.message,userId:t.data.userId,requiresEmailVerification:t.data.requiresEmailVerification}}async function yd(e){const t=await ce("/api/v1/auth/verify-otp",{method:"POST",body:e});return{user:zr(t.data.user),tokens:t.data.tokens,sessionId:t.data.sessionId,message:t.message}}async function vd(e){return await ce("/api/v1/auth/resend-otp",{method:"POST",body:e})}async function Xa(e){const t=await ce("/api/v1/auth/refresh",{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`},body:{refreshToken:e.refreshToken}});return{accessToken:t.data.accessToken,refreshToken:t.data.refreshToken,expiresIn:t.data.expiresIn}}async function wd(e){return(await ce("/api/v1/auth/enable-2fa",{method:"POST",headers:{Authorization:`Bearer ${e.token}`},body:{token:e.token,password:e.password}})).data}async function Nd(e){return(await ce("/api/v1/auth/disable-2fa",{method:"POST",headers:{Authorization:`Bearer ${e.token}`},body:{token:e.token,password:e.password}})).data}async function jd(e){return(await ce("/api/v1/auth/change-password",{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`},body:{currentPassword:e.currentPassword,newPassword:e.newPassword,confirmPassword:e.confirmPassword||e.newPassword}})).data}function kd({onBack:e,onLogin:t,onSignUp:r,onForgotPassword:n,onError:a}){const[o,i]=c.useState(""),[l,d]=c.useState(""),[u,h]=c.useState(!1),[m,f]=c.useState(!1),[g,x]=c.useState(!1),y=async j=>{j.preventDefault(),x(!0);try{const v=await xd({email:o,password:l,rememberMe:m});Xs({tokens:v.tokens,sessionId:v.sessionId},m),t(v.user)}catch(v){const T=v?.message||"Login failed";a?.(T)}finally{x(!1)}};return s.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[s.jsx("div",{className:"p-4",children:s.jsx("button",{onClick:e,className:"p-2 -ml-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(it,{className:"w-6 h-6 text-gray-700"})})}),s.jsxs("div",{className:"flex-1 px-6 pt-8",children:[s.jsx("h1",{className:"text-gray-900 mb-2",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Sign in to continue trading"}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm text-gray-700 mb-2",children:"Email or Phone"}),s.jsxs("div",{className:"relative",children:[s.jsx(xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(ve,{id:"email",type:"email",placeholder:"Enter your email or phone",value:o,onChange:j=>i(j.target.value),className:"pl-10 h-12 rounded-lg text-gray-700",inputMode:"email",autoComplete:"username",enterKeyHint:"go",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ga,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(ve,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:l,onChange:j=>d(j.target.value),className:"pl-10 pr-10 h-12 rounded-lg text-gray-700",autoComplete:"current-password",enterKeyHint:"done",required:!0}),s.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":u?"Hide password":"Show password",children:u?s.jsx(Dl,{className:"w-5 h-5"}):s.jsx(Al,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qa,{id:"remember",checked:m,onCheckedChange:j=>f(j)}),s.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-700 cursor-pointer",children:"Remember me"})]}),s.jsx("button",{type:"button",onClick:n,className:"text-sm text-blue-700 hover:text-blue-800",children:"Forgot Password?"})]}),s.jsx(L,{type:"submit",className:"w-full h-12 bg-blue-700 hover:bg-blue-800 text-white rounded-lg mt-6",disabled:g,children:g?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Sign In"})]}),s.jsx("div",{className:"mt-8"})]}),s.jsx("div",{className:"p-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{onClick:r,className:"text-blue-700 hover:text-blue-800",children:"Create Account"})]})})]})}function ns({...e}){return s.jsx(fi,{"data-slot":"select",...e})}function as({...e}){return s.jsx(xi,{"data-slot":"select-value",...e})}function os({className:e,size:t="default",variant:r="default",children:n,...a}){const o=r==="ghost"?"flex w-full items-center justify-between gap-2 rounded-md px-0 py-0 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none bg-transparent border-0 focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4":"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4";return s.jsxs(pi,{"data-slot":"select-trigger","data-size":t,className:ie(o,e),...a,children:[n,s.jsx(gi,{asChild:!0,children:s.jsx(ma,{className:"size-4 opacity-50"})})]})}function is({className:e,children:t,position:r="popper",...n}){return s.jsx(bi,{children:s.jsxs(yi,{"data-slot":"select-content",className:ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Sd,{}),s.jsx(vi,{className:ie("p-2",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(Cd,{})]})})}function Re({className:e,children:t,...r}){return s.jsxs(wi,{"data-slot":"select-item",className:ie("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center justify-between gap-2 rounded-sm py-2 pr-3 pl-3 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[s.jsx("span",{className:"ml-3 flex size-4 items-center justify-center shrink-0",children:s.jsx(Ni,{children:s.jsx(Le,{className:"size-4"})})}),s.jsx(ji,{className:"flex-1",children:t})]})}function Sd({className:e,...t}){return s.jsx(ki,{"data-slot":"select-scroll-up-button",className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(pl,{className:"size-4"})})}function Cd({className:e,...t}){return s.jsx(Si,{"data-slot":"select-scroll-down-button",className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ma,{className:"size-4"})})}function Qa({...e}){return s.jsx(ia,{"data-slot":"dialog",...e})}function Pd({...e}){return s.jsx(oa,{"data-slot":"dialog-portal",...e})}const Za=c.forwardRef(({className:e,...t},r)=>s.jsx(na,{ref:r,"data-slot":"dialog-overlay",className:ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-40 bg-black/50",e),...t}));Za.displayName="DialogOverlay";const qr=c.forwardRef(({className:e,children:t,fullscreen:r,...n},a)=>s.jsxs(Pd,{"data-slot":"dialog-portal",children:[s.jsx(Za,{}),s.jsx(aa,{ref:a,"data-slot":"dialog-content",className:ie("bg-white data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed inset-0 z-[100] grid",r?"place-items-stretch":"place-items-center",e),...n,children:s.jsxs("div",{className:ie(r?"w-full h-full rounded-none border-0 p-0 bg-white flex flex-col min-h-0":"w-full max-w-[calc(100%-2rem)] sm:max-w-lg translate-y-0 rounded-lg border p-6 shadow-lg bg-white flex flex-col min-h-0"),children:[t,!r&&s.jsxs(Ci,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none text-gray-900 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(ct,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})})]}));qr.displayName="DialogContent";function _d({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:ie("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Dd({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:ie("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Td({className:e,...t}){return s.jsx(Pi,{"data-slot":"dialog-title",className:ie("text-lg leading-none font-semibold",e),...t})}function Ad({className:e,...t}){return s.jsx(_i,{"data-slot":"dialog-description",className:ie("text-muted-foreground text-sm",e),...t})}function Ed({title:e,showNotifications:t=!0,onNotificationClick:r,showMenu:n=!1,onMenuClick:a,unreadCount:o=0,titleIcon:i,showBack:l=!1,onBackClick:d}){const{selectedAccountId:u,accounts:h,setSelectedAccountId:m}=Ga(),f=h.find(v=>String(v._id)===String(u)),g=f?.accountNumber?String(f.accountNumber):u?String(u).slice(-6):null;f?.accountType&&String(f.accountType);const[x,y]=c.useState(!1);c.useEffect(()=>{!u&&h&&h.length>0&&y(!0)},[u,h]);const j=v=>{m(v),y(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"sticky top-0 z-40",style:{backgroundColor:"#ef5c2a",paddingTop:"var(--safe-top)"},children:s.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[l&&s.jsx("button",{onClick:d,className:"p-2 -ml-2 hover:bg-white/10 rounded-lg transition-colors","aria-label":"Back",children:s.jsx(it,{className:"w-6 h-6 text-white",style:{color:"#fff"}})}),n&&s.jsx("button",{onClick:a,className:"p-2 -ml-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(zl,{className:"w-6 h-6 text-white",style:{color:"#fff"}})}),e?s.jsxs("div",{className:"flex items-center gap-2",children:[i?s.jsx("span",{className:"text-white",children:i}):null,s.jsx("h1",{className:"text-white font-bold",style:{color:"#fff",fontWeight:700},children:e})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-8 h-8 rounded-lg"}),s.jsx("span",{className:"font-bold text-white",style:{color:"#fff",fontWeight:700},children:zs.name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[h.length>0&&s.jsxs(ns,{value:u||"",onValueChange:v=>m(v),children:[s.jsxs(os,{size:"sm",variant:"ghost",className:"text-white gap-2 px-0 py-0",children:[s.jsx("span",{className:"text-xs",children:"Acc"}),s.jsx(as,{placeholder:g||"Select account"})]}),s.jsx(is,{className:"bg-white rounded-lg shadow-lg min-w-[12rem]",children:h.map(v=>s.jsxs(Re,{value:v._id,className:"py-2.5 pl-3 pr-12 text-gray-900",children:[v.accountNumber,s.jsx("span",{className:`ml-2 px-1.5 py-0.5 rounded text-xs ${String(v.accountType).toLowerCase()==="live"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:String(v.accountType||"standard").toUpperCase()})]},v._id))})]}),t&&s.jsxs("button",{onClick:r,className:"relative p-2 hover:bg-white/10 rounded-lg transition-colors",children:[s.jsx(ha,{className:"w-6 h-6 text-white",style:{color:"#fff"}}),o>0&&s.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-600 text-white text-[10px] rounded-full flex items-center justify-center",children:o})]})]})]})}),s.jsx(Qa,{open:x,onOpenChange:y,children:s.jsxs(qr,{children:[s.jsxs(_d,{children:[s.jsx(Td,{className:"text-gray-900",children:"Please select an account"}),s.jsx(Ad,{className:"text-gray-700",children:"Select an account to continue trading."})]}),s.jsx("div",{className:"space-y-2",children:h.map(v=>s.jsxs(L,{variant:"outline",className:"w-full justify-between",onClick:()=>j(v._id),children:[s.jsx("span",{children:v.accountNumber}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${String(v.accountType).toLowerCase()==="live"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:String(v.accountType||"standard").toUpperCase()})]},v._id))}),s.jsx(Dd,{children:s.jsx(L,{variant:"ghost",className:"text-gray-900",onClick:()=>y(!1),children:"Close"})})]})})]})}function Md({activeTab:e,onTabChange:t}){const r=[{id:"dashboard",label:"Dashboard",icon:Il},{id:"markets",label:"Markets",icon:xt},{id:"trading",label:"Trading",icon:sl},{id:"wallet",label:"Wallet",icon:$s},{id:"settings",label:"Settings",icon:ba}];return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",role:"navigation","aria-label":"Bottom navigation",style:{paddingBottom:"var(--safe-bottom)",height:"calc(64px + var(--safe-bottom))",willChange:"transform",transform:"translateZ(0)",WebkitTransform:"translateZ(0)",backfaceVisibility:"hidden"},children:s.jsx("div",{className:"flex justify-around items-center",style:{height:"64px"},children:r.map(n=>{const a=n.icon,o=e===n.id;return s.jsxs("button",{onClick:()=>t(n.id),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${o?"text-blue-700":"text-gray-500"}`,"aria-label":n.label,"aria-current":o?"page":void 0,onKeyDown:i=>{const l=r.findIndex(d=>d.id===n.id);if(i.key==="ArrowRight"){const d=r[(l+1)%r.length];t(d.id),i.preventDefault()}else if(i.key==="ArrowLeft"){const d=r[(l-1+r.length)%r.length];t(d.id),i.preventDefault()}},children:[s.jsx(a,{className:`w-6 h-6 ${o?"stroke-[2.5]":"stroke-2"}`}),s.jsx("span",{className:"text-[11px] mt-1",children:n.label})]},n.id)})})})}const Od={firstName:"John"};new Date(Date.now()-7200*1e3).toISOString(),new Date(Date.now()-300*60*1e3).toISOString(),new Date(Date.now()-1800*1e3).toISOString();new Date(Date.now()-1440*60*1e3).toISOString();new Date(Date.now()-2880*60*1e3).toISOString(),new Date(Date.now()-1440*60*1e3).toISOString(),new Date(Date.now()-4320*60*1e3).toISOString(),new Date(Date.now()-2880*60*1e3).toISOString(),new Date(Date.now()-5760*60*1e3).toISOString(),new Date(Date.now()-4320*60*1e3).toISOString();const Et=[{pair:"EUR/USD",name:"Euro / US Dollar",bidPrice:1.08452,askPrice:1.0846,spread:.8,change24h:.0048,changePercent24h:.44,high24h:1.08892,low24h:1.08123,volume:2456789,category:"forex",isFavorite:!0},{pair:"GBP/USD",name:"British Pound / US Dollar",bidPrice:1.26542,askPrice:1.26558,spread:1.6,change24h:-.0123,changePercent24h:-.96,high24h:1.27234,low24h:1.26234,volume:1876543,category:"forex",isFavorite:!0},{pair:"USD/JPY",name:"US Dollar / Japanese Yen",bidPrice:149.112,askPrice:149.134,spread:2.2,change24h:1.234,changePercent24h:.83,high24h:150.456,low24h:148.123,volume:3234567,category:"forex",isFavorite:!0},{pair:"USD/CHF",name:"US Dollar / Swiss Franc",bidPrice:.88234,askPrice:.88256,spread:2.2,change24h:.0034,changePercent24h:.39,high24h:.88567,low24h:.87923,volume:987654,category:"forex",isFavorite:!1},{pair:"AUD/USD",name:"Australian Dollar / US Dollar",bidPrice:.65432,askPrice:.65448,spread:1.6,change24h:-.0089,changePercent24h:-1.34,high24h:.66234,low24h:.65123,volume:1234567,category:"forex",isFavorite:!0},{pair:"USD/CAD",name:"US Dollar / Canadian Dollar",bidPrice:1.36234,askPrice:1.36256,spread:2.2,change24h:.0156,changePercent24h:1.16,high24h:1.36789,low24h:1.35678,volume:876543,category:"forex",isFavorite:!1},{pair:"NZD/USD",name:"New Zealand Dollar / US Dollar",bidPrice:.60123,askPrice:.60145,spread:2.2,change24h:.0045,changePercent24h:.75,high24h:.60567,low24h:.59876,volume:654321,category:"forex",isFavorite:!1},{pair:"XAU/USD",name:"Gold / US Dollar",bidPrice:2034.56,askPrice:2035.12,spread:.56,change24h:12.34,changePercent24h:.61,high24h:2045.67,low24h:2023.45,volume:456789,category:"commodities",isFavorite:!0},{pair:"XAG/USD",name:"Silver / US Dollar",bidPrice:24.567,askPrice:24.589,spread:.022,change24h:-.456,changePercent24h:-1.82,high24h:25.123,low24h:24.345,volume:234567,category:"commodities",isFavorite:!1},{pair:"BTC/USD",name:"Bitcoin / US Dollar",bidPrice:43567.89,askPrice:43589.12,spread:21.23,change24h:1234.56,changePercent24h:2.91,high24h:44234.56,low24h:42123.45,volume:987654321,category:"crypto",isFavorite:!1}];new Date(Date.now()-10080*60*1e3).toISOString(),new Date(Date.now()-4320*60*1e3).toISOString(),new Date(Date.now()-1440*60*1e3).toISOString(),new Date(Date.now()-14400*60*1e3).toISOString(),new Date(Date.now()-7200*1e3).toISOString();new Date(Date.now()-1440*60*1e3).toISOString(),new Date(Date.now()-7200*1e3).toISOString(),new Date(Date.now()-360*60*1e3).toISOString(),new Date(Date.now()-720*60*1e3).toISOString();function Ae(e,t="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function lt(e,t){const r=t.toUpperCase();let n=5;return r.includes("JPY")?n=3:(r.startsWith("BTC/")||r.endsWith("/BTC"))&&(n=2),e.toFixed(n)}function Vr(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}function Id(e){const t=new Date(e),n=new Date().getTime()-t.getTime(),a=Math.floor(n/6e4),o=Math.floor(a/60),i=Math.floor(o/24);return a<1?"Just now":a<60?`${a}m ago`:o<24?`${o}h ago`:i<7?`${i}d ago`:Vr(e)}function Bt(e){const t=e.toUpperCase();return t.includes("BTC")||t.includes("ETH")||t.includes("BNB")||t.includes("SOL")?1:t.includes("JPY")?.01:1e-4}function eo(e,t,r,n){const a=Bt(e);return t.toLowerCase()==="buy"?(n-r)/a:(r-n)/a}function Eg(e,t,r){const n=e.toUpperCase(),a=Bt(e);return n.includes("BTC")||n.includes("ETH")||n.includes("BNB")||n.includes("SOL")?a*t:n.endsWith("/USD")?10*t:n.includes("JPY")?a*1e5*t/r:0}function Dr(e,t,r,n,a){const o=e.toUpperCase(),i=t.toLowerCase()==="buy"?n-r:r-n;if(o.includes("BTC")||o.includes("ETH")||o.includes("BNB")||o.includes("SOL"))return i*a;const l=1e5;return o.endsWith("/USD")?i*l*a:o.includes("JPY")?i*l*a/n:0}function to(e,t){return!t||t===0?null:e/t*100}function ke(){const e=Ge();return e?{Authorization:`Bearer ${e}`}:{}}function V(e){return e==null?0:typeof e=="number"?e:typeof e=="string"?Number(e):typeof e=="object"&&"$numberDecimal"in e?Number(e.$numberDecimal):Number(e)}let Cs=null,Kt=null;async function ms(){const e=Date.now();return Cs&&e-Cs.ts<1e4?Cs.value:Kt||(Kt=(async()=>{const t=await ce("/api/v1/auth/me",{method:"GET",headers:ke()});return Cs={value:t.data.user,ts:Date.now()},Kt=null,t.data.user})(),Kt)}async function Rd(e={}){const t=new URLSearchParams;return e.page&&t.set("page",String(e.page)),e.limit&&t.set("limit",String(e.limit)),typeof e.unreadOnly=="boolean"&&t.set("unreadOnly",e.unreadOnly?"true":"false"),(await ce(`/api/v1/users/notifications?${t.toString()}`,{method:"GET",headers:ke()})).data.notifications}async function so(e="active"){return(await ce(`/api/v1/accounts?status=${encodeURIComponent(e)}`,{method:"GET",headers:ke()})).data.accounts.map(r=>({...r,balance:V(r.balance),equity:V(r.equity),margin:V(r.margin),freeMargin:V(r.freeMargin),marginLevel:V(r.marginLevel),statistics:r.statistics?{...r.statistics,totalProfitLoss:V(r.statistics.totalProfitLoss)}:void 0}))}async function Ld(e="active"){const t=await ce(`/api/v1/accounts?status=${encodeURIComponent(e)}`,{method:"GET",headers:ke()}),r=t.data.summary,n=t.data.accounts.map(a=>({...a,balance:V(a.balance),equity:V(a.equity),margin:V(a.margin),freeMargin:V(a.freeMargin),marginLevel:V(a.marginLevel),statistics:a.statistics?{...a.statistics,totalProfitLoss:V(a.statistics.totalProfitLoss)}:void 0}));return{summary:r,accounts:n}}async function Bd(e){return(await ce("/api/v1/accounts",{method:"POST",headers:ke(),body:e})).data}function ro(e){const t=[],r=[],n=eo(e.symbol,e.direction,e.openPrice,e.currentPrice),a=Dr(e.symbol,e.direction,e.openPrice,e.currentPrice,e.volume),o=to(a,e.margin),i=e.pips!==void 0&&e.pips!==null,l=i?Math.abs(n-e.pips):0,d=Math.max(1,Math.abs(n)*.02);i&&l>d&&t.push(`Pips calculation error: API shows ${e.pips}, should be ${n.toFixed(2)} (diff: ${l.toFixed(2)})`);const u=Math.abs(a-e.unrealizedPL),h=Math.max(.05,Math.abs(a)*.02);if(u>h&&t.push(`P&L calculation error: API shows $${e.unrealizedPL}, should be $${a.toFixed(2)} (diff: $${u.toFixed(2)})`),o!==null&&e.unrealizedPLPercent!==null){const m=Math.abs(o-e.unrealizedPLPercent),f=Math.max(.5,Math.abs(o)*.05);m>f&&t.push(`P&L% calculation error: API shows ${e.unrealizedPLPercent}%, should be ${o.toFixed(2)}% (diff: ${m.toFixed(2)}%)`)}return e.unrealizedPL>1e6&&r.push(`Unrealistic P&L: $${e.unrealizedPL.toLocaleString()} - Check position size and calculations`),e.margin>1e6&&r.push(`Unrealistic margin: $${e.margin.toLocaleString()} - Check leverage and position size`),Math.abs(e.pips)>1e5&&r.push(`Unrealistic pips: ${e.pips.toLocaleString()} - Check pip calculation for ${e.symbol}`),{isValid:t.length===0,errors:t,warnings:r,calculated:{pips:n,unrealizedPL:a,margin:e.margin,unrealizedPLPercent:o||0}}}function Fd(e){const t=ro({symbol:e.symbol,direction:e.direction,volume:e.volume,openPrice:e.openPrice,currentPrice:e.currentPrice,unrealizedPL:e.unrealizedPL||0,margin:e.margin||0,pips:e.pips||0,unrealizedPLPercent:e.unrealizedPLPercent||0});return t.isValid?e:(console.warn(` Fixing incorrect calculations for ${e.symbol}:`,t.errors),{...e,unrealizedPL:t.calculated.unrealizedPL,pips:t.calculated.pips,unrealizedPLPercent:t.calculated.unrealizedPLPercent,margin:e.margin||t.calculated.margin})}function no(e){return e.map(Fd)}async function $d(e={}){const t=new URLSearchParams({page:String(e.page??1),limit:String(e.limit??20),sortBy:e.sortBy??"createdAt",sortOrder:e.sortOrder??"desc"}),r=dt({},!1);r.accountId&&t.set("accountId",r.accountId);const a=(await ce(`/api/v1/positions?${t.toString()}`,{method:"GET",headers:ke()})).data.positions.map(o=>{const i=o.account?o.account:o.accountId?{id:o.accountId._id,accountNumber:o.accountId.accountNumber,currency:o.accountId.currency}:void 0;return{id:o.id||o._id,positionId:o.positionId,symbol:o.symbol,direction:o.direction,volume:o.volume,account:i,openPrice:V(o.openPrice),currentPrice:V(o.currentPrice),closePrice:V(o.closePrice),profitLoss:V(o.profitLoss),unrealizedPL:V(o.unrealizedPL),commission:V(o.commission),swap:V(o.swap),margin:V(o.margin),pips:V(o.pips),unrealizedPLPercent:typeof o.unrealizedPLPercent=="string"?Number(o.unrealizedPLPercent):V(o.unrealizedPLPercent),openedAt:o.openedAt,status:o.status}});return no(a)}async function Mg(e={}){const t=new URLSearchParams({page:String(e.page??1),limit:String(e.limit??20),sortBy:e.sortBy??"closedAt",sortOrder:e.sortOrder??"desc"}),r=dt({},!1);return r.accountId&&t.set("accountId",r.accountId),(await ce(`/api/v1/positions/history?${t.toString()}`,{method:"GET",headers:ke()})).data.positions.map(a=>{const o=a.account?a.account:a.accountId?{id:a.accountId._id,accountNumber:a.accountId.accountNumber,currency:a.accountId.currency}:void 0;return{id:a.id||a._id,symbol:a.symbol,direction:a.direction,volume:a.volume,account:o,openPrice:V(a.openPrice),currentPrice:V(a.currentPrice),closePrice:V(a.closePrice),profitLoss:V(a.profitLoss),unrealizedPL:V(a.unrealizedPL),commission:V(a.commission),swap:V(a.swap),margin:V(a.margin),pips:V(a.pips),unrealizedPLPercent:typeof a.unrealizedPLPercent=="string"?Number(a.unrealizedPLPercent):V(a.unrealizedPLPercent),openedAt:a.openedAt,closedAt:a.closedAt,status:a.status}})}async function Og(e={}){const t=new URLSearchParams({page:String(e.page??1),limit:String(e.limit??20),sortBy:e.sortBy??"createdAt",sortOrder:e.sortOrder??"desc",...e.symbol?{symbol:e.symbol}:{}}),r=dt({},!1);r.accountId&&t.set("accountId",r.accountId);const n=await ce(`/api/v1/positions?${t.toString()}`,{method:"GET",headers:ke()}),a=(n.data?.positions||[]).map(i=>{const l=i.account?i.account:i.accountId?{id:i.accountId._id,accountNumber:i.accountId.accountNumber,currency:i.accountId.currency}:void 0;return{id:i.id||i._id,positionId:i.positionId,symbol:i.symbol,direction:i.direction,volume:i.volume,account:l,openPrice:V(i.openPrice),currentPrice:V(i.currentPrice),closePrice:V(i.closePrice),unrealizedPL:V(i.unrealizedPL),commission:V(i.commission),swap:V(i.swap),margin:V(i.margin),pips:V(i.pips),unrealizedPLPercent:typeof i.unrealizedPLPercent=="string"?Number(i.unrealizedPLPercent):V(i.unrealizedPLPercent),stopLoss:V(i.stopLoss),takeProfit:V(i.takeProfit),trailingStop:V(i.trailingStop),openedAt:i.openedAt,status:i.status}});return{items:no(a),pagination:n.data?.pagination,summary:n.data?.summary}}async function Ps(e){const r=(await ce(`/api/v1/positions/${e}`,{method:"GET",headers:ke()}))?.data?.position||{},n=a=>V(a);return{id:String(r.id||r._id||e),account:{id:String(r.account?.id||r.accountId?._id||""),accountNumber:String(r.account?.accountNumber||r.accountId?.accountNumber||""),currency:String(r.account?.currency||r.accountId?.currency||"USD")},symbol:String(r.symbol||""),direction:String(r.direction||""),volume:n(r.volume),openPrice:n(r.openPrice),currentPrice:n(r.currentPrice),pips:n(r.pips),unrealizedPL:n(r.unrealizedPL),margin:n(r.margin),status:String(r.status||""),openedAt:String(r.openedAt||""),updatedAt:String(r.updatedAt||""),orders:Array.isArray(r.orders)?r.orders.map(a=>({type:String(a.type||""),side:String(a.side||""),price:n(a.price),status:String(a.status||""),createdAt:String(a.createdAt||"")})):[],costs:(()=>{const a=n(r.costs?.commission??r.commission)||0,o=n(r.costs?.swap??r.swap)||0,i=n(r.costs?.spread??r.spread)||0,l=n(r.costs?.total??r.totalCosts),d=typeof l=="number"&&!isNaN(l)?l:a+o+i;return{commission:a,swap:o,spread:i,total:d}})(),stopLoss:n(r.stopLoss),takeProfit:n(r.takeProfit??r.tp),trailingStop:n(r.trailingStop??r.ts)}}async function Wd(e,t){const r=dt({volume:t.volume,price:t.price??0,reason:t.reason??"manual"},!0);return ce(`/api/v1/positions/${e}/close`,{method:"POST",headers:{...ke(),"Content-Type":"application/json"},body:r})}async function Ud(e,t){const r={};typeof t.stopLoss=="number"&&(r.stopLoss=t.stopLoss),typeof t.takeProfit=="number"&&(r.takeProfit=t.takeProfit),typeof t.trailingStop=="number"&&(r.trailingStop=t.trailingStop);const n=dt(r,!0);return ce(`/api/v1/positions/${e}/modify`,{method:"PUT",headers:{...ke(),"Content-Type":"application/json"},body:n})}async function zd(e={}){const t=new URLSearchParams({page:String(e.page??1),limit:String(e.limit??50),status:"pending",sortBy:"createdAt",sortOrder:"desc"}),r=dt({},!1);r.accountId&&t.set("accountId",r.accountId);const n=await ce(`/api/v1/orders?${t.toString()}`,{method:"GET",headers:ke()});return n.meta?.total??(Array.isArray(n.data)?n.data.length:0)}async function Ig(e={}){const t=new URLSearchParams({page:String(e.page??1),limit:String(e.limit??50),status:"pending",sortBy:"createdAt",sortOrder:"desc"}),r=dt({},!1);r.accountId&&t.set("accountId",r.accountId);const n=await ce(`/api/v1/orders?${t.toString()}`,{method:"GET",headers:ke()});return{items:n.data||[],meta:n.meta}}async function Rg(e){const t=dt(e,!0);return await ce("/api/v1/orders",{method:"POST",headers:ke(),body:t})}async function Lg(e){const t=dt({},!0);return ce(`/api/v1/orders/${e}/cancel`,{method:"POST",headers:ke(),body:t})}async function qd(){const e=await ce("/api/v1/market/watchlist",{method:"GET",headers:ke()});return(Array.isArray(e?.data)?e.data:[]).map(r=>({symbol:r.symbol,price:V(r.price),changePercent:V(r.changePercent),alerts:r.alerts,addedAt:r.addedAt}))}async function Bg(e,t){const r=e.toUpperCase();return(await ce("/api/v1/market/watchlist",{method:"POST",headers:ke(),body:{symbol:r,alerts:{priceAbove:0,priceBelow:0}}})).data}async function Fg(e){const t=encodeURIComponent(e.toUpperCase());return(await ce(`/api/v1/market/watchlist/${t}`,{method:"DELETE",headers:ke()})).data}const rt=Object.create(null);rt.open="0";rt.close="1";rt.ping="2";rt.pong="3";rt.message="4";rt.upgrade="5";rt.noop="6";const Os=Object.create(null);Object.keys(rt).forEach(e=>{Os[rt[e]]=e});const Tr={type:"error",data:"parser error"},ao=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",oo=typeof ArrayBuffer=="function",io=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Yr=({type:e,data:t},r,n)=>ao&&t instanceof Blob?r?n(t):Cn(t,n):oo&&(t instanceof ArrayBuffer||io(t))?r?n(t):Cn(new Blob([t]),n):n(rt[e]+(t||"")),Cn=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function Pn(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let or;function Vd(e,t){if(ao&&e.data instanceof Blob)return e.data.arrayBuffer().then(Pn).then(t);if(oo&&(e.data instanceof ArrayBuffer||io(e.data)))return t(Pn(e.data));Yr(e,!1,r=>{or||(or=new TextEncoder),t(or.encode(r))})}const _n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<_n.length;e++)rs[_n.charCodeAt(e)]=e;const Yd=e=>{let t=e.length*.75,r=e.length,n,a=0,o,i,l,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),h=new Uint8Array(u);for(n=0;n<r;n+=4)o=rs[e.charCodeAt(n)],i=rs[e.charCodeAt(n+1)],l=rs[e.charCodeAt(n+2)],d=rs[e.charCodeAt(n+3)],h[a++]=o<<2|i>>4,h[a++]=(i&15)<<4|l>>2,h[a++]=(l&3)<<6|d&63;return u},Hd=typeof ArrayBuffer=="function",Hr=(e,t)=>{if(typeof e!="string")return{type:"message",data:lo(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Gd(e.substring(1),t)}:Os[r]?e.length>1?{type:Os[r],data:e.substring(1)}:{type:Os[r]}:Tr},Gd=(e,t)=>{if(Hd){const r=Yd(e);return lo(r,t)}else return{base64:!0,data:e}},lo=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},co="",Kd=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((o,i)=>{Yr(o,!1,l=>{n[i]=l,++a===r&&t(n.join(co))})})},Jd=(e,t)=>{const r=e.split(co),n=[];for(let a=0;a<r.length;a++){const o=Hr(r[a],t);if(n.push(o),o.type==="error")break}return n};function Xd(){return new TransformStream({transform(e,t){Vd(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const o=new DataView(a.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{a=new Uint8Array(9);const o=new DataView(a.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let ir;function _s(e){return e.reduce((t,r)=>t+r.length,0)}function Ds(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Qd(e,t){ir||(ir=new TextDecoder);const r=[];let n=0,a=-1,o=!1;return new TransformStream({transform(i,l){for(r.push(i);;){if(n===0){if(_s(r)<1)break;const d=Ds(r,1);o=(d[0]&128)===128,a=d[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(_s(r)<2)break;const d=Ds(r,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(_s(r)<8)break;const d=Ds(r,8),u=new DataView(d.buffer,d.byteOffset,d.length),h=u.getUint32(0);if(h>Math.pow(2,21)-1){l.enqueue(Tr);break}a=h*Math.pow(2,32)+u.getUint32(4),n=3}else{if(_s(r)<a)break;const d=Ds(r,a);l.enqueue(Hr(o?d:ir.decode(d),t)),n=0}if(a===0||a>e){l.enqueue(Tr);break}}}})}const uo=4;function Ee(e){if(e)return Zd(e)}function Zd(e){for(var t in Ee.prototype)e[t]=Ee.prototype[t];return e}Ee.prototype.on=Ee.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ee.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ee.prototype.off=Ee.prototype.removeListener=Ee.prototype.removeAllListeners=Ee.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ee.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};Ee.prototype.emitReserved=Ee.prototype.emit;Ee.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ee.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Qs=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),He=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),eu="arraybuffer";function ho(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const tu=He.setTimeout,su=He.clearTimeout;function Zs(e,t){t.useNativeTimers?(e.setTimeoutFn=tu.bind(He),e.clearTimeoutFn=su.bind(He)):(e.setTimeoutFn=He.setTimeout.bind(He),e.clearTimeoutFn=He.clearTimeout.bind(He))}const ru=1.33;function nu(e){return typeof e=="string"?au(e):Math.ceil((e.byteLength||e.size)*ru)}function au(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function mo(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ou(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function iu(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class lu extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Gr extends Ee{constructor(t){super(),this.writable=!1,Zs(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new lu(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Hr(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=ou(t);return r.length?"?"+r:""}}class cu extends Gr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Jd(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Kd(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=mo()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let fo=!1;try{fo=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const du=fo;function uu(){}class hu extends cu{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class st extends Ee{constructor(t,r,n){super(),this.createRequest=t,Zs(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=ho(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=st.requestsCount++,st.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=uu,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete st.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}st.requestsCount=0;st.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Dn);else if(typeof addEventListener=="function"){const e="onpagehide"in He?"pagehide":"unload";addEventListener(e,Dn,!1)}}function Dn(){for(let e in st.requests)st.requests.hasOwnProperty(e)&&st.requests[e].abort()}const mu=(function(){const e=po({xdomain:!1});return e&&e.responseType!==null})();class fu extends hu{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=mu&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new st(po,this.uri(),t)}}function po(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||du))return new XMLHttpRequest}catch{}if(!t)try{return new He[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const go=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pu extends Gr{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=go?{}:ho(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;Yr(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}a&&Qs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=mo()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const lr=He.WebSocket||He.MozWebSocket;class gu extends pu{createSocket(t,r,n){return go?new lr(t,r,n):r?new lr(t,r):new lr(t)}doWrite(t,r){this.ws.send(r)}}class xu extends Gr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Qd(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=Xd();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const o=()=>{n.read().then(({done:l,value:d})=>{l||(this.onPacket(d),o())}).catch(l=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&Qs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const bu={websocket:gu,webtransport:xu,polling:fu},yu=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vu=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ar(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=yu.exec(e||""),o={},i=14;for(;i--;)o[vu[i]]=a[i]||"";return r!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=wu(o,o.path),o.queryKey=Nu(o,o.query),o}function wu(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Nu(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,o){a&&(r[a]=o)}),r}const Er=typeof addEventListener=="function"&&typeof removeEventListener=="function",Is=[];Er&&addEventListener("offline",()=>{Is.forEach(e=>e())},!1);class yt extends Ee{constructor(t,r){if(super(),this.binaryType=eu,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Ar(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Ar(r.host).host);Zs(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iu(this.opts.query)),Er&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Is.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=uo,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&yt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",yt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=nu(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Qs(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:t,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(yt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Er&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Is.indexOf(this._offlineEventListener);n!==-1&&Is.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}yt.protocol=uo;class ju extends yt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;yt.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;yt.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function o(){n||(n=!0,h(),r.close(),r=null)}const i=m=>{const f=new Error("probe error: "+m);f.transport=r.name,o(),this.emitReserved("upgradeError",f)};function l(){i("transport closed")}function d(){i("socket closed")}function u(m){r&&m.name!==r.name&&o()}const h=()=>{r.removeListener("open",a),r.removeListener("error",i),r.removeListener("close",l),this.off("close",d),this.off("upgrading",u)};r.once("open",a),r.once("error",i),r.once("close",l),this.once("close",d),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let ku=class extends ju{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>bu[a]).filter(a=>!!a)),super(t,n)}};function Su(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Ar(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const Cu=typeof ArrayBuffer=="function",Pu=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,xo=Object.prototype.toString,_u=typeof Blob=="function"||typeof Blob<"u"&&xo.call(Blob)==="[object BlobConstructor]",Du=typeof File=="function"||typeof File<"u"&&xo.call(File)==="[object FileConstructor]";function Kr(e){return Cu&&(e instanceof ArrayBuffer||Pu(e))||_u&&e instanceof Blob||Du&&e instanceof File}function Rs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Rs(e[r]))return!0;return!1}if(Kr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Rs(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Rs(e[r]))return!0;return!1}function Tu(e){const t=[],r=e.data,n=e;return n.data=Mr(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Mr(e,t){if(!e)return e;if(Kr(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Mr(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Mr(e[n],t));return r}return e}function Au(e,t){return e.data=Or(e.data,t),delete e.attachments,e}function Or(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Or(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Or(e[r],t));return e}const Eu=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Mu=5;var we;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(we||(we={}));class Ou{constructor(t){this.replacer=t}encode(t){return(t.type===we.EVENT||t.type===we.ACK)&&Rs(t)?this.encodeAsBinary({type:t.type===we.EVENT?we.BINARY_EVENT:we.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===we.BINARY_EVENT||t.type===we.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Tu(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function Tn(e){return Object.prototype.toString.call(e)==="[object Object]"}class Jr extends Ee{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===we.BINARY_EVENT;n||r.type===we.BINARY_ACK?(r.type=n?we.EVENT:we.ACK,this.reconstructor=new Iu(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Kr(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(we[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===we.BINARY_EVENT||n.type===we.BINARY_ACK){const o=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const i=t.substring(o,r);if(i!=Number(i)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(t.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(o,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const o=r+1;for(;++r;){const i=t.charAt(r);if(i==null||Number(i)!=i){--r;break}if(r===t.length)break}n.id=Number(t.substring(o,r+1))}if(t.charAt(++r)){const o=this.tryParse(t.substr(r));if(Jr.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case we.CONNECT:return Tn(r);case we.DISCONNECT:return r===void 0;case we.CONNECT_ERROR:return typeof r=="string"||Tn(r);case we.EVENT:case we.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Eu.indexOf(r[0])===-1);case we.ACK:case we.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Iu{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Au(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ru=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Jr,Encoder:Ou,get PacketType(){return we},protocol:Mu},Symbol.toStringTag,{value:"Module"}));function Je(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Lu=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bo extends Ee{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Je(t,"open",this.onopen.bind(this)),Je(t,"packet",this.onpacket.bind(this)),Je(t,"error",this.onerror.bind(this)),Je(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,o;if(Lu.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:we.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const h=this.ids++,m=r.pop();this._registerAckCallback(h,m),i.id=h}const l=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(d?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},a),i=(...l)=>{this.io.clearTimeoutFn(o),r.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...r){return new Promise((n,a)=>{const o=(i,l)=>i?a(i):n(l);o.withError=!0,r.push(o),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...o)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:we.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case we.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case we.EVENT:case we.BINARY_EVENT:this.onevent(t);break;case we.ACK:case we.BINARY_ACK:this.onack(t);break;case we.DISCONNECT:this.ondisconnect();break;case we.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:we.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:we.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function qt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}qt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};qt.prototype.reset=function(){this.attempts=0};qt.prototype.setMin=function(e){this.ms=e};qt.prototype.setMax=function(e){this.max=e};qt.prototype.setJitter=function(e){this.jitter=e};class Ir extends Ee{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Zs(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new qt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||Ru;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new ku(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Je(r,"open",function(){n.onopen(),t&&t()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=Je(r,"error",o);if(this._timeout!==!1){const l=this._timeout,d=this.setTimeoutFn(()=>{a(),o(new Error("timeout")),r.close()},l);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Je(t,"ping",this.onping.bind(this)),Je(t,"data",this.ondata.bind(this)),Je(t,"error",this.onerror.bind(this)),Je(t,"close",this.onclose.bind(this)),Je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Qs(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new bo(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Jt={};function Ls(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Su(e,t.path||"/socket.io"),n=r.source,a=r.id,o=r.path,i=Jt[a]&&o in Jt[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let d;return l?d=new Ir(n,t):(Jt[a]||(Jt[a]=new Ir(n,t)),d=Jt[a]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Ls,{Manager:Ir,Socket:bo,io:Ls,connect:Ls});class Bu{socket=null;connecting=!1;listeners=new Map;subscribedSymbols=new Set;subscribedChannels=new Set;heartbeatTimer=null;reconnectDelay=500;connect(){if(this.socket){this.socket.connected||this.socket.connect();return}if(this.connecting)return;this.connecting=!0;const t=Ge();let n="https://api.novapip.io";if(typeof window<"u"){const a=window.location.protocol==="https:";n.startsWith("ws://")?n=a?n.replace("ws://","https://"):n.replace("ws://","http://"):n.startsWith("http://")?n=a?n.replace("http://","https://"):n:n.startsWith("wss://")||n.startsWith("https://")?n=n:n=(a?"https://":"http://")+n.replace(/^\/+/,"")}else/^https?:\/\//.test(n)||(n="https://"+n.replace(/^\/+/,""));this.socket=Ls(n,{path:"/socket.io",transports:["websocket","polling"],auth:{token:t},reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:this.reconnectDelay,reconnectionDelayMax:5e3,withCredentials:!1}),this.socket.onAny((a,o)=>{const i=this.listeners.get(a);if(i)for(const d of i)d(o);const l=this.listeners.get("*");if(l)for(const d of l)d({event:a,payload:o})}),this.socket.on("connect",()=>{this.reconnectDelay=500,this.connecting=!1,this.refreshAuthToken(),this.startHeartbeat(),this.resubscribeAll()}),this.socket.on("disconnect",()=>{this.stopHeartbeat()}),this.socket.io.on("reconnect_attempt",()=>{this.reconnectDelay=Math.min(this.reconnectDelay*1.5,5e3)}),this.socket.on("connect_error",()=>{this.reconnectDelay=Math.min(this.reconnectDelay*1.5,5e3),this.refreshAuthToken()})}disconnect(){this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect(),this.socket=null),this.stopHeartbeat(),this.listeners.clear(),this.subscribedSymbols.clear(),this.subscribedChannels.clear()}on(t,r){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(r)}off(t,r){const n=this.listeners.get(t);n&&n.delete(r)}onAny(t){this.listeners.has("*")||this.listeners.set("*",new Set),this.listeners.get("*").add(t)}offAny(t){const r=this.listeners.get("*");r&&r.delete(t)}subscribe(t){if(!this.socket)return;const r=(t.symbols||(t.symbol?[t.symbol]:[])).map(i=>i.toUpperCase()),n=t.channels||[],a=r.filter(i=>!this.subscribedSymbols.has(i)),o=n.filter(i=>!this.subscribedChannels.has(i));a.length===0&&o.length===0||(a.forEach(i=>this.subscribedSymbols.add(i)),o.forEach(i=>this.subscribedChannels.add(i)),this.socket.emit("subscribe",{...t,symbols:[...a],channels:[...o]}))}unsubscribe(t){if(!this.socket)return;const r=(t.symbols||[]).map(a=>a.toUpperCase()),n=t.channels||[];r.forEach(a=>this.subscribedSymbols.delete(a)),n.forEach(a=>this.subscribedChannels.delete(a)),this.socket.emit("unsubscribe",{symbols:r,channels:n})}placeOrder(t){if(this.socket)try{const r=localStorage.getItem("mfapp.selectedAccountId"),n=r?{...t,accountId:r}:t;this.socket.emit("place_order",n)}catch{this.socket.emit("place_order",t)}}cancelOrder(t){this.socket&&this.socket.emit("cancel_order",t)}modifyOrder(t){this.socket&&this.socket.emit("modify_order",t)}startHeartbeat(){this.stopHeartbeat(),this.heartbeatTimer=window.setInterval(()=>{this.socket&&this.socket.emit("ping",{ts:Date.now()})},2e4)}stopHeartbeat(){this.heartbeatTimer&&(window.clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}resubscribeAll(){if(!this.socket)return;const t=[...this.subscribedSymbols],r=[...this.subscribedChannels];(t.length>0||r.length>0)&&this.socket.emit("subscribe",{symbols:t,channels:r})}refreshAuthToken(){if(this.socket)try{const t=Ge();this.socket.io.opts.auth={token:t}}catch{}}}const ge=new Bu;var Fu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$u=Fu.reduce((e,t)=>{const r=wa(`Primitive.${t}`),n=c.forwardRef((a,o)=>{const{asChild:i,...l}=a,d=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Wu="Label",yo=c.forwardRef((e,t)=>s.jsx($u.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));yo.displayName=Wu;var Uu=yo;function _e({className:e,...t}){return s.jsx(Uu,{"data-slot":"label",className:ie("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function us({message:e,type:t,onClose:r,duration:n=3e3}){c.useEffect(()=>{const l=setTimeout(()=>{r()},n);return()=>clearTimeout(l)},[n,r]);const a={success:Lt,error:wl,info:$e},o={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"},i=a[t];return s.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[100] animate-slide-up",children:s.jsxs("div",{className:`${o[t]} text-white rounded-lg shadow-lg p-4 pr-12 min-w-[300px] max-w-md`,children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(i,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm",children:e})]}),s.jsx("button",{onClick:r,className:"absolute top-3 right-3 p-1 hover:bg-white/20 rounded transition-colors",children:s.jsx(ct,{className:"w-4 h-4"})})]})})}function Ye({className:e,size:t=20}){const r=`${t}px`;return s.jsx("div",{"aria-label":"Loading",role:"status",className:ie("inline-block animate-spin",e),style:{width:r,height:r,borderWidth:2,borderStyle:"solid",borderColor:"currentColor",borderTopColor:"transparent",borderRadius:9999}})}function zu({open:e,onOpenChange:t,positionId:r,onClosed:n}){const[a,o]=c.useState(!1),[i,l]=c.useState(null),[d,u]=c.useState(null),[h,m]=c.useState(null),[f,g]=c.useState("success"),x=D=>{if(!D)return"Request failed";const ae=D?.error?.details||D?.data?.details;if(Array.isArray(ae)&&ae.length)return ae.map(N=>`${String(N.field||"").trim()}: ${String(N.message||"").trim()}`).join("; ");const xe=D?.error?.message||D?.data?.message||D?.data?.error?.message||D?.message;return typeof xe=="string"&&xe.trim().length>0?xe:"Request failed"},[y,j]=c.useState(""),[v,T]=c.useState(""),[Q,fe]=c.useState("manual"),[Y,W]=c.useState(""),[I,M]=c.useState(""),[R,le]=c.useState(""),[J,X]=c.useState(!1),[U,de]=c.useState(!1),[ee,he]=c.useState(!1),[_,k]=c.useState(!1),[H,Ne]=c.useState(null),[te,p]=c.useState(null),[C,E]=c.useState("none"),[O,b]=c.useState(!1),[S,P]=c.useState(!1),[A,re]=c.useState(!1),[$,ne]=c.useState(!1),[me,B]=c.useState(!1),[F,Se]=c.useState(!1),G=c.useMemo(()=>{const D=typeof y=="number"?y:0,ae=String(d?.status||"").toLowerCase()==="closed";return D>0&&d&&D<=Number(d.volume||0)&&!ae},[y,d]);c.useEffect(()=>{!e||!r||(o(!0),l(null),Ps(r).then(D=>{u(D),j(D.volume)}).catch(D=>{l(typeof D?.message=="string"?D.message:"Failed to load position")}).finally(()=>o(!1)))},[e,r]);const K=c.useMemo(()=>d?ro({symbol:String(d.symbol),direction:String(d.direction),volume:Number(d.volume),openPrice:Number(d.openPrice),currentPrice:Number(d.currentPrice),unrealizedPL:Number(d.unrealizedPL??0),margin:Number(d.margin??0),pips:Number(d.pips??0),unrealizedPLPercent:Number(d.unrealizedPLPercent??0)}):null,[d]),be=c.useMemo(()=>{const D=typeof d?.takeProfit=="number"&&d?.takeProfit,ae=typeof d?.stopLoss=="number"&&d?.stopLoss;return!!(D||ae)},[d]),Z=A||be;c.useEffect(()=>{if(A&&d){const D=Number(d.currentPrice);(I===""||typeof I!="number")&&M(D),(Y===""||typeof Y!="number")&&W(D),me||B(!0),$||ne(!0)}},[A,d]),c.useEffect(()=>{if(!A||!d)return;const D=Number(d.currentPrice);_&&!J&&M(D),ee&&!U&&W(D)},[A,d?.currentPrice,_,ee,J,U]),c.useEffect(()=>{A&&(he(!1),k(!1),X(!1),de(!1),Ne(null),p(null))},[A]),c.useEffect(()=>{if(!e||!d?.symbol)return;ge.connect();const D=String(d.symbol).toUpperCase(),ae=N=>{const ye=String(N?.symbol||N?.s||"").toUpperCase();if(ye&&ye!==D)return;const w=N?.price??N?.currentPrice??N?.bid??N?.ask;typeof w=="number"&&!isNaN(w)&&u(ue=>ue&&{...ue,currentPrice:Number(w)})},xe=N=>{const ye=N?.event,w=N?.payload;w&&typeof ye=="string"&&/price|tick|quote/i.test(ye)&&ae(w)};return ge.on("prices",ae),ge.on("price_update",ae),ge.on("tick",ae),ge.onAny(xe),ge.subscribe({symbol:D,channels:["prices"]}),()=>{ge.off("prices",ae),ge.off("price_update",ae),ge.off("tick",ae),ge.offAny(xe),ge.unsubscribe({symbols:[D],channels:["prices"]})}},[e,d?.symbol]),c.useEffect(()=>{if(!e||!r)return;let D=Date.now();const ae=window.setInterval(async()=>{if(Date.now()-D>5e3)try{const ye=await Ps(r);u(w=>w?{...w,currentPrice:Number(ye.currentPrice)}:ye),D=Date.now()}catch{}},3e3);return()=>window.clearInterval(ae)},[e,r]);const De=s.jsxs("div",{className:"space-y-4",children:[h&&s.jsx(us,{message:h,type:f,onClose:()=>m(null)}),a&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3 mx-auto animate-pulse"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{className:"h-12 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-12 bg-gray-200 rounded animate-pulse"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})]})]}),i&&s.jsx("div",{className:"p-3 rounded bg-red-50 border border-red-200 text-sm text-red-700",children:i}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsx("div",{className:`flex h-8 items-center justify-center rounded-full px-4 ${K&&K.calculated.unrealizedPL>=0?"bg-green-100":"bg-red-100"}`,children:s.jsx("p",{className:`${K&&K.calculated.unrealizedPL>=0?"text-green-700":"text-red-700"} text-sm font-medium`,children:K&&K.calculated.unrealizedPL>=0?"In Profit":"In Loss"})})}),s.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[s.jsx("h1",{className:`${K&&K.calculated.unrealizedPL>=0?"text-green-600":"text-red-600"} text-[32px] font-bold leading-tight pb-1`,children:Ae(Number(K?.calculated.unrealizedPL||0))}),s.jsxs("p",{className:"text-gray-600 text-base",children:["Current Market Price: ",lt(Number(d.currentPrice),d.symbol)]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between gap-x-6 py-3 px-3 border-b border-gray-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Open Price"}),s.jsx("p",{className:"text-gray-900 text-sm font-medium text-right",children:lt(Number(d.openPrice),d.symbol)})]}),s.jsxs("div",{className:"flex justify-between gap-x-6 py-3 px-3 border-b border-gray-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Volume"}),s.jsxs("p",{className:"text-gray-900 text-sm font-medium text-right",children:[Number(d.volume)," Lot"]})]}),s.jsxs("div",{className:"flex justify-between gap-x-6 py-3 px-3 border-b border-gray-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Margin"}),s.jsx("p",{className:"text-gray-900 text-sm font-medium text-right",children:Ae(Number(d.margin))})]}),s.jsxs("div",{className:"flex justify-between gap-x-6 py-3 px-3 border-b border-gray-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Total Fees"}),s.jsx("p",{className:"text-gray-900 text-sm font-medium text-right",children:Ae(Number(d.costs?.total||0))})]}),s.jsxs("div",{className:"flex justify-between gap-x-6 py-3 px-3",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Open Timestamp"}),s.jsx("p",{className:"text-gray-900 text-sm font-medium text-right",children:d.openedAt?Vr(String(d.openedAt)):"-"})]})]}),Z&&s.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[s.jsx("h3",{className:"text-gray-900 text-lg font-bold pb-4",children:"Risk Management"}),A?s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex gap-2 pb-2",children:[s.jsx(L,{variant:ee?"default":"outline",className:"h-10",onClick:()=>he(D=>!D),children:"Set SL"}),s.jsx(L,{variant:_?"default":"outline",className:"h-10",onClick:()=>k(D=>!D),children:"Set TP"})]}),s.jsxs("div",{className:_?"flex flex-col":"hidden",children:[s.jsx(_e,{className:"text-gray-600 text-sm pb-1",htmlFor:"take-profit",children:"Take Profit"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",className:"h-12 w-12",onClick:()=>{const D=Bt(String(d?.symbol||""));M(typeof I=="number"?I-D:Number(d?.currentPrice)-D),X(!0),p(null)},children:""}),s.jsx(ve,{id:"take-profit",type:"number",inputMode:"decimal",placeholder:"Set Take Profit",value:I===""?"":String(I),onChange:D=>{M(D.target.value?Number(D.target.value):""),X(!0),p(null)},className:"flex-1 h-12 rounded-lg bg-white border border-gray-200 px-4 text-green-600 text-base font-medium text-right focus:outline-none focus:ring-2 focus:ring-blue-600"}),s.jsx(L,{variant:"outline",className:"h-12 w-12",onClick:()=>{const D=Bt(String(d?.symbol||""));M(typeof I=="number"?I+D:Number(d?.currentPrice)+D),X(!0),p(null)},children:"+"})]}),te&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:te})]}),s.jsxs("div",{className:ee?"flex flex-col":"hidden",children:[s.jsx(_e,{className:"text-gray-600 text-sm pb-1",htmlFor:"stop-loss",children:"Stop Loss"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L,{variant:"outline",className:"h-12 w-12",onClick:()=>{const D=Bt(String(d?.symbol||""));W(typeof Y=="number"?Y-D:Number(d?.currentPrice)-D),de(!0),Ne(null)},children:""}),s.jsx(ve,{id:"stop-loss",type:"number",inputMode:"decimal",placeholder:"Set Stop Loss",value:Y===""?"":String(Y),onChange:D=>{W(D.target.value?Number(D.target.value):""),de(!0),Ne(null)},className:"flex-1 h-12 rounded-lg bg-white border border-gray-200 px-4 text-red-600 text-base font-medium text-right focus:outline-none focus:ring-2 focus:ring-blue-600"}),s.jsx(L,{variant:"outline",className:"h-12 w-12",onClick:()=>{const D=Bt(String(d?.symbol||""));W(typeof Y=="number"?Y+D:Number(d?.currentPrice)+D),de(!0),Ne(null)},children:"+"})]}),H&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:H})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between gap-x-6 py-2.5 border-b border-gray-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Take Profit"}),s.jsx("p",{className:"text-green-600 text-sm font-medium",children:typeof d.takeProfit=="number"&&d.takeProfit?lt(Number(d.takeProfit),d.symbol):"-"})]}),s.jsxs("div",{className:"flex justify-between gap-x-6 py-2.5",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Stop Loss"}),s.jsx("p",{className:"text-red-600 text-sm font-medium",children:typeof d.stopLoss=="number"&&d.stopLoss?lt(Number(d.stopLoss),d.symbol):"-"})]})]})]})]})]});return s.jsx(Qa,{open:e,onOpenChange:t,children:s.jsxs(qr,{fullscreen:!0,className:"p-0",children:[s.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`${String(d?.direction).toLowerCase()==="buy"?"text-green-600":"text-red-600"}`,children:String(d?.direction).toLowerCase()==="buy"?"":""}),s.jsx("h2",{className:"text-lg font-bold text-gray-700",children:d?.symbol})]}),s.jsx(L,{variant:"ghost",className:"h-10 w-10 bg-transparent hover:bg-transparent text-gray-600 hover:text-gray-800",onClick:()=>t(!1),children:""})]}),s.jsx("div",{className:"p-4 pb-24 overflow-y-auto h-[calc(100vh-8rem)]",children:De}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200",children:s.jsx("div",{className:"flex w-full items-center gap-3",children:A?s.jsxs(s.Fragment,{children:[s.jsx(L,{variant:"outline",className:"flex-1 h-12 rounded-lg border-gray-300 text-gray-700",onClick:()=>re(!1),children:"Cancel"}),s.jsx(L,{className:"flex-1 h-12 rounded-lg bg-blue-600 text-white hover:bg-blue-700",disabled:S||!ee&&!_,onClick:async()=>{if(r){P(!0),l(null);try{await Ud(r,{stopLoss:ee&&typeof Y=="number"?Y:void 0,takeProfit:_&&typeof I=="number"?I:void 0});const D=await Ps(r);u(D),g("success");const ae=_&&ee?"Stop Loss and Take Profit updated":_?`Take Profit set to ${lt(Number(I),String(D.symbol))}`:ee?`Stop Loss set to ${lt(Number(Y),String(D.symbol))}`:"Position modified successfully";m(ae),re(!1)}catch(D){const ae=x(D),xe=D?.error?.details||D?.data?.details;if(Array.isArray(xe)){const N=xe.find(w=>String(w.field||"").toLowerCase().includes("stoploss"))?.message,ye=xe.find(w=>String(w.field||"").toLowerCase().includes("takeprofit"))?.message;N&&Ne(String(N)),ye&&p(String(ye))}else{const N=String(ae||"").toLowerCase();(N.includes("stop loss")||N.includes("stoploss"))&&Ne(ae),(N.includes("take profit")||N.includes("takeprofit")||N.includes("tp"))&&p(ae)}l(ae),g("error"),m(ae)}finally{P(!1)}}},children:"Apply Changes"})]}):s.jsxs(s.Fragment,{children:[s.jsx(L,{className:"flex-1 h-12 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:()=>re(!0),children:"Modify Position"}),s.jsx(L,{className:"flex-1 h-12 rounded-lg bg-gray-200 text-gray-900 hover:bg-gray-300",disabled:!G||O,onClick:async()=>{if(r){b(!0),l(null);try{await Wd(r,{volume:typeof y=="number"?y:0,price:typeof v=="number"?v:0,reason:Q});const D=await Ps(r);if(u(D),g("success"),m("Your order has been successfully closed"),String(D?.status||"").toLowerCase()==="closed"){try{n&&n(r)}catch{}try{window.dispatchEvent(new CustomEvent("position.closed",{detail:{id:r}}))}catch{}window.setTimeout(()=>t(!1),1e3)}}catch(D){const ae=typeof D?.message=="string"?D.message:"";if(ae&&ae.toLowerCase().includes("already closed"))l("Position is already closed"),g("info"),m("Position is already closed");else{const xe=x(D);l(xe),g("error"),m(xe)}}finally{b(!1)}}},children:O?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ye,{size:16}),s.jsx("span",{children:"Closing..."})]}):"Close Position"})]})})})]})})}let cr=null,An=0;function vo(){return cr||(cr=new(window.AudioContext||window.webkitAudioContext)),cr}function ze(e,t,r,n,a="sine"){const o=vo(),i=o.createOscillator(),l=o.createGain();i.type=a,i.frequency.setValueAtTime(e,n),l.gain.setValueAtTime(0,n),l.gain.linearRampToValueAtTime(r,n+.02),l.gain.linearRampToValueAtTime(0,n+t),i.connect(l),l.connect(o.destination),i.start(n),i.stop(n+t)}function Xt(e){try{if(localStorage.getItem("mfapp.soundEnabled")==="false")return;const r=vo(),n=Math.max(r.currentTime,An+.01);An=n,e==="add"?ze(920,.12,.08,n):e==="remove"?ze(340,.12,.08,n):e==="order-confirm"?ze(780,.14,.09,n):e==="order-success"?(ze(900,.12,.08,n),ze(1100,.12,.08,n+.14)):e==="order-error"?ze(260,.18,.09,n,"triangle"):e==="position-opened"?(ze(600,.1,.08,n),ze(800,.1,.08,n+.12)):e==="position-closed"?(ze(800,.1,.08,n),ze(600,.1,.08,n+.12)):e==="warning"&&(ze(700,.09,.08,n),ze(700,.09,.08,n+.14),ze(700,.09,.08,n+.28))}catch{}}function qu({userName:e,onNavigate:t}){const[r,n]=c.useState(e),[a,o]=c.useState(void 0),{selectedAccountId:i,setSelectedAccountId:l,accounts:d,setAccounts:u}=Ga(),h=d.find(b=>b._id===i)||d[0],[m,f]=c.useState([]),[g,x]=c.useState(0),[y,j]=c.useState(!0),[v,T]=c.useState(null),[Q,fe]=c.useState([]),[Y,W]=c.useState(!1),[I,M]=c.useState(null),R=(m||[]).filter(b=>{if(!h)return!0;const S=String(h._id||""),P=String(b.accountId?._id||b.account?.id||"");return S&&P&&S===P}),le=R.length;R.reduce((b,S)=>{const P=S.profitLoss??S.unrealizedPL??0;return b+(typeof P=="number"?P:0)},0);const J=(m||[]).reduce((b,S)=>{const P=typeof S.unrealizedPL=="number"?Number(S.unrealizedPL):null;if(P!=null)return b+P;const A=Number(S.openPrice),re=Number(S.currentPrice??A),$=Number(S.volume),ne=Dr(String(S.symbol),String(S.direction),A,re,$);return b+(isFinite(ne)?ne:0)},0),X=(m||[]).reduce((b,S)=>{const P=S.margin??0;return b+(typeof P=="number"?P:0)},0),U=X>0?X:h?.equity||0,de=U>0?J/U*100:0,[ee,he]=c.useState(!1),[_,k]=c.useState(!1),[H,Ne]=c.useState(!1),[te,p]=c.useState(3),[C,E]=c.useState(0),O=()=>{const b=new Date().getHours();return b<12?"Good Morning":b<18?"Good Afternoon":"Good Evening"};return c.useEffect(()=>{let b=!0;return(async()=>{try{const S=await ms();if(!b)return;const P=S.firstName||S.email||r;n(P),o(S.kycStatus);const A=await so("active");if(!b)return;u(A),(i?A.some(F=>String(F._id)===String(i)):!1)||(A.length===1?l(A[0]?._id||null):l(null)),E(1);const $=setInterval(()=>{E(F=>Math.min(A?.length||1,F+1))},250);setTimeout(()=>clearInterval($),2e3);const ne=await $d({page:1,limit:20,sortBy:"createdAt",sortOrder:"desc"}),me=await qd(),B=await zd({page:1,limit:50});if(!b)return;f(ne),fe(me),x(B)}catch(S){T(S?.message||"Failed to load data")}finally{j(!1),setTimeout(()=>{he(!0),k(!0),Ne(!0)},200)}})(),()=>{b=!1}},[]),c.useEffect(()=>{const b=new IntersectionObserver(P=>{for(const A of P)A.isIntersecting&&p(re=>re+3)},{rootMargin:"120px"}),S=document.getElementById("positions-sentinel");return S&&b.observe(S),()=>b.disconnect()},[R.length]),c.useEffect(()=>{ge.connect(),ge.subscribe({channels:["account"]});const b=P=>{u(A=>{if(!A||A.length===0)return A;const re=String(P.accountId||P._id||""),$=A.findIndex(B=>String(B._id)===re);if($===-1)return A;const ne=[...A],me=ne[$];return ne[$]={...me,balance:typeof P.balance=="number"?P.balance:me.balance,equity:typeof P.equity=="number"?P.equity:typeof P.balanceLive=="number"?P.balanceLive:me.equity,freeMargin:typeof P.freeMargin=="number"?P.freeMargin:typeof P.availableBalance=="number"?P.availableBalance:me.freeMargin,margin:typeof P.marginUsed=="number"?P.marginUsed:me.margin,marginLevel:typeof P.marginLevel=="number"?Number(P.marginLevel.toFixed?P.marginLevel.toFixed(2):P.marginLevel):me.marginLevel},ne})},S=P=>{P&&P.type==="margin_call"&&(T("Margin call risk detected"),Xt("warning"))};return ge.on("balance_update",b),ge.on("notification",S),()=>{ge.off("balance_update",b),ge.off("notification",S)}},[]),c.useEffect(()=>{const b=(Q||[]).map(G=>G.symbol.toUpperCase()),S=(m||[]).map(G=>String(G.symbol||"").toUpperCase()),P=Array.from(new Set([...b,...S]));if(P.length===0)return;ge.connect(),ge.subscribe({symbols:P,channels:["positions"]});const A={};let re=null;const $=()=>{fe(G=>{if(!G||G.length===0)return G;let K=G;for(const be of Object.keys(A)){const Z=A[be],De=K.findIndex(D=>D.symbol.toUpperCase()===be);if(De!==-1){const D=K[De],ae={...D,price:typeof Z.mid=="number"?Z.mid:typeof Z.bid=="number"?Z.bid:D.price,changePercent:typeof Z.changePercent=="number"?Z.changePercent:D.changePercent};K===G&&(K=[...G]),K[De]=ae}}return K}),f(G=>{if(!G||G.length===0)return G;let K=G;for(const be of Object.keys(A)){const Z=A[be],De=typeof Z.id=="string"?K.findIndex(xe=>String(xe.id||"")===Z.id):-1,D=typeof Z.positionId=="string"?K.findIndex(xe=>String(xe.positionId||"")===Z.positionId):-1,ae=[];if(De!==-1)ae.push(De);else if(D!==-1)ae.push(D);else{const xe=K.map((N,ye)=>({i:ye,s:String(N.symbol||"").toUpperCase()})).filter(({s:N})=>N===be).map(({i:N})=>N);ae.push(...xe)}if(ae.length>0){K===G&&(K=[...G]);for(const xe of ae){const N=K[xe],ye=typeof Z.currentPrice=="number"?Z.currentPrice:typeof Z.mid=="number"?Z.mid:typeof Z.bid=="number"?Z.bid:N.currentPrice,w=typeof Z.unrealizedPL=="number"?Z.unrealizedPL:N.unrealizedPL,ue=typeof Z.pipMovement=="number"?Z.pipMovement:N.pips,Ie=Number(N.margin||0),Nt=Ie>0&&typeof w=="number"?w/Ie*100:N.unrealizedPLPercent,vs=typeof Z.commission=="number"?Z.commission:N.commission,ws=typeof Z.swap=="number"?Z.swap:N.swap,Ze=typeof Z.spread=="number"?Z.spread:N.spread,ut=typeof Z.totalCosts=="number"?Z.totalCosts:N.totalCosts,Ke=Z.costs||N.costs,Yt=Ke?{commission:typeof Ke.commission=="number"?Ke.commission:vs,swap:typeof Ke.swap=="number"?Ke.swap:ws,spread:typeof Ke.spread=="number"?Ke.spread:Ze,total:typeof Ke.total=="number"?Ke.total:typeof ut=="number"?ut:void 0}:{commission:vs,swap:ws,spread:Ze,total:typeof ut=="number"?ut:void 0};K[xe]={...N,currentPrice:ye,unrealizedPL:w,pips:ue,unrealizedPLPercent:Nt,commission:Yt.commission,swap:Yt.swap,spread:Yt.spread,totalCosts:Yt.total,costs:Yt}}}}return K});for(const G of Object.keys(A))delete A[G];re=null},ne=G=>{const K=String(G.symbol||"").toUpperCase();A[K]={...A[K]||{},...G},re==null&&(re=requestAnimationFrame($))},me=G=>{const K=String(G.symbol||"").toUpperCase();A[K]={...A[K]||{},...G},re==null&&(re=requestAnimationFrame($))},B=G=>{const K=String(G&&(G.status||G.orderStatus)||"").toLowerCase();K.includes("execut")||K.includes("filled")?Xt("order-success"):(K.includes("cancel")||K.includes("reject"))&&Xt("order-error")},F=G=>{Xt("position-closed");const K=String(G?.id||G?._id||G?.positionId||"");K&&f(be=>be.filter(Z=>String(Z.id||Z._id)!==K))},Se=G=>{Xt("position-opened")};return ge.on("PRICE_UPDATE",ne),ge.on("PNL_UPDATE",me),ge.on("POSITION_UPDATE",me),ge.on("ORDER_UPDATE",B),ge.on("POSITION_CLOSED",F),ge.on("POSITION_OPENED",Se),()=>{ge.unsubscribe({symbols:P}),ge.off("PRICE_UPDATE",ne),ge.off("PNL_UPDATE",me),ge.off("POSITION_UPDATE",me),ge.off("ORDER_UPDATE",B),ge.off("POSITION_CLOSED",F),ge.off("POSITION_OPENED",Se),re!=null&&cancelAnimationFrame(re)}},[Q.map(b=>b.symbol).join(","),m.map(b=>String(b.symbol)).join(",")]),s.jsxs("div",{className:"pb-20 md:pb-8",children:[s.jsxs("div",{className:"px-4 pt-6 pb-4 bg-gradient-to-br from-blue-700 to-blue-900 text-white","aria-busy":!ee,"aria-live":"polite",children:[s.jsxs("h2",{className:"mb-1",children:[O(),", ",r]}),s.jsx("p",{className:"text-blue-100",children:"Welcome to your trading dashboard"}),a==="pending"&&s.jsx("div",{className:"mt-5 rounded-2xl border border-yellow-200 bg-gradient-to-br from-orange-50 to-yellow-50 shadow-sm p-5",role:"alert",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(ec,{className:"w-6 h-6 text-red-700"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-red-900 font-semibold",children:"Action required"}),s.jsx("p",{className:"text-sm text-yellow-800 leading-relaxed",children:"Please verify your account and complete your KYC"})]})]}),s.jsx("div",{className:"shrink-0",children:s.jsx(L,{onClick:()=>{try{localStorage.setItem("mfapp.settingsInitialSection","kyc")}catch{}t("settings")},className:"bg-yellow-600 hover:bg-yellow-700 text-white rounded-md px-4 py-2 shadow-sm",children:"Complete KYC"})})]})}),a==="processing"&&s.jsx("div",{className:"mt-5 rounded-2xl border border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-sm p-5",role:"status",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(jr,{className:"w-6 h-6 text-blue-700"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-blue-900 font-semibold",children:"Application under review"}),s.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:"Your KYC documents are being reviewed. Well notify you once verification is complete."})]})]})}),v&&s.jsx("div",{className:"mt-2 bg-white/10 text-white rounded px-3 py-2 text-sm",children:v})]}),s.jsxs("div",{className:"px-4 -mt-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-5 mb-4","aria-busy":!ee,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Account Balance"}),s.jsx("h1",{className:"text-gray-900",children:h&&C>0?Ae(h.balance,h.currency):""})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:()=>t("wallet-deposit"),className:"p-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors","aria-label":"Deposit",children:s.jsx(wr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>t("wallet-withdraw"),className:"p-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors","aria-label":"Withdraw",children:s.jsx(Nr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Equity"}),s.jsx("p",{className:"text-gray-900",children:h&&C>0?Ae(h.equity,h.currency):""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Free Margin"}),s.jsx("p",{className:"text-gray-900",children:h&&C>0?Ae(h.freeMargin,h.currency):""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Margin Level"}),s.jsxs("p",{className:`${h&&h.marginLevel>100?"text-green-600":"text-red-600"}`,children:[h&&C>0?h.marginLevel:"","%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Today's P&L"}),s.jsxs("p",{className:`text-lg ${J>=0?"text-green-600":"text-red-600"}`,children:[J>=0?"+":"",Ae(Math.abs(J),h?.currency||"USD")]}),s.jsxs("p",{className:`text-xs ${de>=0?"text-green-600":"text-red-600"}`,children:[de>=0?"+":"",Number(de).toFixed(2),"%"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Open Positions"}),s.jsx("p",{className:"text-lg text-gray-900",children:Number(le)}),s.jsx("button",{onClick:()=>t("portfolio"),className:"text-xs text-blue-700 hover:text-blue-800",children:"View all"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pending Orders"}),s.jsx("p",{className:"text-lg text-gray-900",children:Number(g)}),s.jsx("button",{onClick:()=>t("portfolio"),className:"text-xs text-blue-700 hover:text-blue-800",children:"View all"})]})]}),s.jsxs("div",{className:"mb-6","aria-busy":!ee,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-gray-900",children:"Watchlist"}),s.jsx("button",{onClick:()=>t("markets"),className:"text-sm text-blue-700 hover:text-blue-800",children:"View All"})]}),s.jsx("div",{className:"space-y-2",children:y?s.jsx("div",{className:"space-y-2 animate-pulse",children:[0,1,2].map(b=>s.jsx("div",{className:"w-full bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),s.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded"})]})]})},b))}):s.jsxs(s.Fragment,{children:[Q.map(b=>s.jsx("button",{onClick:()=>t("markets"),className:"w-full bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:(()=>{const S=b.symbol,P=typeof b.mid=="number"?b.mid:typeof b.rate=="number"?b.rate:typeof b.price=="number"?b.price:0,A=typeof b.changePercent=="number"?b.changePercent:typeof b.changePercent24h=="number"?b.changePercent24h:0;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-gray-900 mb-1",children:S}),s.jsx("p",{className:"text-xs text-gray-500",children:"Watchlist"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-gray-900 font-mono",children:lt(P,S)}),s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[A>=0?s.jsx(xt,{className:"w-3 h-3 text-green-600"}):s.jsx(ac,{className:"w-3 h-3 text-red-600"}),s.jsxs("span",{className:`text-xs ${A>=0?"text-green-600":"text-red-600"}`,children:[A>=0?"+":"",Number(A).toFixed(2),"%"]})]})]}),s.jsx("div",{className:"w-16 h-10",children:s.jsx("svg",{viewBox:"0 0 60 40",className:A>=0?"text-green-600":"text-red-600",children:s.jsx("polyline",{points:"0,30 10,25 20,28 30,20 40,22 50,15 60,10",fill:"none",stroke:"currentColor",strokeWidth:"2"})})})]})]})})()},b.symbol)),s.jsx("button",{onClick:()=>t("markets"),className:"w-full bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[s.jsx(Kl,{className:"w-5 h-5"}),s.jsx("span",{children:"Add to Watchlist"})]})})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-gray-900",children:"Open Positions"}),s.jsx("button",{onClick:()=>t("portfolio"),className:"text-sm text-blue-700 hover:text-blue-800",children:"View All"})]}),s.jsxs("div",{className:"space-y-2",children:[m.filter(b=>!h||b.account?.id===h._id||b.accountId?._id===h._id).slice(0,te).map(b=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm cursor-pointer",role:"button",onClick:()=>{M(String(b.id||b._id||b.positionId)),W(!0)},children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-900",children:b.symbol}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${b.direction==="buy"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:String(b.direction).toUpperCase()})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`${b.unrealizedPL>=0?"text-green-600":"text-red-600"}`,children:(()=>{const S=b.account?.currency||b.accountId?.currency||"USD",P=typeof b.unrealizedPL=="number"?b.unrealizedPL:Dr(b.symbol,b.direction,b.openPrice,b.currentPrice,b.volume),A=b.margin&&Number(b.margin)>0?P/Number(b.margin)*100:to(P,b.margin);return`${P>=0?"+":""}${Ae(Math.abs(P),S)}${A!=null?` (${A>=0?"+":""}${Number(A).toFixed(2)}%)`:""}`})()}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Pips ",(()=>{const S=typeof b.pips=="number"?Number(b.pips):null,P=S??eo(b.symbol,b.direction,b.openPrice,b.currentPrice);return(String(b.direction).toLowerCase()==="sell"?-P:P).toFixed(2)})()]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Lots ",b.volume]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Entry"}),s.jsx("p",{className:"text-gray-900 font-mono",children:lt(b.openPrice,b.symbol)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Current"}),s.jsx("p",{className:"text-gray-900 font-mono",children:lt(b.currentPrice,b.symbol)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Time"}),s.jsx("p",{className:"text-gray-900",children:Id(b.openedAt)})]})]})]},b.id||b._id||b.positionId)),m.length===0&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(xt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No open positions"}),s.jsx(L,{onClick:()=>t("trading"),className:"bg-blue-700 hover:bg-blue-800 text-white rounded-lg",children:"Start Trading"})]}),s.jsx("div",{id:"positions-sentinel",className:"h-8"})]})]}),s.jsxs("div",{className:"mb-6","aria-busy":!H,children:[s.jsx("h3",{className:"text-gray-900 mb-3",children:"Market Overview"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 animate-pulse",children:[s.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Top Gainer"}),s.jsx("p",{className:"text-green-900 mb-1",children:"USD/JPY"}),s.jsx("p",{className:"text-green-700",children:"+0.83%"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 animate-pulse",children:[s.jsx("p",{className:"text-xs text-red-700 mb-1",children:"Top Loser"}),s.jsx("p",{className:"text-red-900 mb-1",children:"AUD/USD"}),s.jsx("p",{className:"text-red-700",children:"-1.34%"})]})]})]})]}),s.jsx(zu,{open:Y,onOpenChange:W,positionId:I,onClosed:b=>{f(S=>S.filter(P=>String(P.id||P._id)!==String(b)))}})]})}async function Vu(e={}){const t=new URLSearchParams({page:String(e.page??1),limit:String(e.limit??50),sortBy:e.sortBy??"createdAt",sortOrder:e.sortOrder??"desc"});return((await Ja(`/api/v1/wallet/transactions?${t.toString()}`,{method:"GET",headers:ke()},2,250)).data?.transactions??[]).map(a=>{const o=a.status||(a.isCompleted?"completed":a.isPending?"pending":a.isFailed?"failed":a.isCancelled?"cancelled":a.isExpired?"expired":"completed"),i=V(a.amountInUSD??a.amount),l=V(a.feeInUSD??a.fee),d=i-(l||0);return{id:a.id||a._id||a.transactionId,type:String(a.type||"trade"),amount:i,currency:String(a.currency||(a.accountId?.currency??"USD")),netAmount:d,status:o,createdAt:String(a.createdAt),accountNumber:a.accountId?.accountNumber,symbol:a.metadata?.symbol,volume:V(a.metadata?.volume),price:V(a.metadata?.price),documentCount:V(a.documentCount)}})}async function Wg(e={}){const t=new URLSearchParams({page:String(e.page??1),limit:String(e.limit??25),sortBy:e.sortBy??"createdAt",sortOrder:e.sortOrder??"desc"});e.type&&t.set("type",e.type),e.status&&t.set("status",e.status),e.startDate&&t.set("startDate",e.startDate),e.endDate&&t.set("endDate",e.endDate);const n=(await Ja(`/api/v1/wallet/transactions?${t.toString()}`,{method:"GET",headers:ke()},2,250)).data||{};return{items:(n.transactions||[]).map(o=>{const i=o.status||(o.isCompleted?"completed":o.isPending?"pending":o.isFailed?"failed":o.isCancelled?"cancelled":o.isExpired?"expired":"completed"),l=V(o.amountInUSD??o.amount),d=V(o.feeInUSD??o.fee),u=l-(d||0);return{id:o.id||o._id||o.transactionId,type:String(o.type||"trade"),amount:l,currency:String(o.currency||(o.accountId?.currency??"USD")),netAmount:u,status:i,createdAt:String(o.createdAt),accountNumber:o.accountId?.accountNumber,symbol:o.metadata?.symbol,volume:V(o.metadata?.volume),price:V(o.metadata?.price),documentCount:V(o.documentCount)}}),pagination:n.pagination,summary:n.summary}}async function En(){const t=(await ce("/api/v1/wallet/balance",{method:"GET",headers:ke()})).data||{};return{balance:V(t.balance),totalDeposits:V(t.totalDeposits),totalWithdrawals:V(t.totalWithdrawals),pendingTransactions:V(t.pendingTransactions),availableToTransfer:V(t.availableToTransfer)}}async function Yu(e){return(await ce("/api/v1/wallet/transfer-to-account",{method:"POST",headers:ke(),body:JSON.stringify(e)})).data}async function Hu(e){return(await ce("/api/v1/wallet/transfer-from-account",{method:"POST",headers:ke(),body:JSON.stringify(e)})).data}async function Gu(e=!0){return(await ce(`/api/v1/payments/methods${e?"?includeDetails=true":""}`)).data}async function Ku(e="USD"){return(await ce(`/api/v1/payments/bank-details?currency=${encodeURIComponent(e)}`)).data}async function Ju(e="USDT",t="TRC20"){return(await ce(`/api/v1/payments/crypto-details?asset=${e}&chain=${t}`)).data}async function Mn(e){const t=new URLSearchParams({amount:String(e.amount),type:e.type,method:e.method,currency:e.currency||"USD"});return(await ce(`/api/v1/payments/calculate-fees?${t.toString()}`)).data}async function On(e){return(await ce("/api/v1/payments/deposit",{method:"POST",body:JSON.stringify(e)})).data}async function In(e){return(await ce("/api/v1/payments/withdraw",{method:"POST",body:JSON.stringify(e)})).data}async function Xu(e,t){return(await ce(`/api/v1/payments/transactions/${e}/submit-verification`,{method:"POST",body:JSON.stringify(t)})).data}function Oe({className:e}){return s.jsx("div",{className:ie("animate-pulse bg-gray-200 rounded",e),"aria-hidden":"true"})}function Qt({icon:e,title:t,message:r,actionLabel:n,onAction:a,className:o}){return s.jsxs("div",{className:ie("text-center py-12",o),role:"status","aria-live":"polite",children:[e,t?s.jsx("p",{className:"text-gray-900 mb-1",children:t}):null,r?s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:r}):null,n&&a?s.jsx(L,{onClick:a,className:"h-11 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:n}):null]})}function Qu({onNavigate:e}){const[t,r]=c.useState("overview"),[n,a]=c.useState("bank_transfer"),[o,i]=c.useState(""),[l,d]=c.useState(""),[u,h]=c.useState([]),[m,f]=c.useState({balance:0,availableToTransfer:0,pendingTransactions:0}),[g,x]=c.useState([]),[y,j]=c.useState(null),[v,T]=c.useState(null),[Q,fe]=c.useState(""),[Y,W]=c.useState(""),[I,M]=c.useState(null),[R,le]=c.useState(1),[J,X]=c.useState(null),[U,de]=c.useState(1),[ee,he]=c.useState("bank_transfer"),[_,k]=c.useState({bankName:"",accountNumber:"",routingNumber:"",swiftCode:"",accountHolderName:""}),[H,Ne]=c.useState({walletAddress:""}),[te,p]=c.useState(1),[C,E]=c.useState("wallet_to_account"),[O,b]=c.useState(""),[S,P]=c.useState([]),[A,re]=c.useState(""),[$,ne]=c.useState(""),[me,B]=c.useState(""),[F,Se]=c.useState(!1),[G,K]=c.useState(!1),[be,Z]=c.useState(!1),[De,D]=c.useState(!1),[ae,xe]=c.useState(!1),[N,ye]=c.useState(!0);return c.useEffect(()=>{(async()=>{try{const[w,ue,Ie,Nt]=await Promise.all([Vu({page:1,limit:5,sortBy:"createdAt",sortOrder:"desc"}),En(),Gu(!0),so("active")]);h(w),f({balance:ue.balance,availableToTransfer:ue.availableToTransfer,pendingTransactions:ue.pendingTransactions}),x(Ie);try{j(await Ku("INR"))}catch{}try{T(await Ju("USDT","TRC20"))}catch{}P(Nt)}catch{h([])}finally{ye(!1)}})()},[]),t==="deposit"?s.jsx("div",{className:"pb-20 md:pb-8",children:s.jsxs("div",{className:"p-4",children:[s.jsx("button",{onClick:()=>r("overview"),className:"text-blue-700 hover:text-blue-800 mb-4",children:" Back to Wallet"}),s.jsx("h2",{className:"text-gray-900 mb-2",children:"Deposit Funds"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-6",children:[s.jsx("span",{className:`${R>=1?"text-blue-700":""}`,children:"Method"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${R>=2?"text-blue-700":""}`,children:"Amount"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${R>=3?"text-blue-700":""}`,children:"Instructions"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${R>=4?"text-blue-700":""}`,children:"Confirm"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${R>=5?"text-blue-700":""}`,children:"Done"})]}),R===1&&s.jsxs("div",{className:"space-y-3 mb-6",children:[N&&s.jsx("div",{className:"space-y-2","aria-busy":"true","aria-live":"polite",children:Array.from({length:3}).map((w,ue)=>s.jsx("div",{className:"w-full p-4 rounded-lg border-2 border-transparent bg-white",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{className:"w-6 h-6 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Oe,{className:"h-4 w-1/3 mb-2"}),s.jsx(Oe,{className:"h-3 w-1/4"})]})]})},ue))}),!N&&g.length===0&&s.jsx(Qt,{title:"No payment methods",message:"No deposit methods are configured."}),!N&&g.map(w=>s.jsxs("button",{onClick:()=>a(w.id),className:`w-full flex items-center gap-3 p-4 rounded-lg border-2 transition-colors ${n===w.id?"border-blue-700 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[w.id==="bank_transfer"?s.jsx(pn,{className:"w-6 h-6 text-gray-700"}):w.id==="crypto"?s.jsx($s,{className:"w-6 h-6 text-gray-700"}):s.jsx(pa,{className:"w-6 h-6 text-gray-700"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-gray-900",children:w.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[w.processingTime??"","  Fee: ",typeof w.fees?.deposit=="string"?w.fees.deposit:w.fees?.deposit??0]})]})]},w.id))]}),R===2&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[s.jsx(_e,{htmlFor:"depositAmount",className:"text-gray-700 mb-2 block",children:"Deposit Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(ve,{id:"depositAmount",type:"number",value:o,onChange:w=>i(w.target.value),placeholder:"0.00",className:"pl-7 h-12 text-lg font-mono",min:"10"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Minimum deposit: $10"})]}),R===2&&s.jsx("div",{className:"grid grid-cols-4 gap-2 mb-6",children:[100,500,1e3,5e3].map(w=>s.jsxs("button",{onClick:()=>i(w.toString()),className:"py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-900 transition-colors",children:["$",w]},w))}),R===2&&s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(L,{className:"h-12 bg-gray-100 text-gray-900 hover:bg-gray-200",onClick:async()=>{if(o)try{Se(!0);const w=await Mn({amount:parseFloat(o),type:"deposit",method:n==="crypto"?"crypto":"bank_transfer",currency:n==="bank_transfer"?"INR":"USD"});M(w)}catch{}finally{Se(!1)}},children:F?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ye,{size:14}),s.jsx("span",{children:"Previewing..."})]}):"Preview Fees"}),I&&s.jsxs("div",{className:"text-sm text-gray-700",children:["Fee: ",I.fee,"  Total: ",I.total]})]}),R===2&&s.jsx(L,{className:"w-full h-12 bg-green-600 hover:bg-green-700 text-white rounded-lg",disabled:!o||parseFloat(o)<10,onClick:()=>le(3),children:"Continue"}),R===3&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 border",children:[n==="bank_transfer"&&N&&s.jsxs("div",{className:"space-y-2","aria-busy":"true","aria-live":"polite",children:[s.jsx(Oe,{className:"h-4 w-1/4"}),s.jsx(Oe,{className:"h-3 w-1/3"})]}),n==="bank_transfer"&&!N&&!y&&s.jsx(Qt,{title:"Bank details unavailable",message:"Please try crypto deposit or contact support."}),n==="bank_transfer"&&y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-gray-900",children:"Bank Details"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y.bankName,"  ",y.accountNumber]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{className:"bg-gray-100 text-gray-900 hover:bg-gray-200",onClick:()=>{navigator.clipboard.writeText(`${y.bankName} ${y.accountNumber}`),X({message:"Copied bank details",type:"info"})},children:"Copy"}),s.jsx(L,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:async()=>{try{K(!0);const w=parseFloat(o),ue=await On({amount:w,currency:"INR",paymentMethod:"banktransfer",paymentDetails:{accountHolderName:"Your Name",bankName:y?.bankName||"HDFC",accountNumber:"XXXX",routingNumber:y?.routingNumber||"IFSC",swiftCode:y?.swiftCode||"HDFCINBB"}});ue?.transaction?.transactionId?(fe(ue.transaction.transactionId),X({message:"Deposit created",type:"success"}),le(4)):X({message:"Deposit creation failed",type:"error"})}catch{X({message:"Deposit creation failed",type:"error"})}finally{K(!1)}},children:G?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ye,{size:14}),s.jsx("span",{children:"Processing..."})]}):"I have paid"})]})]}),n==="crypto"&&N&&s.jsxs("div",{className:"space-y-2","aria-busy":"true","aria-live":"polite",children:[s.jsx(Oe,{className:"h-4 w-1/3"}),s.jsx(Oe,{className:"h-3 w-1/2"})]}),n==="crypto"&&!N&&!v&&s.jsx(Qt,{title:"Crypto address unavailable",message:"Please choose bank transfer or try again later."}),n==="crypto"&&v&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-gray-900",children:"USDT TRC20 Address"}),s.jsx("p",{className:"text-sm font-mono text-gray-700 break-all",children:v.address}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{className:"bg-gray-100 text-gray-900 hover:bg-gray-200",onClick:()=>{navigator.clipboard.writeText(v.address),X({message:"Address copied",type:"info"})},children:"Copy"}),s.jsx(L,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:async()=>{try{K(!0);const w=parseFloat(o),ue=await On({amount:w,paymentMethod:"usdt_trc20",paymentDetails:{asset:"USDT",chain:"TRC20"}});ue?.transaction?.transactionId?(fe(ue.transaction.transactionId),X({message:"Deposit created",type:"success"}),le(4)):X({message:"Deposit creation failed",type:"error"})}catch{X({message:"Deposit creation failed",type:"error"})}finally{K(!1)}},children:G?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ye,{size:14}),s.jsx("span",{children:"Processing..."})]}):"I have transferred"})]})]})]}),R===4&&s.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 border",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(_e,{className:"text-gray-700",children:n==="crypto"?"TRX ID":"UTR Number"}),s.jsx(ve,{type:"text",value:Y,onChange:w=>W(w.target.value),placeholder:n==="crypto"?"Enter TRX transaction ID":"Enter UTR number"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(L,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:async()=>{if(!Q){X({message:"No transaction to verify",type:"error"});return}try{Z(!0);const w=await Xu(Q,{utrNumber:Y,notes:"Paid"});X({message:"Verification submitted",type:"success"}),le(5)}catch{X({message:"Verification failed",type:"error"})}finally{Z(!1)}},children:be?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ye,{size:14}),s.jsx("span",{children:"Submitting..."})]}):"Submit Verification"})})]})}),R===5&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-green-900",children:"Deposit flow completed"}),s.jsxs("p",{className:"text-sm text-green-800",children:["Transaction: ",Q||"N/A"]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(L,{className:"bg-white text-gray-900 border",onClick:()=>r("overview"),children:"Back to Wallet"}),s.jsx(L,{className:"bg-gray-100 text-gray-900",onClick:()=>{le(1),i(""),M(null),W(""),fe("")},children:"New Deposit"})]})]}),s.jsxs("div",{className:"mt-6 flex justify-between",children:[R>1&&R<5&&s.jsx(L,{className:"bg-white text-gray-900 border",onClick:()=>le(R-1),children:"Back"}),R===1&&s.jsx(L,{className:"bg-blue-700 hover:bg-blue-800 text-white",onClick:()=>le(2),children:"Next"})]}),J&&s.jsx(us,{message:J.message,type:J.type,onClose:()=>X(null)})]})}):t==="withdraw"?s.jsx("div",{className:"pb-20 md:pb-8",children:s.jsxs("div",{className:"p-4",children:[s.jsx("button",{onClick:()=>r("overview"),className:"text-blue-700 hover:text-blue-800 mb-4",children:" Back to Wallet"}),s.jsx("h2",{className:"text-gray-900 mb-2",children:"Withdraw Funds"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[s.jsx("span",{className:`${U>=1?"text-blue-700":""}`,children:"Amount"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${U>=2?"text-blue-700":""}`,children:"Method"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${U>=3?"text-blue-700":""}`,children:"Destination"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${U>=4?"text-blue-700":""}`,children:"Confirm"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${U>=5?"text-blue-700":""}`,children:"Done"})]}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Available balance: ",Ae(m.availableToTransfer)]}),U===1&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[s.jsx(_e,{htmlFor:"withdrawAmount",className:"text-gray-700 mb-2 block",children:"Withdrawal Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(ve,{id:"withdrawAmount",type:"number",value:l,onChange:w=>d(w.target.value),placeholder:"0.00",className:"pl-7 h-12 text-lg font-mono",min:"10",max:m.availableToTransfer})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Minimum withdrawal: $10  Processing time: 1-2 business days"})]}),U===2&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6",children:[s.jsx(_e,{className:"text-gray-700 mb-3 block",children:"Withdraw method"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>he("bank_transfer"),className:`w-full flex items-center justify-between p-3 border rounded-lg ${ee==="bank_transfer"?"border-blue-700":"border-gray-200 hover:border-blue-700"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pn,{className:"w-5 h-5 text-gray-700"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-gray-900",children:"Bank Transfer (INR)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Fee: 25 eq"})]})]})}),s.jsx("button",{onClick:()=>he("crypto"),className:`w-full flex items-center justify-between p-3 border rounded-lg ${ee==="crypto"?"border-blue-700":"border-gray-200 hover:border-blue-700"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($s,{className:"w-5 h-5 text-gray-700"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-gray-900",children:"USDT (TRC20)"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Network fee applies"})]})]})})]})]}),U<=3&&s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-orange-900",children:[s.jsx("strong",{children:"Important:"})," Withdrawals are processed within 1-2 business days. You'll receive an email confirmation once processed."]})}),U===1&&s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(L,{className:"h-12 bg-gray-100 text-gray-900 hover:bg-gray-200",onClick:async()=>{if(l)try{Se(!0);const w=await Mn({amount:parseFloat(l),type:"withdrawal",method:ee==="crypto"?"crypto":"bank_transfer",currency:ee==="bank_transfer"?"INR":"USD"});M(w)}catch{}finally{Se(!1)}},children:F?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ye,{size:14}),s.jsx("span",{children:"Previewing..."})]}):"Preview Fees"}),I&&s.jsxs("div",{className:"text-sm text-gray-700",children:["Fee: ",I.fee,"  Net: ",I.netAmount]})]}),U===3&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 border",children:[ee==="bank_transfer"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{className:"text-gray-700",children:"Bank Details"}),s.jsx(ve,{placeholder:"Bank Name",value:_.bankName,onChange:w=>k({..._,bankName:w.target.value})}),s.jsx(ve,{placeholder:"Account Number",value:_.accountNumber,onChange:w=>k({..._,accountNumber:w.target.value})}),s.jsx(ve,{placeholder:"IFSC / Routing",value:_.routingNumber,onChange:w=>k({..._,routingNumber:w.target.value})}),s.jsx(ve,{placeholder:"SWIFT Code",value:_.swiftCode,onChange:w=>k({..._,swiftCode:w.target.value})}),s.jsx(ve,{placeholder:"Account Holder Name",value:_.accountHolderName,onChange:w=>k({..._,accountHolderName:w.target.value})})]}),ee==="crypto"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{className:"text-gray-700",children:"USDT TRC20 Address"}),s.jsx(ve,{placeholder:"T...",value:H.walletAddress,onChange:w=>Ne({...H,walletAddress:w.target.value})})]})]}),U===4&&s.jsx(L,{className:"w-full h-12 bg-blue-700 hover:bg-blue-800 text-white rounded-lg",disabled:!l||parseFloat(l)<10||parseFloat(l)>m.availableToTransfer,onClick:async()=>{const w=parseFloat(l);try{D(!0);let ue;ee==="crypto"?ue=await In({amount:w,paymentMethod:"crypto",paymentDetails:{walletAddress:H.walletAddress,asset:"USDT",chain:"TRC20"}}):ue=await In({amount:w,currency:"INR",paymentMethod:"bank_transfer",paymentDetails:{bankName:_.bankName,accountNumber:_.accountNumber,routingNumber:_.routingNumber,swiftCode:_.swiftCode,accountHolderName:_.accountHolderName}}),X({message:"Withdrawal requested",type:"success"}),de(5)}catch{X({message:"Withdrawal failed",type:"error"})}finally{D(!1)}},children:De?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ye,{size:14}),s.jsx("span",{children:"Requesting..."})]}):"Request Withdrawal"}),s.jsxs("div",{className:"mt-6 flex justify-between",children:[U>1&&U<5&&s.jsx(L,{className:"bg-white text-gray-900 border",onClick:()=>de(U-1),children:"Back"}),U===1&&s.jsx(L,{className:"bg-blue-700 hover:bg-blue-800 text-white",disabled:!l||parseFloat(l)<10,onClick:()=>de(2),children:"Next"}),U===2&&s.jsx(L,{className:"bg-blue-700 hover:bg-blue-800 text-white",onClick:()=>de(3),children:"Next"}),U===3&&s.jsx(L,{className:"bg-blue-700 hover:bg-blue-800 text-white",onClick:()=>de(4),children:"Next"})]}),J&&s.jsx(us,{message:J.message,type:J.type,onClose:()=>X(null)})]})}):t==="transfer"?s.jsx("div",{className:"pb-20 md:pb-8",children:s.jsxs("div",{className:"p-4",children:[s.jsx("button",{onClick:()=>r("overview"),className:"text-blue-700 hover:text-blue-800 mb-4",children:" Back to Wallet"}),s.jsx("h2",{className:"text-gray-900 mb-2",children:"Transfer Funds"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-6",children:[s.jsx("span",{className:`${te>=1?"text-blue-700":""}`,children:"Direction"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${te>=2?"text-blue-700":""}`,children:"Amount"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${te>=3?"text-blue-700":""}`,children:"Account"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${te>=4?"text-blue-700":""}`,children:"Confirm"}),s.jsx("span",{children:""}),s.jsx("span",{className:`${te>=5?"text-blue-700":""}`,children:"Done"})]}),te===1&&s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("button",{onClick:()=>E("wallet_to_account"),className:`w-full flex items-center gap-3 p-4 rounded-lg border-2 transition-colors ${C==="wallet_to_account"?"border-blue-700 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-gray-900",children:"Wallet  Trading Account"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Instant internal transfer"})]})}),s.jsx("button",{onClick:()=>E("account_to_wallet"),className:`w-full flex items-center gap-3 p-4 rounded-lg border-2 transition-colors ${C==="account_to_wallet"?"border-blue-700 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-gray-900",children:"Trading Account  Wallet"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Subject to free margin"})]})})]}),te===2&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[s.jsx(_e,{className:"text-gray-700 mb-2 block",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(ve,{type:"number",value:O,onChange:w=>b(w.target.value),placeholder:"0.00",className:"pl-7 h-12 text-lg font-mono",min:"10"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Minimum transfer: $10"})]}),te===3&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6",children:[s.jsx(_e,{className:"text-gray-700 mb-3 block",children:"Select trading account"}),s.jsxs("div",{className:"space-y-2",children:[N&&s.jsx("div",{className:"space-y-2","aria-busy":"true","aria-live":"polite",children:Array.from({length:2}).map((w,ue)=>s.jsx("div",{className:"p-3 border rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{className:"h-5 w-5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Oe,{className:"h-4 w-1/3 mb-2"}),s.jsx(Oe,{className:"h-3 w-1/4"})]})]})},ue))}),!N&&S.length===0&&s.jsx(Qt,{title:"No accounts found",message:"Create a trading account to transfer funds."}),!N&&S.map(w=>s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>re(w._id),onKeyDown:ue=>{ue.key==="Enter"&&re(w._id)},className:`w-full flex items-center justify-between p-3 border rounded-lg cursor-pointer ${A===w._id?"border-blue-700":"border-gray-200 hover:border-blue-700"}`,children:[s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"text-gray-900",children:[w.accountNumber,"  ",w.accountType.toUpperCase()]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Balance: ",Ae(w.balance),"  Leverage: ",w.leverage,"  ",w.status]})]}),s.jsx("span",{className:"text-xs text-blue-700 underline",onClick:ue=>{ue.stopPropagation(),navigator.clipboard.writeText(w.accountNumber)},children:"Copy"})]},w._id))]}),s.jsxs("div",{className:"mt-3",children:[s.jsx(_e,{className:"text-gray-700 mb-2 block",children:"Reason (optional)"}),s.jsx(ve,{placeholder:"Reason",value:$,onChange:w=>ne(w.target.value)})]})]}),te===4&&s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 border",children:[s.jsx("p",{className:"text-gray-900 mb-2",children:"Confirm Transfer"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Direction: ",C==="wallet_to_account"?"Wallet  Account":"Account  Wallet"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",O||"0.00"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Account: ",S.find(w=>w._id===A)?.accountNumber||"N/A"]}),me&&s.jsx("div",{className:"mt-2 text-sm text-red-700 bg-red-50 border border-red-200 rounded p-2",children:me}),s.jsx("div",{className:"mt-3",children:s.jsx(L,{className:"w-full bg-blue-700 hover:bg-blue-800 text-white",onClick:async()=>{const w=parseFloat(O||"0");if(!A||!w||w<10){B("Please select account and enter a valid amount");return}if(C==="wallet_to_account"&&w>m.availableToTransfer){B("Insufficient wallet balance");return}try{if(xe(!0),C==="wallet_to_account"){const Ie={accountId:A,amount:w};$&&$.trim().length>0&&(Ie.reason=$.trim()),await Yu(Ie)}else{const Ie={accountId:A,amount:w};$&&$.trim().length>0&&(Ie.reason=$.trim()),await Hu(Ie)}B(""),p(5);const ue=await En();f({balance:ue.balance,availableToTransfer:ue.availableToTransfer,pendingTransactions:ue.pendingTransactions})}catch(ue){const Ie=ue?.error?.message||ue?.message||"Transfer failed";B(Ie)}finally{xe(!1)}},children:ae?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ye,{size:14}),s.jsx("span",{children:"Confirming..."})]}):"Confirm Transfer"})})]}),te===5&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-green-900",children:"Transfer completed"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(L,{className:"bg-white text-gray-900 border",onClick:()=>r("overview"),children:"Back to Wallet"}),s.jsx(L,{className:"bg-gray-100 text-gray-900",onClick:()=>{p(1),b(""),re(""),ne("")},children:"New Transfer"})]})]}),s.jsxs("div",{className:"mt-6 flex justify-between",children:[te>1&&te<5&&s.jsx(L,{className:"bg-white text-gray-900 border",onClick:()=>p(te-1),children:"Back"}),te===1&&s.jsx(L,{className:"bg-blue-700 hover:bg-blue-800 text-white",onClick:()=>p(2),children:"Next"}),te===2&&s.jsx(L,{className:"bg-blue-700 hover:bg-blue-800 text-white",disabled:!O||parseFloat(O)<10,onClick:()=>p(3),children:"Next"}),te===3&&s.jsx(L,{className:"bg-blue-700 hover:bg-blue-800 text-white",disabled:!A,onClick:()=>p(4),children:"Next"})]})]})}):s.jsx("div",{className:"pb-20 md:pb-8",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-700 to-blue-900 rounded-xl p-6 text-white mb-4",children:[s.jsx("p",{className:"text-blue-100 mb-2",children:"Current Balance"}),N?s.jsxs("div",{children:[s.jsx(Oe,{className:"h-8 w-1/3 mb-4"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"h-4 w-2/3 mb-1"}),s.jsx(Oe,{className:"h-5 w-1/2"})]}),s.jsxs("div",{children:[s.jsx(Oe,{className:"h-4 w-2/3 mb-1"}),s.jsx(Oe,{className:"h-5 w-1/2"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-white mb-4",children:Ae(m.balance)}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-200 mb-1",children:"Available to Transfer"}),s.jsx("p",{className:"text-white",children:Ae(m.availableToTransfer)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-200 mb-1",children:"Pending Transactions"}),s.jsx("p",{className:"text-white",children:m.pendingTransactions})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[s.jsxs("button",{onClick:()=>r("deposit"),className:"flex flex-col items-center justify-center bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-2",children:s.jsx(wr,{className:"w-6 h-6 text-green-700"})}),s.jsx("span",{className:"text-gray-900",children:"Deposit"})]}),s.jsxs("button",{onClick:()=>r("withdraw"),className:"flex flex-col items-center justify-center bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:s.jsx(Nr,{className:"w-6 h-6 text-blue-700"})}),s.jsx("span",{className:"text-gray-900",children:"Withdraw"})]}),s.jsxs("button",{onClick:()=>r("transfer"),className:"flex flex-col items-center justify-center bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-2",children:s.jsx(js,{className:"w-6 h-6 text-purple-700"})}),s.jsx("span",{className:"text-gray-900",children:"Transfer"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-gray-900",children:"Transaction History"}),s.jsx("button",{onClick:()=>e("transactions"),className:"text-sm text-blue-700 hover:text-blue-800",children:"View All"})]}),s.jsxs("div",{className:"space-y-2",children:[N&&s.jsx("div",{className:"space-y-2","aria-busy":"true","aria-live":"polite",children:Array.from({length:3}).map((w,ue)=>s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{className:"w-10 h-10 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Oe,{className:"h-4 w-1/3 mb-2"}),s.jsx(Oe,{className:"h-3 w-1/4"})]})]})},ue))}),!N&&u.length===0&&s.jsx(Qt,{title:"No recent transactions",message:"Your latest transactions will appear here",actionLabel:"View All",onAction:()=>e("transactions")}),!N&&u.map(w=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w.type==="deposit"?"bg-green-100":w.type==="withdrawal"?"bg-blue-100":w.type==="bonus"?"bg-yellow-100":"bg-purple-100"}`,children:[w.type==="deposit"&&s.jsx(wr,{className:"w-5 h-5 text-green-700"}),w.type==="withdrawal"&&s.jsx(Nr,{className:"w-5 h-5 text-blue-700"}),w.type==="bonus"&&s.jsx(Ks,{className:"w-5 h-5 text-yellow-700"}),w.type==="fee"&&s.jsx(Vl,{className:"w-5 h-5 text-purple-700"}),w.type==="profit_loss"&&s.jsx(js,{className:"w-5 h-5 text-purple-700"}),w.type==="wallet_to_account"&&s.jsx(js,{className:"w-5 h-5 text-purple-700"}),w.type==="account_to_wallet"&&s.jsx(js,{className:"w-5 h-5 text-purple-700"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:w.type==="profit_loss"?`Trade ${w.symbol}  ${w.volume??0} lots @ ${w.price??""}`:w.type.charAt(0).toUpperCase()+w.type.slice(1)}),s.jsx("p",{className:"text-xs text-gray-500",children:w.accountNumber?`Account ${w.accountNumber}`:""})]})]}),s.jsxs("div",{className:"text-right",children:[(()=>{const ue=w.direction==="debit"||w.type==="fee"||w.netAmount<0,Ie=ue?"-":"+",Nt=Math.abs(w.netAmount);return s.jsxs("p",{className:ue?"text-red-600":"text-green-600",children:[Ie,Ae(Nt,w.currency)]})})(),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${w.status==="completed"?"bg-green-100 text-green-700":w.status==="pending"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:w.status})]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:Vr(w.createdAt)})]},w.id))]})]})]})})}function Fe({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:ie("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function ls({className:e,compact:t,...r}){return s.jsx("div",{"data-slot":"card-header",className:ie("flex items-start justify-between gap-4",t?"px-4 py-3":"px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function cs({className:e,...t}){return s.jsx("h4",{"data-slot":"card-title",className:ie("leading-none",e),...t})}function wo({className:e,...t}){return s.jsx("p",{"data-slot":"card-description",className:ie("text-sm text-muted-foreground",e),...t})}function gt({className:e,compact:t,...r}){return s.jsx("div",{"data-slot":"card-content",className:ie("flex-1",t?"px-4 pb-4":"px-6 pb-6",e),...r})}const Zu=ja("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ds({className:e,variant:t,asChild:r=!1,...n}){const a=r?Na:"span";return s.jsx(a,{"data-slot":"badge",className:ie(Zu({variant:t}),e),...n})}function eh({onBack:e}){const[t,r]=c.useState(!0),[n,a]=c.useState(!1),[o,i]=c.useState(""),[l,d]=c.useState(""),[u,h]=c.useState(""),[m,f]=c.useState(""),[g,x]=c.useState(""),[y,j]=c.useState("");c.useEffect(()=>{(async()=>{const T=await ms();i(T.firstName||""),d(T.lastName||""),h(T.phone||""),f(T.country||""),x(T.timezone||"UTC"),r(!1)})()},[]);const v=async()=>{a(!0),j("");try{await ce("/api/v1/users/profile",{method:"PUT",headers:ke(),body:{firstName:o,lastName:l,phone:u,country:m,timezone:g}}),j("Profile updated")}catch(T){j(T?.message||"Failed to update profile")}finally{a(!1)}};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-700 to-blue-900 p-6 text-white",children:[s.jsx("button",{onClick:e,className:"mb-4 text-white/80 hover:text-white",children:" Back"}),s.jsx("h1",{className:"text-2xl font-semibold",children:"Profile Information"})]}),s.jsx("div",{className:"p-4 text-gray-700",children:"Loading..."})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-700 to-blue-900 p-6 text-white",children:[s.jsx("button",{onClick:e,className:"mb-4 text-white/80 hover:text-white",children:" Back"}),s.jsx("h1",{className:"text-2xl font-semibold",children:"Profile Information"}),s.jsx("p",{className:"text-white/90",children:"Keep your account details up to date for a better experience"})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs(Fe,{children:[s.jsxs(ls,{children:[s.jsx(cs,{className:"text-lg",children:"Personal Details"}),s.jsx(wo,{children:"Basic information associated with your account"})]}),s.jsxs(gt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"First Name"}),s.jsx(ve,{placeholder:"First Name",value:o,onChange:T=>i(T.target.value)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Name"}),s.jsx(ve,{placeholder:"Last Name",value:l,onChange:T=>d(T.target.value)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),s.jsx(ve,{type:"tel",inputMode:"tel",autoComplete:"tel",placeholder:"Phone",value:u,onChange:T=>h(T.target.value)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Country (e.g., IN)"}),s.jsx(ve,{placeholder:"Country",value:m,onChange:T=>f(T.target.value.toUpperCase())})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Timezone"}),s.jsxs(ns,{value:g,onValueChange:x,children:[s.jsx(os,{className:"w-full bg-white text-gray-700 justify-center data-[placeholder]:text-gray-500",children:s.jsx(as,{placeholder:"Timezone",className:"w-full text-center text-gray-700"})}),s.jsxs(is,{className:"bg-white text-gray-700",children:[s.jsx(Re,{value:"UTC",className:"text-gray-700",children:"UTC"}),s.jsx(Re,{value:"Asia/Kolkata",className:"text-gray-700",children:"Asia/Kolkata"}),s.jsx(Re,{value:"Europe/London",className:"text-gray-700",children:"Europe/London"}),s.jsx(Re,{value:"America/New_York",className:"text-gray-700",children:"America/New_York"})]})]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3 px-2 py-2",children:[y&&s.jsx(ds,{className:"bg-green-100 text-green-700",children:y}),s.jsx(L,{className:"h-11 px-6 rounded-lg bg-blue-700 hover:bg-blue-800 text-white",onClick:v,disabled:n,children:n?"Saving...":"Save Changes"})]})]})]}),s.jsxs(Fe,{children:[s.jsxs(ls,{children:[s.jsx(cs,{className:"text-lg text-blue-700",children:"Tips"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Ensure your name matches your KYC documents"})]}),s.jsx(gt,{children:s.jsxs("ul",{className:"list-disc pl-5 text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"Use your legal first and last name"}),s.jsx("li",{children:"Provide a reachable phone number for account notifications"}),s.jsx("li",{children:"Timezone helps us show times correctly across transactions"})]})})]})]})]})}function th({onBack:e}){const[t,r]=c.useState(!0),[n,a]=c.useState(!1),[o,i]=c.useState(""),[l,d]=c.useState(null),[u,h]=c.useState(null),[m,f]=c.useState("");c.useEffect(()=>{(async()=>{const y=await ms();a(!!y.twoFactorEnabled),r(!1)})()},[]);const g=async()=>{f("");const y=Ge()||"";try{const j=await wd({token:y,password:o});h(j.secret),d(j.qrCode),f("2FA enabled. Scan QR in your authenticator app."),a(!0)}catch(j){f(j?.message||"Failed to enable 2FA")}},x=async()=>{f("");const y=Ge()||"";try{await Nd({token:y,password:o}),h(null),d(null),a(!1),f("2FA disabled")}catch(j){f(j?.message||"Failed to disable 2FA")}};return t?s.jsx("div",{className:"p-4 text-gray-700",children:"Loading..."}):s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-gray-900",children:"Security & Verification"}),s.jsx("button",{onClick:e,className:"text-gray-700 hover:text-gray-900",children:"Back"})]}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"Current Password",type:"password",value:o,onChange:y=>i(y.target.value)}),n?s.jsx(L,{onClick:x,className:"bg-red-600 text-white",children:"Disable 2FA"}):s.jsx(L,{onClick:g,className:"bg-blue-700 text-white",children:"Enable 2FA"}),u&&s.jsxs("div",{className:"text-sm text-gray-700",children:["Secret: ",u]}),l&&s.jsx("img",{src:l,alt:"QR Code",className:"w-40 h-40"}),m&&s.jsx("div",{className:"text-sm text-gray-600",children:m})]})}function sh({onBack:e}){const[t,r]=c.useState(""),[n,a]=c.useState(""),[o,i]=c.useState(""),[l,d]=c.useState(""),[u,h]=c.useState(!1),m=async()=>{h(!0),d("");try{const f=Ge()||"";await jd({currentPassword:t,newPassword:n,confirmPassword:o,accessToken:f}),d("Password changed successfully"),r(""),a(""),i("")}catch(f){d(f?.message||"Failed to change password")}finally{h(!1)}};return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:e,className:"text-gray-700 hover:text-gray-900",children:"Back"})]}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"Current Password",type:"password",value:t,onChange:f=>r(f.target.value)}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"New Password",type:"password",value:n,onChange:f=>a(f.target.value)}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"Confirm Password",type:"password",value:o,onChange:f=>i(f.target.value)}),l&&s.jsx("div",{className:"text-sm text-gray-600",children:l}),s.jsx(L,{onClick:m,className:"bg-blue-700 text-white",disabled:u,children:u?"Saving...":"Save"})]})}async function rh(){return(await ce("/api/v1/kyc/status",{method:"GET",headers:ke()})).data}async function nh(e){const t=new FormData;return t.append("documentType",e.documentType),t.append("kycData",JSON.stringify(e.kycData)),e.documentFront&&t.append("documentFront",e.documentFront),e.documentBack&&t.append("documentBack",e.documentBack),e.selfie&&t.append("selfie",e.selfie),e.additional&&t.append("additional",e.additional),await gd("/api/v1/kyc/submit",t,ke())}const Mt=[{id:"welcome",title:"Get Started",description:"Quick overview",icon:ya,order:0},{id:"personal",title:"Personal Info",description:"Your details",icon:Fs,order:1},{id:"address",title:"Address",description:"Where you live",icon:Sr,order:2},{id:"documents",title:"Documents",description:"ID proof",icon:pt,order:3},{id:"selfie",title:"Selfie",description:"Photo verification",icon:et,order:4},{id:"review",title:"Review",description:"Check & submit",icon:Lt,order:5}];function ah(){const e=c.useRef(null),[t,r]=c.useState(null);return{videoRef:e,start:async(i="user")=>{try{const l=await navigator.mediaDevices.getUserMedia({video:{facingMode:i==="user"?"user":{ideal:"environment"}},audio:!1});r(l),e.current&&(e.current.srcObject=l,await e.current.play())}catch(l){console.error("Camera error:",l)}},stop:()=>{t?.getTracks().forEach(i=>i.stop()),r(null)},capture:()=>{if(!e.current)return null;const i=e.current,l=document.createElement("canvas");l.width=i.videoWidth||640,l.height=i.videoHeight||480;const d=l.getContext("2d");return d?(d.drawImage(i,0,0,l.width,l.height),new Promise(u=>{l.toBlob(h=>u(h),"image/png",.92)})):null},isActive:!!t}}function oh({onBack:e}){const[t,r]=c.useState("welcome"),[n,a]=c.useState(null),[o,i]=c.useState(!0),[l,d]=c.useState(""),[u,h]=c.useState(""),[m,f]=c.useState(""),[g,x]=c.useState(""),[y,j]=c.useState(""),[v,T]=c.useState(""),[Q,fe]=c.useState(""),[Y,W]=c.useState(""),[I,M]=c.useState(""),[R,le]=c.useState("IN"),[J,X]=c.useState(null),[U,de]=c.useState(null),[ee,he]=c.useState(null),[_,k]=c.useState(null),[H,Ne]=c.useState({}),[te,p]=c.useState(""),[C,E]=c.useState(!1),[O,b]=c.useState(!1),[S,P]=c.useState(null),[A,re]=c.useState(null),{videoRef:$,start:ne,stop:me,capture:B}=ah();c.useEffect(()=>{(async()=>{try{const N=await rh();a(N),(N?.verified||N?.status==="verified"||N?.status==="processing"||N?.status==="pending")&&r("submit")}catch(N){console.error("Failed to load KYC status:",N)}finally{i(!1)}})()},[]),c.useEffect(()=>(O?ne(S==="doc"?"environment":"user"):me(),()=>me()),[O,S]);const F=()=>Mt.findIndex(N=>N.id===t),Se=(F()+1)/Mt.length*100,G=()=>{const N={},ye=/^[A-Z]{5}[0-9]{4}[A-Z]$/,w=/^[0-9]{12}$/;return ye.test(l)||(N.panNumber="Invalid PAN format (e.g., ABCDE1234F)"),w.test(u)||(N.aadhaarNumber="Aadhaar must be 12 digits"),m.trim()||(N.firstName="First name is required"),g.trim()||(N.lastName="Last name is required"),y||(N.dateOfBirth="Date of birth is required"),Ne(N),Object.keys(N).length===0},K=()=>{const N={};return v.trim()||(N.street="Street address is required"),Q.trim()||(N.city="City is required"),Y.trim()||(N.state="State is required"),I.trim()||(N.zipCode="Zip code is required"),Ne(N),Object.keys(N).length===0},be=()=>!ee||!J||!U?(p("Please upload PAN card and both sides of Aadhaar card"),!1):(p(""),!0),Z=()=>_?(p(""),!0):(p("Please capture a selfie with your PAN card"),!1),De=()=>{if(p(""),Ne({}),t==="personal"&&!G()||t==="address"&&!K()||t==="documents"&&!be()||t==="selfie"&&!Z())return;const N=F();N<Mt.length-1&&r(Mt[N+1].id)},D=()=>{const N=F();N>0&&r(Mt[N-1].id)},ae=async N=>{const ye=await B();ye&&(N==="pan"?he(new File([ye],"pan-card.png",{type:"image/png"})):N==="aadhaar-front"?X(new File([ye],"aadhaar-front.png",{type:"image/png"})):N==="aadhaar-back"?de(new File([ye],"aadhaar-back.png",{type:"image/png"})):k(ye),b(!1),P(null))},xe=async()=>{E(!0),p("");try{const N={panNumber:l,aadhaarNumber:u,firstName:m,lastName:g,dateOfBirth:y,address:{street:v,city:Q,state:Y,postalCode:I,country:R}},ye=_?new File([_],"selfie.png",{type:"image/png"}):null;await nh({documentType:"pan_card",kycData:N,documentFront:ee||J,documentBack:U,selfie:ye}),r("submit")}catch(N){p(N?.message||"Submission failed. Please try again.")}finally{E(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-700 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading verification status..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"text-white p-6 pb-8",style:{background:"#ef5b2a"},children:[s.jsxs("button",{onClick:e,className:"mb-4 text-white/90 hover:text-white flex items-center gap-2",children:[s.jsx(it,{className:"w-5 h-5"}),s.jsx("span",{children:"Back"})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(gn,{className:"w-10 h-10"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Identity Verification"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Secure your account in just a few steps"})]})]}),t!=="welcome"&&t!=="submit"&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsxs("span",{className:"text-blue-100",children:["Step ",F()+1," of ",Mt.length]}),s.jsxs("span",{className:"text-blue-100",children:[Math.round(Se),"% complete"]})]}),s.jsx("div",{className:"w-full bg-white/20 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-500",style:{width:`${Se}%`}})})]})]}),s.jsxs("div",{className:"p-4 pb-24 max-w-2xl mx-auto",children:[t==="welcome"&&s.jsx("div",{className:"space-y-4 animate-fade-in",children:s.jsxs(Fe,{className:"p-6 bg-white",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ya,{className:"w-10 h-10 text-blue-700"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Let's verify your identity"}),s.jsx("p",{className:"text-gray-600",children:"This quick process helps keep your account secure and unlocks all platform features."})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[s.jsx(jr,{className:"w-5 h-5 text-blue-700 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Takes 5 minutes"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Quick and easy verification process"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg",children:[s.jsx(gn,{className:"w-5 h-5 text-green-700 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Secure & encrypted"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your data is protected with bank-level security"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-purple-50 rounded-lg",children:[s.jsx(Lt,{className:"w-5 h-5 text-purple-700 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Unlock full access"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Higher limits, all payment methods, priority support"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5 text-gray-700"}),"What you'll need"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-green-600"}),"PAN Card (Permanent Account Number)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-green-600"}),"Aadhaar Card (both sides)"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4 text-green-600"}),"A clear selfie with your PAN card"]})]})]}),s.jsxs(L,{onClick:()=>r("personal"),className:"w-full h-12 bg-blue-700 hover:bg-blue-800 text-white",children:["Get Started",s.jsx(Ht,{className:"w-5 h-5 ml-2"})]})]})}),t==="personal"&&s.jsx("div",{className:"space-y-4 animate-fade-in",children:s.jsxs(Fe,{className:"p-6 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Fs,{className:"w-6 h-6 text-blue-700"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enter details exactly as they appear on your PAN card"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"panNumber",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["PAN Number",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"panNumber",value:l,onChange:N=>d(N.target.value.toUpperCase()),placeholder:"ABCDE1234F",className:`h-12 ${H.panNumber?"border-red-400":""}`,maxLength:10}),H.panNumber&&s.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[s.jsx($e,{className:"w-3 h-3"}),H.panNumber]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 5 letters, 4 digits, 1 letter"})]}),s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"aadhaarNumber",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Aadhaar Number",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"aadhaarNumber",value:u,onChange:N=>h(N.target.value.replace(/\D/g,"")),placeholder:"1234 5678 9012",className:`h-12 ${H.aadhaarNumber?"border-red-400":""}`,maxLength:12}),H.aadhaarNumber&&s.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[s.jsx($e,{className:"w-3 h-3"}),H.aadhaarNumber]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"12-digit Aadhaar number"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"firstName",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["First Name",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"firstName",value:m,onChange:N=>f(N.target.value),placeholder:"John",className:`h-12 ${H.firstName?"border-red-400":""}`}),H.firstName&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[s.jsx($e,{className:"w-3 h-3 inline mr-1"}),H.firstName]})]}),s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"lastName",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Last Name",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"lastName",value:g,onChange:N=>x(N.target.value),placeholder:"Doe",className:`h-12 ${H.lastName?"border-red-400":""}`}),H.lastName&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[s.jsx($e,{className:"w-3 h-3 inline mr-1"}),H.lastName]})]})]}),s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"dateOfBirth",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Date of Birth",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"dateOfBirth",type:"date",value:y,onChange:N=>j(N.target.value),className:`h-12 ${H.dateOfBirth?"border-red-400":""}`}),H.dateOfBirth&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[s.jsx($e,{className:"w-3 h-3 inline mr-1"}),H.dateOfBirth]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs(L,{onClick:D,variant:"outline",className:"flex-1 h-12",children:[s.jsx(it,{className:"w-5 h-5 mr-2"}),"Back"]}),s.jsxs(L,{onClick:De,className:"flex-1 h-12 bg-blue-700 hover:bg-blue-800",children:["Continue",s.jsx(Ht,{className:"w-5 h-5 ml-2"})]})]})]})}),t==="address"&&s.jsx("div",{className:"space-y-4 animate-fade-in",children:s.jsxs(Fe,{className:"p-6 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Sr,{className:"w-6 h-6 text-blue-700"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Address Details"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your residential address for verification"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"street",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Street Address",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"street",value:v,onChange:N=>T(N.target.value),placeholder:"123 Main Street, Apartment 4B",className:`h-12 ${H.street?"border-red-400":""}`}),H.street&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[s.jsx($e,{className:"w-3 h-3 inline mr-1"}),H.street]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"city",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["City",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"city",value:Q,onChange:N=>fe(N.target.value),placeholder:"Mumbai",className:`h-12 ${H.city?"border-red-400":""}`}),H.city&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[s.jsx($e,{className:"w-3 h-3 inline mr-1"}),H.city]})]}),s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"state",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["State",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"state",value:Y,onChange:N=>W(N.target.value),placeholder:"Maharashtra",className:`h-12 ${H.state?"border-red-400":""}`}),H.state&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[s.jsx($e,{className:"w-3 h-3 inline mr-1"}),H.state]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(_e,{htmlFor:"zipCode",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["PIN Code",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ve,{id:"zipCode",value:I,onChange:N=>M(N.target.value.replace(/\D/g,"")),placeholder:"400001",className:`h-12 ${H.zipCode?"border-red-400":""}`,maxLength:6}),H.zipCode&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[s.jsx($e,{className:"w-3 h-3 inline mr-1"}),H.zipCode]})]}),s.jsxs("div",{children:[s.jsx(_e,{htmlFor:"country",className:"text-gray-700 font-medium mb-2",children:"Country"}),s.jsx(ve,{id:"country",value:R,disabled:!0,className:"h-12 bg-gray-100"})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs(L,{onClick:D,variant:"outline",className:"flex-1 h-12",children:[s.jsx(it,{className:"w-5 h-5 mr-2"}),"Back"]}),s.jsxs(L,{onClick:De,className:"flex-1 h-12 bg-blue-700 hover:bg-blue-800",children:["Continue",s.jsx(Ht,{className:"w-5 h-5 ml-2"})]})]})]})}),t==="documents"&&s.jsx("div",{className:"space-y-4 animate-fade-in",children:s.jsxs(Fe,{className:"p-6 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(pt,{className:"w-6 h-6 text-blue-700"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Upload Documents"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Clear photos of your PAN & Aadhaar card"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(kr,{className:"w-5 h-5 text-blue-700 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for good photos:"}),s.jsxs("ul",{className:"space-y-1 text-blue-800",children:[s.jsx("li",{children:" Place document on a flat, contrasting surface"}),s.jsx("li",{children:" Ensure all text is clearly readable"}),s.jsx("li",{children:" Avoid glare and shadows"}),s.jsx("li",{children:" Capture all four corners of the card"})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"text-gray-700 font-medium mb-3 block flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5 text-gray-600"}),"PAN Card (Front Side) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),ee?s.jsxs("div",{className:"relative border-2 border-green-500 rounded-lg overflow-hidden bg-gray-50",children:[s.jsx("img",{src:URL.createObjectURL(ee),alt:"PAN Card",className:"w-full"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[s.jsxs("button",{onClick:()=>{he(null),b(!0),P("doc"),re("pan")},className:"bg-blue-600 text-white px-3 py-1.5 rounded-full hover:bg-blue-700 text-sm flex items-center gap-1",children:[s.jsx(et,{className:"w-4 h-4"}),"Retake"]}),s.jsx("button",{onClick:()=>he(null),className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:s.jsx(ct,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[s.jsx(Le,{className:"w-4 h-4"}),"PAN Card Uploaded"]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>{b(!0),P("doc"),re("pan")},className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(et,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"Take Photo"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Capture PAN card"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:N=>he(N.target.files?.[0]||null),className:"absolute inset-0 opacity-0 cursor-pointer",id:"upload-pan"}),s.jsxs("label",{htmlFor:"upload-pan",className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer flex items-center justify-center gap-3",children:[s.jsx(rr,{className:"w-6 h-6 text-gray-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-gray-700 font-medium",children:"Upload from Gallery"}),s.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG (max 5MB)"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsxs(_e,{className:"text-gray-700 font-medium mb-3 block flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5 text-gray-600"}),"Aadhaar Card (Front Side) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),J?s.jsxs("div",{className:"relative border-2 border-green-500 rounded-lg overflow-hidden bg-gray-50",children:[s.jsx("img",{src:URL.createObjectURL(J),alt:"Aadhaar Front",className:"w-full"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[s.jsxs("button",{onClick:()=>{X(null),b(!0),P("doc"),re("aadhaar-front")},className:"bg-blue-600 text-white px-3 py-1.5 rounded-full hover:bg-blue-700 text-sm flex items-center gap-1",children:[s.jsx(et,{className:"w-4 h-4"}),"Retake"]}),s.jsx("button",{onClick:()=>X(null),className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:s.jsx(ct,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[s.jsx(Le,{className:"w-4 h-4"}),"Aadhaar Front Uploaded"]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>{b(!0),P("doc"),re("aadhaar-front")},className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(et,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"Take Photo"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Capture front side with photo"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:N=>X(N.target.files?.[0]||null),className:"absolute inset-0 opacity-0 cursor-pointer",id:"upload-aadhaar-front"}),s.jsxs("label",{htmlFor:"upload-aadhaar-front",className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer flex items-center justify-center gap-3",children:[s.jsx(rr,{className:"w-6 h-6 text-gray-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-gray-700 font-medium",children:"Upload from Gallery"}),s.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG (max 5MB)"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsxs(_e,{className:"text-gray-700 font-medium mb-3 block flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5 text-gray-600"}),"Aadhaar Card (Back Side) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),U?s.jsxs("div",{className:"relative border-2 border-green-500 rounded-lg overflow-hidden bg-gray-50",children:[s.jsx("img",{src:URL.createObjectURL(U),alt:"Aadhaar Back",className:"w-full"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[s.jsxs("button",{onClick:()=>{de(null),b(!0),P("doc"),re("aadhaar-back")},className:"bg-blue-600 text-white px-3 py-1.5 rounded-full hover:bg-blue-700 text-sm flex items-center gap-1",children:[s.jsx(et,{className:"w-4 h-4"}),"Retake"]}),s.jsx("button",{onClick:()=>de(null),className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:s.jsx(ct,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[s.jsx(Le,{className:"w-4 h-4"}),"Aadhaar Back Uploaded"]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>{b(!0),P("doc"),re("aadhaar-back")},className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(et,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"Take Photo"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Capture back side with address"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:N=>de(N.target.files?.[0]||null),className:"absolute inset-0 opacity-0 cursor-pointer",id:"upload-aadhaar-back"}),s.jsxs("label",{htmlFor:"upload-aadhaar-back",className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-500 hover:bg-blue-50 transition-colors cursor-pointer flex items-center justify-center gap-3",children:[s.jsx(rr,{className:"w-6 h-6 text-gray-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-gray-700 font-medium",children:"Upload from Gallery"}),s.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG (max 5MB)"})]})]})]})]})]})]}),te&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2 mt-6",children:[s.jsx($e,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-sm text-red-900",children:te})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs(L,{onClick:D,variant:"outline",className:"flex-1 h-12",children:[s.jsx(it,{className:"w-5 h-5 mr-2"}),"Back"]}),s.jsxs(L,{onClick:De,className:"flex-1 h-12 bg-blue-700 hover:bg-blue-800",children:["Continue",s.jsx(Ht,{className:"w-5 h-5 ml-2"})]})]})]})}),t==="selfie"&&s.jsx("div",{className:"space-y-4 animate-fade-in",children:s.jsxs(Fe,{className:"p-6 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(et,{className:"w-6 h-6 text-blue-700"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Selfie Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Take a photo holding your PAN card"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(kr,{className:"w-5 h-5 text-blue-700 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"For a successful selfie:"}),s.jsxs("ul",{className:"space-y-1 text-blue-800",children:[s.jsx("li",{children:" Hold your PAN card next to your face"}),s.jsx("li",{children:" Make sure both your face and card are clearly visible"}),s.jsx("li",{children:" Good lighting, no hats or sunglasses"}),s.jsx("li",{children:" Look directly at the camera"})]})]})]})}),_?s.jsxs("div",{className:"relative border-2 border-green-500 rounded-lg overflow-hidden",children:[s.jsx("img",{src:URL.createObjectURL(_),alt:"Selfie",className:"w-full"}),s.jsx("button",{onClick:()=>k(null),className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:s.jsx(ct,{className:"w-4 h-4"})}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[s.jsx(Le,{className:"w-4 h-4"}),"Captured"]})]}):s.jsxs("button",{onClick:()=>{b(!0),P("selfie")},className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-12 hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(et,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 font-medium text-lg mb-1",children:"Take Selfie with PAN Card"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Click to open camera"})]}),te&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2 mt-4",children:[s.jsx($e,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-sm text-red-900",children:te})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs(L,{onClick:D,variant:"outline",className:"flex-1 h-12",children:[s.jsx(it,{className:"w-5 h-5 mr-2"}),"Back"]}),s.jsxs(L,{onClick:De,className:"flex-1 h-12 bg-blue-700 hover:bg-blue-800",children:["Continue",s.jsx(Ht,{className:"w-5 h-5 ml-2"})]})]})]})}),t==="review"&&s.jsx("div",{className:"space-y-4 animate-fade-in",children:s.jsxs(Fe,{className:"p-6 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Lt,{className:"w-6 h-6 text-blue-700"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Review & Submit"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Please verify all information is correct"})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($e,{className:"w-5 h-5 text-yellow-700 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-900",children:[s.jsx("p",{className:"font-medium",children:"Important:"}),s.jsx("p",{children:"After submission, you cannot edit your information. Please review carefully."})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Fs,{className:"w-5 h-5"}),"Personal Information"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"PAN Number:"}),s.jsx("span",{className:"font-mono text-gray-900",children:l})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhaar Number:"}),s.jsx("span",{className:"font-mono text-gray-900",children:u.replace(/(\d{4})(\d{4})(\d{4})/,"$1 $2 $3")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Full Name:"}),s.jsxs("span",{className:"text-gray-900",children:[m," ",g]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date of Birth:"}),s.jsx("span",{className:"text-gray-900",children:y})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Sr,{className:"w-5 h-5"}),"Address"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-900",children:[s.jsx("p",{children:v}),s.jsxs("p",{children:[Q,", ",Y," ",I]}),s.jsx("p",{children:R})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5"}),"Uploaded Documents"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[ee&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(ee),alt:"PAN Card",className:"w-full rounded-lg border"}),s.jsx(ds,{className:"absolute bottom-1 left-1 bg-green-600 text-white text-xs",children:"PAN"})]}),J&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(J),alt:"Aadhaar front",className:"w-full rounded-lg border"}),s.jsx(ds,{className:"absolute bottom-1 left-1 bg-green-600 text-white text-xs",children:"Aadhaar Front"})]}),U&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(U),alt:"Aadhaar back",className:"w-full rounded-lg border"}),s.jsx(ds,{className:"absolute bottom-1 left-1 bg-green-600 text-white text-xs",children:"Aadhaar Back"})]})]})]})]}),te&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2 mt-4",children:[s.jsx($e,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-sm text-red-900",children:te})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs(L,{onClick:D,variant:"outline",className:"flex-1 h-12",children:[s.jsx(it,{className:"w-5 h-5 mr-2"}),"Back"]}),s.jsx(L,{onClick:xe,disabled:C,className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white",children:C?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lt,{className:"w-5 h-5 mr-2"}),"Submit for Verification"]})})]})]})}),t==="submit"&&s.jsx("div",{className:"space-y-4 animate-fade-in",children:s.jsx(Fe,{className:"p-8 bg-white text-center",children:n?.verified||n?.status==="verified"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Lt,{className:"w-12 h-12 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification Complete!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your identity has been successfully verified."}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-sm text-green-900",children:" You now have full access to all platform features"}),s.jsx("p",{className:"text-sm text-green-900",children:" Higher trading and withdrawal limits"}),s.jsx("p",{className:"text-sm text-green-900",children:" All payment methods available"})]}),s.jsx(L,{onClick:e,className:"w-full h-12 bg-blue-700 hover:bg-blue-800",children:"Back to Settings"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(jr,{className:"w-12 h-12 text-blue-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification in Progress"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for submitting your documents. Our team is reviewing your information."}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6 text-left",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"What happens next?"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsx("span",{children:"Our team will review your documents within 1-3 business days"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsx("span",{children:"You'll receive an email notification once verification is complete"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsx("span",{children:"You can continue using your account with current limits"})]})]})]}),s.jsx(L,{onClick:e,variant:"outline",className:"w-full h-12",children:"Back to Settings"})]})})})]}),O&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:S==="selfie"?"Take Selfie":"Capture Document"}),s.jsx("button",{onClick:()=>{b(!1),P(null)},className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(ct,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"relative bg-black",children:s.jsx("video",{ref:$,className:"w-full",muted:!0,playsInline:!0})}),s.jsxs("div",{className:"p-4 flex gap-3",children:[s.jsx(L,{onClick:()=>{b(!1),P(null)},variant:"outline",className:"flex-1",children:"Cancel"}),s.jsxs(L,{onClick:()=>{S==="selfie"?ae("selfie"):A&&ae(A)},className:"flex-1 bg-blue-700",children:[s.jsx(et,{className:"w-5 h-5 mr-2"}),"Capture"]})]})]})})]})}function ih({onBack:e}){const[t,r]=c.useState([]),[n,a]=c.useState({}),[o,i]=c.useState(""),[l,d]=c.useState("");c.useEffect(()=>{(async()=>{const h=await ce("/api/v1/payments/methods?includeDetails=true",{method:"GET",headers:ke()});r(h.data);try{const m=await ce("/api/v1/payments/crypto-details?asset=USDT&network=TRC20",{method:"GET",headers:ke()});i(m.data.address||"")}catch{}})()},[]);const u=()=>{localStorage.setItem("withdraw_bank_info",JSON.stringify(n)),localStorage.setItem("withdraw_usdt_address",o),d("Saved locally for faster withdrawals")};return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-gray-900",children:"Payment Methods"}),s.jsx("button",{onClick:e,className:"text-gray-700 hover:text-gray-900",children:"Back"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-gray-900",children:"Available Methods"}),s.jsx("div",{className:"space-y-2",children:t.map(h=>s.jsxs("div",{className:"border border-gray-200 rounded p-3 text-sm",children:[s.jsx("div",{className:"font-medium",children:h.name}),s.jsx("div",{className:"text-gray-600",children:h.description}),h.bankDetails&&s.jsxs("div",{className:"text-gray-600",children:["Bank: ",h.bankDetails.bankName,"  Account: ",h.bankDetails.accountNumber]}),h.cryptoDetails?.usdt?.trc20Address&&s.jsxs("div",{className:"text-gray-600",children:["USDT TRC20: ",h.cryptoDetails.usdt.trc20Address]})]},h.id))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-gray-900",children:"Withdraw Preferences"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"Bank Name",value:n.bankName||"",onChange:h=>a({...n,bankName:h.target.value})}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"Account Number",value:n.accountNumber||"",onChange:h=>a({...n,accountNumber:h.target.value})}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"Routing Number",value:n.routingNumber||"",onChange:h=>a({...n,routingNumber:h.target.value})}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"SWIFT Code",value:n.swiftCode||"",onChange:h=>a({...n,swiftCode:h.target.value})}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"Account Holder Name",value:n.accountHolderName||"",onChange:h=>a({...n,accountHolderName:h.target.value})})]}),s.jsx("input",{className:"w-full bg-white border border-gray-200 rounded-lg p-3 text-gray-700 placeholder:text-gray-400",placeholder:"USDT TRC20 Address",value:o,onChange:h=>i(h.target.value)})]}),l&&s.jsx("div",{className:"text-sm text-gray-600",children:l}),s.jsx(L,{onClick:u,className:"bg-blue-700 text-white",children:"Save Preferences"})]})}function lh({onBack:e,onCreateNew:t}){const[r,n]=c.useState(!0),[a,o]=c.useState(null),[i,l]=c.useState(null),[d,u]=c.useState([]),[h,m]=c.useState(20);c.useEffect(()=>{let g=!0;return(async()=>{try{const{summary:x,accounts:y}=await Ld("active");if(!g)return;l(x),u(y)}catch(x){o(x?.message||"Failed to load accounts")}finally{n(!1)}})(),()=>{g=!1}},[]),c.useEffect(()=>{const g=new IntersectionObserver(y=>{for(const j of y)j.isIntersecting&&m(v=>v+20)},{rootMargin:"160px"}),x=document.getElementById("accounts-sentinel");return x&&g.observe(x),()=>g.disconnect()},[d.length]);const f=c.useMemo(()=>{const g=i||{};return{totalAccounts:g.totalAccounts??d.length,totalBalance:g.totalBalance??d.reduce((x,y)=>x+(y.balance||0),0),totalEquity:g.totalEquity??d.reduce((x,y)=>x+(y.equity||0),0),totalMarginUsed:g.totalMarginUsed??d.reduce((x,y)=>x+(y.margin||0),0),netDeposits:g.netDeposits??0}},[i,d]);return s.jsxs("div",{className:"pb-20 md:pb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-700 to-blue-900 text-white p-6 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-white mb-1",children:"Accounts"}),s.jsx("p",{className:"text-blue-100",children:"Trading management"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{onClick:t,className:"px-3 py-2 bg-white text-blue-700 rounded-lg hover:bg-blue-50",children:"Create New Account"})})]}),r&&s.jsx("div",{className:"mt-3 bg-white/10 text-white rounded px-3 py-2 text-sm",children:"Loading"}),a&&s.jsx("div",{className:"mt-3 bg-red-500/20 text-white rounded px-3 py-2 text-sm",role:"alert",children:a})]}),s.jsxs("div",{className:"px-4 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r?Array.from({length:6}).map((g,x)=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/5"})]},x)):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg.white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Accounts"}),s.jsx("p",{className:"text-lg text-gray-900",children:f.totalAccounts})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Balance"}),s.jsx("p",{className:"text-lg text-gray-900",children:Ae(f.totalBalance)})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Equity"}),s.jsx("p",{className:"text-lg text-gray-900",children:Ae(f.totalEquity)})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Margin Used"}),s.jsx("p",{className:"text-lg text-gray-900",children:Ae(f.totalMarginUsed)})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Net Deposits"}),s.jsx("p",{className:"text-lg text-gray-900",children:Ae(f.netDeposits)})]})]})}),s.jsxs("div",{className:"space-y-2",children:[r?Array.from({length:8}).map((g,x)=>s.jsxs("div",{className:"w-full bg-white rounded-lg p-4 shadow-sm animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/5"})]},x)):d.slice(0,h).map(g=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:g.accountNumber}),s.jsxs("p",{className:"text-xs text-gray-500",children:[g.accountType.toUpperCase(),"  ",g.currency,"  1:",g.leverage]})]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${g.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:g.status})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Balance"}),s.jsx("p",{className:"text-gray-900",children:Ae(g.balance)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text.gray-500",children:"Equity"}),s.jsx("p",{className:"text-gray-900",children:Ae(g.equity)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Free Margin"}),s.jsx("p",{className:"text-gray-900",children:Ae(g.freeMargin)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Margin Level"}),s.jsxs("p",{className:`${g.marginLevel>100?"text-green-600":"text-red-600"}`,children:[g.marginLevel,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Open Positions"}),s.jsx("p",{className:"text-gray-900",children:g.statistics?.openPositions??0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Pending Orders"}),s.jsx("p",{className:"text-gray-900",children:g.statistics?.pendingOrders??0})]})]})]},g._id)),s.jsx("div",{id:"accounts-sentinel",className:"h-8"})]})]})]})}function No({onBack:e,onNext:t,onError:r}){const[n,a]=c.useState("standard"),[o,i]=c.useState("USD"),[l,d]=c.useState(100),[u,h]=c.useState(!1),[m,f]=c.useState(""),g=async()=>{h(!0);try{if(!Ge()){f('{"error":{"code":401,"message":"Token required"}}'),r?.("Token required");return}const y=await Bd({accountType:n,currency:o,leverage:l});t(y)}catch(x){x?.status===401||x?.data?.error?.code===401?(f('{"error":{"code":401,"message":"Token required"}}'),r?.("Token required")):(f(x?.message||"Account creation failed"),r?.(x?.message||"Account creation failed"))}finally{h(!1)}};return s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsx("h2",{className:"text-gray-900",children:"Create Trading Account"}),s.jsx("p",{className:"text-gray-600",children:"Choose your preferred account type, currency, and leverage."}),m&&s.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2",children:m}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Account Type"}),s.jsxs(ns,{value:n,onValueChange:a,children:[s.jsx(os,{className:"w-full h-11 bg-white text-gray-900 border border-gray-300 rounded-md px-4",children:s.jsx(as,{placeholder:"Select type"})}),s.jsxs(is,{className:"w-full min-w-full bg-white border border-gray-200 rounded-md shadow-md",style:{minWidth:"100%"},children:[s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"standard",children:"Standard"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"pro",children:"Pro"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"ecn",children:"ECN"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Currency"}),s.jsxs(ns,{value:o,onValueChange:i,children:[s.jsx(os,{className:"w-full h-11 bg-white text-gray-900 border border-gray-300 rounded-md px-4",children:s.jsx(as,{placeholder:"Select currency"})}),s.jsx(is,{className:"w-full min-w-full bg-white border border-gray-200 rounded-md shadow-md",style:{minWidth:"100%"},children:s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"USD",children:"USD"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-700",children:"Leverage"}),s.jsxs(ns,{value:String(l),onValueChange:x=>d(Number(x)),children:[s.jsx(os,{className:"w-full h-11 bg-white text-gray-900 border border-gray-300 rounded-md px-4",children:s.jsx(as,{placeholder:"Select leverage"})}),s.jsxs(is,{className:"w-full min-w-full bg-white border border-gray-200 rounded-md shadow-md",style:{minWidth:"100%"},children:[s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"100",children:"1:100"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"200",children:"1:200"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"300",children:"1:300"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"400",children:"1:400"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"500",children:"1:500"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"1000",children:"1:1000"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"1500",children:"1:1500"}),s.jsx(Re,{className:"relative w-full text-left text-gray-900 py-3 pl-9 pr-8 hover:bg-gray-50",value:"2000",children:"1:2000"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(L,{onClick:e,variant:"outline",className:"text-gray-700 h-11 rounded-md",children:"Back"}),s.jsx(L,{onClick:g,className:"bg-blue-700 text-white h-11 rounded-md",disabled:u,children:u?"Creating...":"Create Account"})]})]})}async function ch(){return(await ce("/api/v1/referrals/stats",{method:"GET",headers:ke()})).data}async function dh(e={}){const t=new URLSearchParams;e.status&&t.set("status",e.status),e.limit&&t.set("limit",String(e.limit));const r=`/api/v1/referrals/history${t.toString()?`?${t.toString()}`:""}`;return(await ce(r,{method:"GET",headers:ke()})).data}async function uh(e){return(await ce("/api/v1/referrals/validate",{method:"POST",headers:ke(),body:{referralCode:e}})).data}function hh({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:ie("w-full caption-bottom text-sm",e),...t})})}function mh({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:ie("[&_tr]:border-b",e),...t})}function fh({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:ie("[&_tr:last-child]:border-0",e),...t})}function Rn({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:ie("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ts({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:ie("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function As({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:ie("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ph({onBack:e}){const[t,r]=c.useState(!0),[n,a]=c.useState(null),[o,i]=c.useState([]),[l,d]=c.useState("all"),[u,h]=c.useState(!1),[m,f]=c.useState("");c.useEffect(()=>{g()},[]);const g=async()=>{try{r(!0);const[v,T]=await Promise.all([ch(),dh({limit:50})]);a(v),i(T.referrals)}catch(v){f(v?.message||"Failed to load referral data")}finally{r(!1)}},x=()=>{n?.referralCode&&(navigator.clipboard.writeText(n.referralCode),h(!0),setTimeout(()=>h(!1),2e3))},y=v=>{const T={pending:{className:"bg-yellow-100 text-yellow-700",label:"Pending"},qualified:{className:"bg-blue-100 text-blue-700",label:"Qualified"},rewarded:{className:"bg-green-100 text-green-700",label:"Rewarded"},rejected:{className:"bg-red-100 text-red-700",label:"Rejected"},expired:{className:"bg-gray-100 text-gray-700",label:"Expired"}},Q=T[v]||T.pending;return s.jsx(ds,{className:Q.className,children:Q.label})},j=l==="all"?o:o.filter(v=>v.status===l);return t?s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-gray-900",children:"Refer & Earn"}),s.jsx("button",{onClick:e,className:"text-gray-700 hover:text-gray-900",children:"Back"})]}),s.jsx("div",{className:"text-gray-600",children:"Loading..."})]}):m?s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-gray-900",children:"Refer & Earn"}),s.jsx("button",{onClick:e,className:"text-gray-700 hover:text-gray-900",children:"Back"})]}),s.jsx("div",{className:"text-red-600",children:m})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-700 to-blue-900 p-6 text-white",children:[s.jsx("button",{onClick:e,className:"mb-4 text-white/80 hover:text-white",children:" Back"}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ks,{className:"w-8 h-8"}),s.jsx("h1",{className:"text-2xl font-semibold",children:"Refer & Earn"})]}),s.jsxs("p",{className:"text-white/90",children:["Share your referral code and earn $",n?.settings.rewardAmount||12," for each friend who joins!"]})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs(Fe,{children:[s.jsxs(ls,{children:[s.jsx(cs,{className:"text-lg",children:"Your Referral Code"}),s.jsx(wo,{children:"Share this code with friends to earn rewards"})]}),s.jsxs(gt,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-gray-50 border-2 border-dashed border-blue-300 rounded-lg p-4 text-center",children:s.jsx("div",{className:"text-3xl font-bold text-blue-700 tracking-wider",children:n?.referralCode||"Loading..."})}),s.jsx(L,{onClick:x,className:"bg-blue-700 hover:bg-blue-800 text-white",size:"lg",children:u?s.jsx(Le,{className:"w-5 h-5"}):s.jsx(kl,{className:"w-5 h-5"})})]}),u&&s.jsxs("div",{className:"text-sm text-green-600 text-center flex items-center justify-center gap-1",children:[s.jsx(Le,{className:"w-4 h-4"}),"Copied to clipboard!"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsx(Fe,{children:s.jsxs(gt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(bn,{className:"w-4 h-4 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Referrals"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n?.total||0})]})}),s.jsx(Fe,{children:s.jsxs(gt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Pl,{className:"w-4 h-4 text-green-600"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Earned"})]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",n?.totalEarnings.toFixed(2)||"0.00"]})]})}),s.jsx(Fe,{children:s.jsxs(gt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(xt,{className:"w-4 h-4 text-orange-600"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n?.pending||0})]})})]}),s.jsxs(Fe,{children:[s.jsx(ls,{children:s.jsxs(cs,{className:"text-lg flex items-center gap-2",children:[s.jsx(kr,{className:"w-5 h-5 text-blue-600"}),"How It Works"]})}),s.jsx(gt,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center font-semibold flex-shrink-0",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Share Your Code"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Send your referral code to friends who want to start trading"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center font-semibold flex-shrink-0",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"They Sign Up & Deposit"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Your friend registers using your code and deposits $",n?.settings.minDeposit||100,"+"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center font-semibold flex-shrink-0",children:"3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Get Rewarded"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Earn $",n?.settings.rewardAmount||12," instantly in your wallet once they complete KYC"]})]})]})]})})]}),s.jsxs(Fe,{children:[s.jsxs(ls,{children:[s.jsx(cs,{className:"text-lg",children:"Referral History"}),s.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[s.jsxs(L,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>d("all"),className:l==="all"?"bg-blue-700":"",children:["All (",n?.total||0,")"]}),s.jsxs(L,{variant:l==="rewarded"?"default":"outline",size:"sm",onClick:()=>d("rewarded"),className:l==="rewarded"?"bg-green-600":"",children:["Rewarded (",n?.rewarded||0,")"]}),s.jsxs(L,{variant:l==="pending"?"default":"outline",size:"sm",onClick:()=>d("pending"),className:l==="pending"?"bg-yellow-600":"",children:["Pending (",n?.pending||0,")"]})]})]}),s.jsx(gt,{children:j.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(bn,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No referrals yet"}),s.jsx("p",{className:"text-sm",children:"Start sharing your referral code to earn rewards!"})]}):s.jsx("div",{className:"overflow-x-auto -mx-4",children:s.jsxs(hh,{children:[s.jsx(mh,{children:s.jsxs(Rn,{children:[s.jsx(Ts,{children:"User"}),s.jsx(Ts,{children:"Date"}),s.jsx(Ts,{children:"Status"}),s.jsx(Ts,{className:"text-right",children:"Reward"})]})}),s.jsx(fh,{children:j.map(v=>s.jsxs(Rn,{children:[s.jsx(As,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:v.referredUser.name}),s.jsx("div",{className:"text-xs text-gray-500",children:v.referredUser.email})]})}),s.jsx(As,{className:"text-sm text-gray-600",children:new Date(v.createdAt).toLocaleDateString()}),s.jsx(As,{children:y(v.status)}),s.jsx(As,{className:"text-right",children:s.jsxs("span",{className:`font-semibold ${v.status==="rewarded"?"text-green-600":"text-gray-600"}`,children:["$",v.rewardAmount.toFixed(2)]})})]},v.id))})]})})})]})]})]})}function gh({onLogout:e}){const[t,r]=c.useState(null),[n,a]=c.useState(!0),[o,i]=c.useState(null),[l,d]=c.useState(null),[u,h]=c.useState(()=>{try{return localStorage.getItem("mfapp.soundEnabled")!=="false"}catch{return!0}});c.useEffect(()=>{let I=!0;return(async()=>{try{const M=await ms();if(!I)return;r(M);try{const R=localStorage.getItem("mfapp.settingsInitialSection");R&&(d(R),localStorage.removeItem("mfapp.settingsInitialSection"))}catch{}}catch(M){i(M?.message||"Failed to load profile")}finally{a(!1)}})(),()=>{I=!1}},[]),c.useEffect(()=>{const I=()=>{l&&d(null)};return window.addEventListener("mfapp-settings-back",I),()=>window.removeEventListener("mfapp-settings-back",I)},[l]);const m=t?`${t.firstName||""} ${t.lastName||""}`.trim()||t.email:"",f=t?`${t.firstName?.[0]||t.email?.[0]||"U"}${t.lastName?.[0]||""}`.toUpperCase():"U",g=t&&(t.role?.toUpperCase()||t.status?.toUpperCase())||"USER",x=t?.createdAt?new Date(t.createdAt).getFullYear():new Date().getFullYear(),y=t?.kycStatus||"pending",j={text:y.toUpperCase(),color:y==="verified"?"green":"gray"},v=t?.twoFactorEnabled?"2FA Enabled":"2FA Disabled",T=`${t?.currency||"USD"}  ${t?.timezone||"UTC"}  ${t?.language||"en"}`,Q=t?.notifications||{},Y=`${Object.values(Q).filter(Boolean).length} notifications enabled`,W=[{title:"Account",items:[{icon:Fs,label:"Profile Information",description:m,action:()=>d("profile")},{icon:Le,label:"KYC Status",description:y,badge:j,action:()=>d("kyc")}]},{title:"Security",items:[{icon:xn,label:"Security & Verification",description:v,action:()=>d("security")},{icon:xn,label:"Change Password",action:()=>d("password")}]},{title:"Trading",items:[{icon:xt,label:"Trading Preferences",description:T,action:()=>{}},{icon:xt,label:"Accounts",description:"Manage trading accounts",action:()=>d("accounts")},{icon:ha,label:"Notifications",description:Y,action:()=>d("notifications")},{icon:xt,label:"UI Sounds",description:u?"Enabled":"Disabled",action:()=>{try{const I=!u;localStorage.setItem("mfapp.soundEnabled",I?"true":"false"),h(I)}catch{}}}]},{title:"Payment",items:[{icon:pa,label:"Payment Methods",description:"Manage payment methods",action:()=>d("payments")}]},{title:"Rewards",items:[{icon:Ks,label:"Refer & Earn",description:"Invite friends and earn $12",badge:s.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-green-100 text-green-700",children:"Earn $12"}),action:()=>d("referral")}]},{title:"Support",items:[{icon:pt,label:"Documents",description:"View uploaded documents",action:()=>{}},{icon:yl,label:"Help & Support",description:"FAQs, contact us",action:()=>{}}]}];return s.jsxs("div",{className:"pb-20 md:pb-8",children:[l==="profile"&&s.jsx(eh,{onBack:()=>d(null)}),l==="kyc"&&s.jsx(oh,{onBack:()=>d(null)}),l==="security"&&s.jsx(th,{onBack:()=>d(null)}),l==="password"&&s.jsx(sh,{onBack:()=>d(null)}),l==="payments"&&s.jsx(ih,{onBack:()=>d(null)}),l==="referral"&&s.jsx(ph,{onBack:()=>d(null)}),l==="accounts"&&s.jsx(lh,{onBack:()=>d(null),onCreateNew:()=>d("account-setup")}),l==="account-setup"&&s.jsx(No,{onBack:()=>d("accounts"),onNext:()=>d("accounts"),onError:I=>i(I)}),l&&s.jsx(s.Fragment,{}),!l&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-700 to-blue-900 text-white p-6 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center text-2xl",children:f}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-white mb-1",children:m}),s.jsx("p",{className:"text-blue-100",children:t?.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"px-2 py-0.5 bg-yellow-400 text-yellow-900 text-xs rounded",children:g}),s.jsxs("span",{className:"text-blue-100 text-sm",children:["Member since ",x]})]})]})]}),n&&s.jsx("div",{className:"mt-3 bg-white/10 text-white rounded px-3 py-2 text-sm",children:"Loading profile..."}),o&&s.jsx("div",{className:"mt-3 bg-red-500/20 text-white rounded px-3 py-2 text-sm",children:o})]}),!l&&s.jsxs("div",{className:"px-4 space-y-6",children:[W.map((I,M)=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-900 mb-3",children:I.title}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm divide-y divide-gray-100",children:I.items.map((R,le)=>{const J=R.icon;return s.jsxs("button",{onClick:R.action,className:"w-full flex items-center gap-3 p-4 hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(J,{className:"w-5 h-5 text-gray-700"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-gray-900",children:R.label}),R.description&&s.jsx("p",{className:"text-sm text-gray-500",children:R.description})]}),R.badge&&s.jsx("span",{className:`px-2 py-1 rounded text-xs ${R.badge.color==="green"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:R.badge.text}),s.jsx(fa,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]},le)})})]},M)),s.jsx("div",{className:"pt-4",children:s.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 bg-white border border-red-200 text-red-600 rounded-lg p-4 hover:bg-red-50 transition-colors",children:[s.jsx(Fl,{className:"w-5 h-5"}),s.jsx("span",{children:"Sign Out"})]})}),s.jsxs("div",{className:"text-center text-sm text-gray-500 py-4",children:[s.jsxs("p",{children:[zs.name," v1.0.0"]}),s.jsxs("p",{className:"mt-1",children:[s.jsx("a",{href:"#",className:"text-blue-700 hover:text-blue-800",children:"Privacy Policy"}),"  ",s.jsx("a",{href:"#",className:"text-blue-700 hover:text-blue-800",children:"Terms of Service"})]})]})]})]})}function xh(e,t){switch(t.type){case"add":return[{...t.payload},...e].slice(0,100);case"mark_all_read":return e.map(r=>({...r,read:!0}));case"clear":return[];default:return e}}const jo=c.createContext(null);function bh({children:e}){const[t,r]=c.useReducer(xh,[]),n=c.useMemo(()=>({notifications:t,unreadCount:t.filter(a=>!a.read).length,add:a=>r({type:"add",payload:a}),markAllRead:()=>r({type:"mark_all_read"}),clear:()=>r({type:"clear"})}),[t]);return s.jsx(jo.Provider,{value:n,children:e})}function yh(){const e=c.useContext(jo);if(!e)throw new Error("useNotifications must be used within NotificationsProvider");return e}function Ln(e){const t=e?.type==="transaction"?"Transaction Update":e?.type==="order_update"?"Order Update":e?.type==="margin_call"?"Margin Call":e?.type==="stop_out"?"Stop Out":e?.title||"Notification",r=e?.message||e?.data?.message||"Update received";return{id:e?.id||`n_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,title:t,message:r,type:"info",read:!1,createdAt:new Date().toISOString()}}class ft extends $i.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){try{const n=t&&t.stack||r&&r.componentStack||void 0;this.props.onError?this.props.onError({error:t,label:this.props.label,stack:n}):console.error("ErrorBoundary",{label:this.props.label,error:t,stack:n})}catch{}}render(){return this.state.hasError?this.props.fallback||s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-sm w-full bg-white border rounded-xl p-6 text-center",children:[s.jsx("h2",{className:"text-gray-900 text-lg font-semibold mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please try again or reload the app."}),s.jsx("button",{className:"h-11 px-4 rounded-lg bg-blue-600 text-white",onClick:()=>{this.setState({hasError:!1}),location.reload()},children:"Reload"})]})}):this.props.children}}function vh(e){const t=wh(e),r=c.forwardRef((n,a)=>{const{children:o,...i}=n,l=c.Children.toArray(o),d=l.find(jh);if(d){const u=d.props.children,h=l.map(m=>m===d?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...i,ref:a,children:c.isValidElement(u)?c.cloneElement(u,void 0,h):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function wh(e){const t=c.forwardRef((r,n)=>{const{children:a,...o}=r;if(c.isValidElement(a)){const i=Sh(a),l=kh(o,a.props);return a.type!==c.Fragment&&(l.ref=n?Pt(n,i):i),c.cloneElement(a,l)}return c.Children.count(a)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nh=Symbol("radix.slottable");function jh(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nh}function kh(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const d=o(...l);return a(...l),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function Sh(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var er="Popover",[ko]=sa(er,[la]),fs=la(),[Ch,wt]=ko(er),So=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=fs(t),d=c.useRef(null),[u,h]=c.useState(!1),[m,f]=ra({prop:n,defaultProp:a??!1,onChange:o,caller:er});return s.jsx(Di,{...l,children:s.jsx(Ch,{scope:t,contentId:Ct(),triggerRef:d,open:m,onOpenChange:f,onOpenToggle:c.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:u,onCustomAnchorAdd:c.useCallback(()=>h(!0),[]),onCustomAnchorRemove:c.useCallback(()=>h(!1),[]),modal:i,children:r})})};So.displayName=er;var Co="PopoverAnchor",Ph=c.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=wt(Co,r),o=fs(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return c.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(ca,{...o,...n,ref:t})});Ph.displayName=Co;var Po="PopoverTrigger",_o=c.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=wt(Po,r),o=fs(r),i=Hs(t,a.triggerRef),l=s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Mo(a.open),...n,ref:i,onClick:St(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(ca,{asChild:!0,...o,children:l})});_o.displayName=Po;var Xr="PopoverPortal",[_h,Dh]=ko(Xr,{forceMount:void 0}),Do=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=wt(Xr,t);return s.jsx(_h,{scope:t,forceMount:r,children:s.jsx($r,{present:r||o.open,children:s.jsx(Ti,{asChild:!0,container:a,children:n})})})};Do.displayName=Xr;var $t="PopoverContent",To=c.forwardRef((e,t)=>{const r=Dh($t,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=wt($t,e.__scopePopover);return s.jsx($r,{present:n||o.open,children:o.modal?s.jsx(Ah,{...a,ref:t}):s.jsx(Eh,{...a,ref:t})})});To.displayName=$t;var Th=vh("PopoverContent.RemoveScroll"),Ah=c.forwardRef((e,t)=>{const r=wt($t,e.__scopePopover),n=c.useRef(null),a=Hs(t,n),o=c.useRef(!1);return c.useEffect(()=>{const i=n.current;if(i)return Ai(i)},[]),s.jsx(Ei,{as:Th,allowPinchZoom:!0,children:s.jsx(Ao,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:St(e.onCloseAutoFocus,i=>{i.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:St(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:St(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Eh=c.forwardRef((e,t)=>{const r=wt($t,e.__scopePopover),n=c.useRef(!1),a=c.useRef(!1);return s.jsx(Ao,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;r.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Ao=c.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,...m}=e,f=wt($t,r),g=fs(r);return Mi(),s.jsx(Oi,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(Ii,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(Ri,{"data-state":Mo(f.open),role:"dialog",id:f.contentId,...g,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Eo="PopoverClose",Mh=c.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=wt(Eo,r);return s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:St(e.onClick,()=>a.onOpenChange(!1))})});Mh.displayName=Eo;var Oh="PopoverArrow",Ih=c.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=fs(r);return s.jsx(Li,{...a,...n,ref:t})});Ih.displayName=Oh;function Mo(e){return e?"open":"closed"}var Rh=So,Lh=_o,Bh=Do,Fh=To;function Bn({...e}){return s.jsx(Rh,{"data-slot":"popover",...e})}function Fn({...e}){return s.jsx(Lh,{"data-slot":"popover-trigger",...e})}function $n({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(Bh,{children:s.jsx(Fh,{"data-slot":"popover-content",align:t,sideOffset:r,className:ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function je(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Be(e,t){const r=je(e);return isNaN(t)?qe(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Xe(e,t){const r=je(e);if(isNaN(t))return qe(e,NaN);if(!t)return r;const n=r.getDate(),a=qe(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return n>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Qr=6048e5,$h=864e5;let Wh={};function ps(){return Wh}function nt(e,t){const r=ps(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=je(e),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function _t(e){return nt(e,{weekStartsOn:1})}function Oo(e){const t=je(e),r=t.getFullYear(),n=qe(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=_t(n),o=qe(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=_t(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Wt(e){const t=je(e);return t.setHours(0,0,0,0),t}function qs(e){const t=je(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function tt(e,t){const r=Wt(e),n=Wt(t),a=+r-qs(r),o=+n-qs(n);return Math.round((a-o)/$h)}function Uh(e){const t=Oo(e),r=qe(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),_t(r)}function Rr(e,t){const r=t*7;return Be(e,r)}function zh(e,t){return Xe(e,t*12)}function qh(e){let t;return e.forEach(function(r){const n=je(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Vh(e){let t;return e.forEach(r=>{const n=je(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function We(e,t){const r=Wt(e),n=Wt(t);return+r==+n}function Zr(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yh(e){if(!Zr(e)&&typeof e!="number")return!1;const t=je(e);return!isNaN(Number(t))}function hs(e,t){const r=je(e),n=je(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return a*12+o}function Hh(e,t,r){const n=nt(e,r),a=nt(t,r),o=+n-qs(n),i=+a-qs(a);return Math.round((o-i)/Qr)}function en(e){const t=je(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ue(e){const t=je(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Io(e){const t=je(e),r=qe(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function tn(e,t){const r=ps(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=je(e),o=a.getDay(),i=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function Ro(e){return tn(e,{weekStartsOn:1})}const Gh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kh=(e,t,r)=>{let n;const a=Gh[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function dr(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Jh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zh={date:dr({formats:Jh,defaultWidth:"full"}),time:dr({formats:Xh,defaultWidth:"full"}),dateTime:dr({formats:Qh,defaultWidth:"full"})},em={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tm=(e,t,r,n)=>em[e];function Zt(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const sm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},am={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},om={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},im={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lm=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cm={ordinalNumber:lm,era:Zt({values:sm,defaultWidth:"wide"}),quarter:Zt({values:rm,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zt({values:nm,defaultWidth:"wide"}),day:Zt({values:am,defaultWidth:"wide"}),dayPeriod:Zt({values:om,defaultWidth:"wide",formattingValues:im,defaultFormattingWidth:"wide"})};function es(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?um(l,m=>m.test(i)):dm(l,m=>m.test(i));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}function dm(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function um(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function hm(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const mm=/^(\d+)(th|st|nd|rd)?/i,fm=/\d+/i,pm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gm={any:[/^b/i,/^(a|c)/i]},xm={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bm={any:[/1/i,/2/i,/3/i,/4/i]},ym={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nm={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},km={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sm={ordinalNumber:hm({matchPattern:mm,parsePattern:fm,valueCallback:e=>parseInt(e,10)}),era:es({matchPatterns:pm,defaultMatchWidth:"wide",parsePatterns:gm,defaultParseWidth:"any"}),quarter:es({matchPatterns:xm,defaultMatchWidth:"wide",parsePatterns:bm,defaultParseWidth:"any",valueCallback:e=>e+1}),month:es({matchPatterns:ym,defaultMatchWidth:"wide",parsePatterns:vm,defaultParseWidth:"any"}),day:es({matchPatterns:wm,defaultMatchWidth:"wide",parsePatterns:Nm,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:jm,defaultMatchWidth:"any",parsePatterns:km,defaultParseWidth:"any"})},Lo={code:"en-US",formatDistance:Kh,formatLong:Zh,formatRelative:tm,localize:cm,match:Sm,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cm(e){const t=je(e);return tt(t,Io(t))+1}function Bo(e){const t=je(e),r=+_t(t)-+Uh(t);return Math.round(r/Qr)+1}function Fo(e,t){const r=je(e),n=r.getFullYear(),a=ps(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=qe(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=nt(i,t),d=qe(e,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const u=nt(d,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Pm(e,t){const r=ps(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Fo(e,t),o=qe(e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),nt(o,t)}function $o(e,t){const r=je(e),n=+nt(r,t)-+Pm(r,t);return Math.round(n/Qr)+1}function Ce(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const mt={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ce(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ce(r+1,2)},d(e,t){return Ce(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ce(e.getHours()%12||12,t.length)},H(e,t){return Ce(e.getHours(),t.length)},m(e,t){return Ce(e.getMinutes(),t.length)},s(e,t){return Ce(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ce(a,t.length)}},Ot={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wn={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return mt.y(e,t)},Y:function(e,t,r,n){const a=Fo(e,n),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Ce(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ce(o,t.length)},R:function(e,t){const r=Oo(e);return Ce(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ce(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ce(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ce(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return mt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ce(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=$o(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ce(a,t.length)},I:function(e,t,r){const n=Bo(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ce(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):mt.d(e,t)},D:function(e,t,r){const n=Cm(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ce(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ce(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ce(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ce(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ot.noon:n===0?a=Ot.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ot.evening:n>=12?a=Ot.afternoon:n>=4?a=Ot.morning:a=Ot.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return mt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):mt.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ce(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ce(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):mt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):mt.s(e,t)},S:function(e,t){return mt.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return zn(n);case"XXXX":case"XX":return kt(n);case"XXXXX":case"XXX":default:return kt(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return zn(n);case"xxxx":case"xx":return kt(n);case"xxxxx":case"xxx":default:return kt(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Un(n,":");case"OOOO":default:return"GMT"+kt(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Un(n,":");case"zzzz":default:return"GMT"+kt(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ce(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ce(n,t.length)}};function Un(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+Ce(o,2)}function zn(e,t){return e%60===0?(e>0?"-":"+")+Ce(Math.abs(e)/60,2):kt(e,t)}function kt(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ce(Math.trunc(n/60),2),o=Ce(n%60,2);return r+a+t+o}const qn=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Wo=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_m=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return qn(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",qn(n,t)).replace("{{time}}",Wo(a,t))},Dm={p:Wo,P:_m},Tm=/^D+$/,Am=/^Y+$/,Em=["D","DD","YY","YYYY"];function Mm(e){return Tm.test(e)}function Om(e){return Am.test(e)}function Im(e,t,r){const n=Rm(e,t,r);if(console.warn(n),Em.includes(e))throw new RangeError(n)}function Rm(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lm=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fm=/^'([^]*?)'?$/,$m=/''/g,Wm=/[a-zA-Z]/;function Tt(e,t,r){const n=ps(),a=r?.locale??n.locale??Lo,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=je(e);if(!Yh(l))throw new RangeError("Invalid time value");let d=t.match(Bm).map(h=>{const m=h[0];if(m==="p"||m==="P"){const f=Dm[m];return f(h,a.formatLong)}return h}).join("").match(Lm).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const m=h[0];if(m==="'")return{isToken:!1,value:Um(h)};if(Wn[m])return{isToken:!0,value:h};if(m.match(Wm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(d=a.localize.preprocessor(l,d));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return d.map(h=>{if(!h.isToken)return h.value;const m=h.value;(!r?.useAdditionalWeekYearTokens&&Om(m)||!r?.useAdditionalDayOfYearTokens&&Mm(m))&&Im(m,t,String(e));const f=Wn[m[0]];return f(l,m,a.localize,u)}).join("")}function Um(e){const t=e.match(Fm);return t?t[1].replace($m,"'"):e}function zm(e){const t=je(e),r=t.getFullYear(),n=t.getMonth(),a=qe(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function qm(e){return Math.trunc(+je(e)/1e3)}function Vm(e){const t=je(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Ym(e,t){return Hh(Vm(e),Ue(e),t)+1}function Lr(e,t){const r=je(e),n=je(t);return r.getTime()>n.getTime()}function Uo(e,t){const r=je(e),n=je(t);return+r<+n}function sn(e,t){const r=je(e),n=je(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Hm(e,t){const r=je(e),n=je(t);return r.getFullYear()===n.getFullYear()}function ur(e,t){return Be(e,-t)}function hr(e,t){const r=je(e),n=r.getFullYear(),a=r.getDate(),o=qe(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=zm(o);return r.setMonth(t,Math.min(a,i)),r}function Vn(e,t){const r=je(e);return isNaN(+r)?qe(e,NaN):(r.setFullYear(t),r)}var oe=function(){return oe=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},oe.apply(this,arguments)};function Gm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function zo(e,t,r){for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function gs(e){return e.mode==="multiple"}function xs(e){return e.mode==="range"}function tr(e){return e.mode==="single"}var Km={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Jm(e,t){return Tt(e,"LLLL y",t)}function Xm(e,t){return Tt(e,"d",t)}function Qm(e,t){return Tt(e,"LLLL",t)}function Zm(e){return"".concat(e)}function ef(e,t){return Tt(e,"cccccc",t)}function tf(e,t){return Tt(e,"yyyy",t)}var sf=Object.freeze({__proto__:null,formatCaption:Jm,formatDay:Xm,formatMonthCaption:Qm,formatWeekNumber:Zm,formatWeekdayName:ef,formatYearCaption:tf}),rf=function(e,t,r){return Tt(e,"do MMMM (EEEE)",r)},nf=function(){return"Month: "},af=function(){return"Go to next month"},of=function(){return"Go to previous month"},lf=function(e,t){return Tt(e,"cccc",t)},cf=function(e){return"Week n. ".concat(e)},df=function(){return"Year: "},uf=Object.freeze({__proto__:null,labelDay:rf,labelMonthDropdown:nf,labelNext:af,labelPrevious:of,labelWeekNumber:cf,labelWeekday:lf,labelYearDropdown:df});function hf(){var e="buttons",t=Km,r=Lo,n={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:sf,labels:uf,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function mf(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=Ue(n):t&&(o=new Date(t,0,1)),a?i=en(a):r&&(i=new Date(r,11,31)),{fromDate:o?Wt(o):void 0,toDate:i?Wt(i):void 0}}var qo=c.createContext(void 0);function ff(e){var t,r=e.initialProps,n=hf(),a=mf(r),o=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;(tr(r)||gs(r)||xs(r))&&(d=r.onSelect);var u=oe(oe(oe({},n),r),{captionLayout:l,classNames:oe(oe({},n.classNames),r.classNames),components:oe({},r.components),formatters:oe(oe({},n.formatters),r.formatters),fromDate:o,labels:oe(oe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:oe(oe({},n.modifiers),r.modifiers),modifiersClassNames:oe(oe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:oe(oe({},n.styles),r.styles),toDate:i});return s.jsx(qo.Provider,{value:u,children:e.children})}function Pe(){var e=c.useContext(qo);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Vo(e){var t=Pe(),r=t.locale,n=t.classNames,a=t.styles,o=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function pf(e){return s.jsx("svg",oe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Yo(e){var t,r,n=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,u=Pe(),h=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:pf;return s.jsxs("div",{className:l,style:d,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:o}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,s.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function gf(e){var t,r=Pe(),n=r.fromDate,a=r.toDate,o=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,u=r.components,h=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var m=[];if(Hm(n,a))for(var f=Ue(n),g=n.getMonth();g<=a.getMonth();g++)m.push(hr(f,g));else for(var f=Ue(new Date),g=0;g<=11;g++)m.push(hr(f,g));var x=function(j){var v=Number(j.target.value),T=hr(Ue(e.displayMonth),v);e.onChange(T)},y=(t=u?.Dropdown)!==null&&t!==void 0?t:Yo;return s.jsx(y,{name:"months","aria-label":h(),className:d.dropdown_month,style:o.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(j){return s.jsx("option",{value:j.getMonth(),children:l(j,{locale:i})},j.getMonth())})})}function xf(e){var t,r=e.displayMonth,n=Pe(),a=n.fromDate,o=n.toDate,i=n.locale,l=n.styles,d=n.classNames,u=n.components,h=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});for(var g=a.getFullYear(),x=o.getFullYear(),y=g;y<=x;y++)f.push(Vn(Io(new Date),y));var j=function(T){var Q=Vn(Ue(r),Number(T.target.value));e.onChange(Q)},v=(t=u?.Dropdown)!==null&&t!==void 0?t:Yo;return s.jsx(v,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:j,value:r.getFullYear(),caption:h(r,{locale:i}),children:f.map(function(T){return s.jsx("option",{value:T.getFullYear(),children:h(T,{locale:i})},T.getFullYear())})})}function bf(e,t){var r=c.useState(e),n=r[0],a=r[1],o=t===void 0?n:t;return[o,a]}function yf(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&hs(o,a)<0){var u=-1*(d-1);a=Xe(o,u)}return i&&hs(a,i)<0&&(a=i),Ue(a)}function vf(){var e=Pe(),t=yf(e),r=bf(t,e.month),n=r[0],a=r[1],o=function(i){var l;if(!e.disableNavigation){var d=Ue(i);a(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[n,o]}function wf(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ue(e),o=Ue(Xe(a,n)),i=hs(o,a),l=[],d=0;d<i;d++){var u=Xe(a,d);l.push(u)}return r&&(l=l.reverse()),l}function Nf(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=n?o:1,l=Ue(e);if(!r)return Xe(l,i);var d=hs(r,e);if(!(d<o))return Xe(l,i)}}function jf(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=n?o:1,l=Ue(e);if(!r)return Xe(l,-i);var d=hs(l,r);if(!(d<=0))return Xe(l,-i)}}var Ho=c.createContext(void 0);function kf(e){var t=Pe(),r=vf(),n=r[0],a=r[1],o=wf(n,t),i=Nf(n,t),l=jf(n,t),d=function(m){return o.some(function(f){return sn(m,f)})},u=function(m,f){d(m)||(f&&Uo(m,f)?a(Xe(m,1+t.numberOfMonths*-1)):a(m))},h={currentMonth:n,displayMonths:o,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:d};return s.jsx(Ho.Provider,{value:h,children:e.children})}function bs(){var e=c.useContext(Ho);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Yn(e){var t,r=Pe(),n=r.classNames,a=r.styles,o=r.components,i=bs().goToMonth,l=function(h){i(Xe(h,e.displayIndex?-e.displayIndex:0))},d=(t=o?.CaptionLabel)!==null&&t!==void 0?t:Vo,u=s.jsx(d,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(gf,{onChange:l,displayMonth:e.displayMonth}),s.jsx(xf,{onChange:l,displayMonth:e.displayMonth})]})}function Sf(e){return s.jsx("svg",oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Cf(e){return s.jsx("svg",oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Vs=c.forwardRef(function(e,t){var r=Pe(),n=r.classNames,a=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),l=oe(oe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",oe({},e,{ref:t,type:"button",className:i,style:l}))});function Pf(e){var t,r,n=Pe(),a=n.dir,o=n.locale,i=n.classNames,l=n.styles,d=n.labels,u=d.labelPrevious,h=d.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=u(e.previousMonth,{locale:o}),g=[i.nav_button,i.nav_button_previous].join(" "),x=h(e.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),j=(t=m?.IconRight)!==null&&t!==void 0?t:Cf,v=(r=m?.IconLeft)!==null&&r!==void 0?r:Sf;return s.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Vs,{name:"previous-month","aria-label":f,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(j,{className:i.nav_icon,style:l.nav_icon}):s.jsx(v,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Vs,{name:"next-month","aria-label":x,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(v,{className:i.nav_icon,style:l.nav_icon}):s.jsx(j,{className:i.nav_icon,style:l.nav_icon})})]})}function Hn(e){var t=Pe().numberOfMonths,r=bs(),n=r.previousMonth,a=r.nextMonth,o=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(x){return sn(e.displayMonth,x)}),d=l===0,u=l===i.length-1,h=t>1&&(d||!u),m=t>1&&(u||!d),f=function(){n&&o(n)},g=function(){a&&o(a)};return s.jsx(Pf,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:a,previousMonth:n,onPreviousClick:f,onNextClick:g})}function _f(e){var t,r=Pe(),n=r.classNames,a=r.disableNavigation,o=r.styles,i=r.captionLayout,l=r.components,d=(t=l?.CaptionLabel)!==null&&t!==void 0?t:Vo,u;return a?u=s.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=s.jsx(Yn,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(Yn,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Hn,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Hn,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:o.caption,children:u})}function Df(e){var t=Pe(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Tf(e,t,r){for(var n=r?_t(new Date):nt(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Be(n,o);a.push(i)}return a}function Af(){var e=Pe(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,u=Tf(a,o,i);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(h,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(h,{locale:a}),children:l(h,{locale:a})},m)})]})}function Ef(){var e,t=Pe(),r=t.classNames,n=t.styles,a=t.components,o=(e=a?.HeadRow)!==null&&e!==void 0?e:Af;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(o,{})})}function Mf(e){var t=Pe(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var rn=c.createContext(void 0);function Of(e){if(!gs(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(rn.Provider,{value:t,children:e.children})}return s.jsx(If,{initialProps:e.initialProps,children:e.children})}function If(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,o=t.max,i=function(u,h,m){var f,g;(f=t.onDayClick)===null||f===void 0||f.call(t,u,h,m);var x=!!(h.selected&&a&&n?.length===a);if(!x){var y=!!(!h.selected&&o&&n?.length===o);if(!y){var j=n?zo([],n):[];if(h.selected){var v=j.findIndex(function(T){return We(u,T)});j.splice(v,1)}else j.push(u);(g=t.onSelect)===null||g===void 0||g.call(t,j,u,h,m)}}},l={disabled:[]};n&&l.disabled.push(function(u){var h=o&&n.length>o-1,m=n.some(function(f){return We(f,u)});return!!(h&&!m)});var d={selected:n,onDayClick:i,modifiers:l};return s.jsx(rn.Provider,{value:d,children:r})}function nn(){var e=c.useContext(rn);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Rf(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?We(a,e)&&We(n,e)?void 0:We(a,e)?{from:a,to:void 0}:We(n,e)?void 0:Lr(n,e)?{from:e,to:a}:{from:n,to:e}:a?Lr(e,a)?{from:a,to:e}:{from:e,to:a}:n?Uo(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var an=c.createContext(void 0);function Lf(e){if(!xs(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(an.Provider,{value:t,children:e.children})}return s.jsx(Bf,{initialProps:e.initialProps,children:e.children})}function Bf(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},o=a.from,i=a.to,l=t.min,d=t.max,u=function(g,x,y){var j,v;(j=t.onDayClick)===null||j===void 0||j.call(t,g,x,y);var T=Rf(g,n);(v=t.onSelect)===null||v===void 0||v.call(t,T,g,x,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],i?(h.range_end=[i],We(o,i)||(h.range_middle=[{after:o,before:i}])):h.range_end=[o]):i&&(h.range_start=[i],h.range_end=[i]),l&&(o&&!i&&h.disabled.push({after:ur(o,l-1),before:Be(o,l-1)}),o&&i&&h.disabled.push({after:o,before:Be(o,l-1)}),!o&&i&&h.disabled.push({after:ur(i,l-1),before:Be(i,l-1)})),d){if(o&&!i&&(h.disabled.push({before:Be(o,-d+1)}),h.disabled.push({after:Be(o,d-1)})),o&&i){var m=tt(i,o)+1,f=d-m;h.disabled.push({before:ur(o,f)}),h.disabled.push({after:Be(i,f)})}!o&&i&&(h.disabled.push({before:Be(i,-d+1)}),h.disabled.push({after:Be(i,d-1)}))}return s.jsx(an.Provider,{value:{selected:n,onDayClick:u,modifiers:h},children:r})}function on(){var e=c.useContext(an);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Bs(e){return Array.isArray(e)?zo([],e):e!==void 0?[e]:[]}function Ff(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Bs(a)}),t}var Qe;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Qe||(Qe={}));var $f=Qe.Selected,ot=Qe.Disabled,Wf=Qe.Hidden,Uf=Qe.Today,mr=Qe.RangeEnd,fr=Qe.RangeMiddle,pr=Qe.RangeStart,zf=Qe.Outside;function qf(e,t,r){var n,a=(n={},n[$f]=Bs(e.selected),n[ot]=Bs(e.disabled),n[Wf]=Bs(e.hidden),n[Uf]=[e.today],n[mr]=[],n[fr]=[],n[pr]=[],n[zf]=[],n);return e.fromDate&&a[ot].push({before:e.fromDate}),e.toDate&&a[ot].push({after:e.toDate}),gs(e)?a[ot]=a[ot].concat(t.modifiers[ot]):xs(e)&&(a[ot]=a[ot].concat(r.modifiers[ot]),a[pr]=r.modifiers[pr],a[fr]=r.modifiers[fr],a[mr]=r.modifiers[mr]),a}var Go=c.createContext(void 0);function Vf(e){var t=Pe(),r=nn(),n=on(),a=qf(t,r,n),o=Ff(t.modifiers),i=oe(oe({},a),o);return s.jsx(Go.Provider,{value:i,children:e.children})}function Ko(){var e=c.useContext(Go);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Yf(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Hf(e){return!!(e&&typeof e=="object"&&"from"in e)}function Gf(e){return!!(e&&typeof e=="object"&&"after"in e)}function Kf(e){return!!(e&&typeof e=="object"&&"before"in e)}function Jf(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Xf(e,t){var r,n=t.from,a=t.to;if(n&&a){var o=tt(a,n)<0;o&&(r=[a,n],n=r[0],a=r[1]);var i=tt(e,n)>=0&&tt(a,e)>=0;return i}return a?We(a,e):n?We(n,e):!1}function Qf(e){return Zr(e)}function Zf(e){return Array.isArray(e)&&e.every(Zr)}function ep(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Qf(r))return We(e,r);if(Zf(r))return r.includes(e);if(Hf(r))return Xf(e,r);if(Jf(r))return r.dayOfWeek.includes(e.getDay());if(Yf(r)){var n=tt(r.before,e),a=tt(r.after,e),o=n>0,i=a<0,l=Lr(r.before,r.after);return l?i&&o:o||i}return Gf(r)?tt(e,r.after)>0:Kf(r)?tt(r.before,e)>0:typeof r=="function"?r(e):!1})}function ln(e,t,r){var n=Object.keys(t).reduce(function(o,i){var l=t[i];return ep(e,l)&&o.push(i),o},[]),a={};return n.forEach(function(o){return a[o]=!0}),r&&!sn(e,r)&&(a.outside=!0),a}function tp(e,t){for(var r=Ue(e[0]),n=en(e[e.length-1]),a,o,i=r;i<=n;){var l=ln(i,t),d=!l.disabled&&!l.hidden;if(!d){i=Be(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Be(i,1)}return o||a}var sp=365;function Jo(e,t){var r=t.moveBy,n=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=a.weekStartsOn,u=a.fromDate,h=a.toDate,m=a.locale,f={day:Be,week:Rr,month:Xe,year:zh,startOfWeek:function(j){return a.ISOWeek?_t(j):nt(j,{locale:m,weekStartsOn:d})},endOfWeek:function(j){return a.ISOWeek?Ro(j):tn(j,{locale:m,weekStartsOn:d})}},g=f[r](e,n==="after"?1:-1);n==="before"&&u?g=qh([u,g]):n==="after"&&h&&(g=Vh([h,g]));var x=!0;if(o){var y=ln(g,o);x=!y.disabled&&!y.hidden}return x?g:l.count>sp?l.lastFocused:Jo(g,{moveBy:r,direction:n,context:a,modifiers:o,retry:oe(oe({},l),{count:l.count+1})})}var Xo=c.createContext(void 0);function rp(e){var t=bs(),r=Ko(),n=c.useState(),a=n[0],o=n[1],i=c.useState(),l=i[0],d=i[1],u=tp(t.displayMonths,r),h=a??(l&&t.isDateDisplayed(l))?l:u,m=function(){d(a),o(void 0)},f=function(j){o(j)},g=Pe(),x=function(j,v){if(a){var T=Jo(a,{moveBy:j,direction:v,context:g,modifiers:r});We(a,T)||(t.goToDate(T,a),f(T))}},y={focusedDay:a,focusTarget:h,blur:m,focus:f,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return s.jsx(Xo.Provider,{value:y,children:e.children})}function cn(){var e=c.useContext(Xo);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function np(e,t){var r=Ko(),n=ln(e,r,t);return n}var dn=c.createContext(void 0);function ap(e){if(!tr(e.initialProps)){var t={selected:void 0};return s.jsx(dn.Provider,{value:t,children:e.children})}return s.jsx(op,{initialProps:e.initialProps,children:e.children})}function op(e){var t=e.initialProps,r=e.children,n=function(o,i,l){var d,u,h;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:n};return s.jsx(dn.Provider,{value:a,children:r})}function Qo(){var e=c.useContext(dn);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ip(e,t){var r=Pe(),n=Qo(),a=nn(),o=on(),i=cn(),l=i.focusDayAfter,d=i.focusDayBefore,u=i.focusWeekAfter,h=i.focusWeekBefore,m=i.blur,f=i.focus,g=i.focusMonthBefore,x=i.focusMonthAfter,y=i.focusYearBefore,j=i.focusYearAfter,v=i.focusStartOfWeek,T=i.focusEndOfWeek,Q=function(_){var k,H,Ne,te;tr(r)?(k=n.onDayClick)===null||k===void 0||k.call(n,e,t,_):gs(r)?(H=a.onDayClick)===null||H===void 0||H.call(a,e,t,_):xs(r)?(Ne=o.onDayClick)===null||Ne===void 0||Ne.call(o,e,t,_):(te=r.onDayClick)===null||te===void 0||te.call(r,e,t,_)},fe=function(_){var k;f(e),(k=r.onDayFocus)===null||k===void 0||k.call(r,e,t,_)},Y=function(_){var k;m(),(k=r.onDayBlur)===null||k===void 0||k.call(r,e,t,_)},W=function(_){var k;(k=r.onDayMouseEnter)===null||k===void 0||k.call(r,e,t,_)},I=function(_){var k;(k=r.onDayMouseLeave)===null||k===void 0||k.call(r,e,t,_)},M=function(_){var k;(k=r.onDayPointerEnter)===null||k===void 0||k.call(r,e,t,_)},R=function(_){var k;(k=r.onDayPointerLeave)===null||k===void 0||k.call(r,e,t,_)},le=function(_){var k;(k=r.onDayTouchCancel)===null||k===void 0||k.call(r,e,t,_)},J=function(_){var k;(k=r.onDayTouchEnd)===null||k===void 0||k.call(r,e,t,_)},X=function(_){var k;(k=r.onDayTouchMove)===null||k===void 0||k.call(r,e,t,_)},U=function(_){var k;(k=r.onDayTouchStart)===null||k===void 0||k.call(r,e,t,_)},de=function(_){var k;(k=r.onDayKeyUp)===null||k===void 0||k.call(r,e,t,_)},ee=function(_){var k;switch(_.key){case"ArrowLeft":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":_.preventDefault(),_.stopPropagation(),u();break;case"ArrowUp":_.preventDefault(),_.stopPropagation(),h();break;case"PageUp":_.preventDefault(),_.stopPropagation(),_.shiftKey?y():g();break;case"PageDown":_.preventDefault(),_.stopPropagation(),_.shiftKey?j():x();break;case"Home":_.preventDefault(),_.stopPropagation(),v();break;case"End":_.preventDefault(),_.stopPropagation(),T();break}(k=r.onDayKeyDown)===null||k===void 0||k.call(r,e,t,_)},he={onClick:Q,onFocus:fe,onBlur:Y,onKeyDown:ee,onKeyUp:de,onMouseEnter:W,onMouseLeave:I,onPointerEnter:M,onPointerLeave:R,onTouchCancel:le,onTouchEnd:J,onTouchMove:X,onTouchStart:U};return he}function lp(){var e=Pe(),t=Qo(),r=nn(),n=on(),a=tr(e)?t.selected:gs(e)?r.selected:xs(e)?n.selected:void 0;return a}function cp(e){return Object.values(Qe).includes(e)}function dp(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(cp(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function up(e,t){var r=oe({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=oe(oe({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function hp(e,t,r){var n,a,o,i=Pe(),l=cn(),d=np(e,t),u=ip(e,d),h=lp(),m=!!(i.onDayClick||i.mode!=="default");c.useEffect(function(){var W;d.outside||l.focusedDay&&m&&We(l.focusedDay,e)&&((W=r.current)===null||W===void 0||W.focus())},[l.focusedDay,e,r,m,d.outside]);var f=dp(i,d).join(" "),g=up(i,d),x=!!(d.outside&&!i.showOutsideDays||d.hidden),y=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:Mf,j=s.jsx(y,{date:e,displayMonth:t,activeModifiers:d}),v={style:g,className:f,children:j,role:"gridcell"},T=l.focusTarget&&We(l.focusTarget,e)&&!d.outside,Q=l.focusedDay&&We(l.focusedDay,e),fe=oe(oe(oe({},v),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=Q||T?0:-1,n)),u),Y={isButton:m,isHidden:x,activeModifiers:d,selectedDays:h,buttonProps:fe,divProps:v};return Y}function mp(e){var t=c.useRef(null),r=hp(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Vs,oe({name:"day",ref:t},r.buttonProps)):s.jsx("div",oe({},r.divProps))}function fp(e){var t=e.number,r=e.dates,n=Pe(),a=n.onWeekNumberClick,o=n.styles,i=n.classNames,l=n.locale,d=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,h=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:h});var m=d(Number(t),{locale:l}),f=function(g){a(t,r,g)};return s.jsx(Vs,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:f,children:h})}function pp(e){var t,r,n=Pe(),a=n.styles,o=n.classNames,i=n.showWeekNumber,l=n.components,d=(t=l?.Day)!==null&&t!==void 0?t:mp,u=(r=l?.WeekNumber)!==null&&r!==void 0?r:fp,h;return i&&(h=s.jsx("td",{className:o.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:a.row,children:[h,e.dates.map(function(m){return s.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:s.jsx(d,{displayMonth:e.displayMonth,date:m})},qm(m))})]})}function Gn(e,t,r){for(var n=r?.ISOWeek?Ro(t):tn(t,r),a=r?.ISOWeek?_t(e):nt(e,r),o=tt(n,a),i=[],l=0;l<=o;l++)i.push(Be(a,l));var d=i.reduce(function(u,h){var m=r?.ISOWeek?Bo(h):$o(h,r),f=u.find(function(g){return g.weekNumber===m});return f?(f.dates.push(h),u):(u.push({weekNumber:m,dates:[h]}),u)},[]);return d}function gp(e,t){var r=Gn(Ue(e),en(e),t);if(t?.useFixedWeeks){var n=Ym(e,t);if(n<6){var a=r[r.length-1],o=a.dates[a.dates.length-1],i=Rr(o,6-n),l=Gn(Rr(o,1),i,t);r.push.apply(r,l)}}return r}function xp(e){var t,r,n,a=Pe(),o=a.locale,i=a.classNames,l=a.styles,d=a.hideHead,u=a.fixedWeeks,h=a.components,m=a.weekStartsOn,f=a.firstWeekContainsDate,g=a.ISOWeek,x=gp(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:o,weekStartsOn:m,firstWeekContainsDate:f}),y=(t=h?.Head)!==null&&t!==void 0?t:Ef,j=(r=h?.Row)!==null&&r!==void 0?r:pp,v=(n=h?.Footer)!==null&&n!==void 0?n:Df;return s.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&s.jsx(y,{}),s.jsx("tbody",{className:i.tbody,style:l.tbody,children:x.map(function(T){return s.jsx(j,{displayMonth:e.displayMonth,dates:T.dates,weekNumber:T.weekNumber},T.weekNumber)})}),s.jsx(v,{displayMonth:e.displayMonth})]})}function bp(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var yp=bp()?c.useLayoutEffect:c.useEffect,gr=!1,vp=0;function Kn(){return"react-day-picker-".concat(++vp)}function wp(e){var t,r=e??(gr?Kn():null),n=c.useState(r),a=n[0],o=n[1];return yp(function(){a===null&&o(Kn())},[]),c.useEffect(function(){gr===!1&&(gr=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Np(e){var t,r,n=Pe(),a=n.dir,o=n.classNames,i=n.styles,l=n.components,d=bs().displayMonths,u=wp(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],f=i.month,g=e.displayIndex===0,x=e.displayIndex===d.length-1,y=!g&&!x;a==="rtl"&&(t=[g,x],x=t[0],g=t[1]),g&&(m.push(o.caption_start),f=oe(oe({},f),i.caption_start)),x&&(m.push(o.caption_end),f=oe(oe({},f),i.caption_end)),y&&(m.push(o.caption_between),f=oe(oe({},f),i.caption_between));var j=(r=l?.Caption)!==null&&r!==void 0?r:_f;return s.jsxs("div",{className:m.join(" "),style:f,children:[s.jsx(j,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(xp,{id:h,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function jp(e){var t=Pe(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function kp(e){var t,r,n=e.initialProps,a=Pe(),o=cn(),i=bs(),l=c.useState(!1),d=l[0],u=l[1];c.useEffect(function(){a.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),u(!0)))},[a.initialFocus,d,o.focus,o.focusTarget,o]);var h=[a.classNames.root,a.className];a.numberOfMonths>1&&h.push(a.classNames.multiple_months),a.showWeekNumber&&h.push(a.classNames.with_weeknumber);var m=oe(oe({},a.styles.root),a.style),f=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var j;return oe(oe({},x),(j={},j[y]=n[y],j))},{}),g=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:jp;return s.jsx("div",oe({className:h.join(" "),style:m,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:s.jsx(g,{children:i.displayMonths.map(function(x,y){return s.jsx(Np,{displayIndex:y,displayMonth:x},y)})})}))}function Sp(e){var t=e.children,r=Gm(e,["children"]);return s.jsx(ff,{initialProps:r,children:s.jsx(kf,{children:s.jsx(ap,{initialProps:r,children:s.jsx(Of,{initialProps:r,children:s.jsx(Lf,{initialProps:r,children:s.jsx(Vf,{children:s.jsx(rp,{children:t})})})})})})})}function Cp(e){return s.jsx(Sp,oe({},e,{children:s.jsx(kp,{initialProps:e})}))}function Pp({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(Cp,{showOutsideDays:r,className:ie("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:ie(Pr({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:ie("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:ie(Pr({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...o})=>s.jsx(hl,{className:ie("size-4",a),...o}),IconRight:({className:a,...o})=>s.jsx(fa,{className:ie("size-4",a),...o})},...n})}var Jn=1,_p=.9,Dp=.8,Tp=.17,xr=.1,br=.999,Ap=.9999,Ep=.99,Mp=/[\\\/_+.#"@\[\(\{&]/,Op=/[\\\/_+.#"@\[\(\{&]/g,Ip=/[\s-]/,Zo=/[\s-]/g;function Br(e,t,r,n,a,o,i){if(o===t.length)return a===e.length?Jn:Ep;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var d=n.charAt(o),u=r.indexOf(d,a),h=0,m,f,g,x;u>=0;)m=Br(e,t,r,n,u+1,o+1,i),m>h&&(u===a?m*=Jn:Mp.test(e.charAt(u-1))?(m*=Dp,g=e.slice(a,u-1).match(Op),g&&a>0&&(m*=Math.pow(br,g.length))):Ip.test(e.charAt(u-1))?(m*=_p,x=e.slice(a,u-1).match(Zo),x&&a>0&&(m*=Math.pow(br,x.length))):(m*=Tp,a>0&&(m*=Math.pow(br,u-a))),e.charAt(u)!==t.charAt(o)&&(m*=Ap)),(m<xr&&r.charAt(u-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(u-1)!==n.charAt(o))&&(f=Br(e,t,r,n,u+1,o+2,i),f*xr>m&&(m=f*xr)),m>h&&(h=m),u=r.indexOf(d,u+1);return i[l]=h,h}function Xn(e){return e.toLowerCase().replace(Zo," ")}function Rp(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Br(e,t,Xn(e),Xn(t),0,0,{})}var ts='[cmdk-group=""]',yr='[cmdk-group-items=""]',Lp='[cmdk-group-heading=""]',ei='[cmdk-item=""]',Qn=`${ei}:not([aria-disabled="true"])`,Fr="cmdk-item-select",It="data-value",Bp=(e,t,r)=>Rp(e,t,r),ti=c.createContext(void 0),ys=()=>c.useContext(ti),si=c.createContext(void 0),un=()=>c.useContext(si),ri=c.createContext(void 0),ni=c.forwardRef((e,t)=>{let r=Rt(()=>{var p,C;return{search:"",value:(C=(p=e.value)!=null?p:e.defaultValue)!=null?C:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Rt(()=>new Set),a=Rt(()=>new Map),o=Rt(()=>new Map),i=Rt(()=>new Set),l=ai(e),{label:d,children:u,value:h,onValueChange:m,filter:f,shouldFilter:g,loop:x,disablePointerSelection:y=!1,vimBindings:j=!0,...v}=e,T=Ct(),Q=Ct(),fe=Ct(),Y=c.useRef(null),W=Kp();Dt(()=>{if(h!==void 0){let p=h.trim();r.current.value=p,I.emit()}},[h]),Dt(()=>{W(6,U)},[]);let I=c.useMemo(()=>({subscribe:p=>(i.current.add(p),()=>i.current.delete(p)),snapshot:()=>r.current,setState:(p,C,E)=>{var O,b,S,P;if(!Object.is(r.current[p],C)){if(r.current[p]=C,p==="search")X(),le(),W(1,J);else if(p==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let A=document.getElementById(fe);A?A.focus():(O=document.getElementById(T))==null||O.focus()}if(W(7,()=>{var A;r.current.selectedItemId=(A=de())==null?void 0:A.id,I.emit()}),E||W(5,U),((b=l.current)==null?void 0:b.value)!==void 0){let A=C??"";(P=(S=l.current).onValueChange)==null||P.call(S,A);return}}I.emit()}},emit:()=>{i.current.forEach(p=>p())}}),[]),M=c.useMemo(()=>({value:(p,C,E)=>{var O;C!==((O=o.current.get(p))==null?void 0:O.value)&&(o.current.set(p,{value:C,keywords:E}),r.current.filtered.items.set(p,R(C,E)),W(2,()=>{le(),I.emit()}))},item:(p,C)=>(n.current.add(p),C&&(a.current.has(C)?a.current.get(C).add(p):a.current.set(C,new Set([p]))),W(3,()=>{X(),le(),r.current.value||J(),I.emit()}),()=>{o.current.delete(p),n.current.delete(p),r.current.filtered.items.delete(p);let E=de();W(4,()=>{X(),E?.getAttribute("id")===p&&J(),I.emit()})}),group:p=>(a.current.has(p)||a.current.set(p,new Set),()=>{o.current.delete(p),a.current.delete(p)}),filter:()=>l.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:T,inputId:fe,labelId:Q,listInnerRef:Y}),[]);function R(p,C){var E,O;let b=(O=(E=l.current)==null?void 0:E.filter)!=null?O:Bp;return p?b(p,r.current.search,C):0}function le(){if(!r.current.search||l.current.shouldFilter===!1)return;let p=r.current.filtered.items,C=[];r.current.filtered.groups.forEach(O=>{let b=a.current.get(O),S=0;b.forEach(P=>{let A=p.get(P);S=Math.max(A,S)}),C.push([O,S])});let E=Y.current;ee().sort((O,b)=>{var S,P;let A=O.getAttribute("id"),re=b.getAttribute("id");return((S=p.get(re))!=null?S:0)-((P=p.get(A))!=null?P:0)}).forEach(O=>{let b=O.closest(yr);b?b.appendChild(O.parentElement===b?O:O.closest(`${yr} > *`)):E.appendChild(O.parentElement===E?O:O.closest(`${yr} > *`))}),C.sort((O,b)=>b[1]-O[1]).forEach(O=>{var b;let S=(b=Y.current)==null?void 0:b.querySelector(`${ts}[${It}="${encodeURIComponent(O[0])}"]`);S?.parentElement.appendChild(S)})}function J(){let p=ee().find(E=>E.getAttribute("aria-disabled")!=="true"),C=p?.getAttribute(It);I.setState("value",C||void 0)}function X(){var p,C,E,O;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let b=0;for(let S of n.current){let P=(C=(p=o.current.get(S))==null?void 0:p.value)!=null?C:"",A=(O=(E=o.current.get(S))==null?void 0:E.keywords)!=null?O:[],re=R(P,A);r.current.filtered.items.set(S,re),re>0&&b++}for(let[S,P]of a.current)for(let A of P)if(r.current.filtered.items.get(A)>0){r.current.filtered.groups.add(S);break}r.current.filtered.count=b}function U(){var p,C,E;let O=de();O&&(((p=O.parentElement)==null?void 0:p.firstChild)===O&&((E=(C=O.closest(ts))==null?void 0:C.querySelector(Lp))==null||E.scrollIntoView({block:"nearest"})),O.scrollIntoView({block:"nearest"}))}function de(){var p;return(p=Y.current)==null?void 0:p.querySelector(`${ei}[aria-selected="true"]`)}function ee(){var p;return Array.from(((p=Y.current)==null?void 0:p.querySelectorAll(Qn))||[])}function he(p){let C=ee()[p];C&&I.setState("value",C.getAttribute(It))}function _(p){var C;let E=de(),O=ee(),b=O.findIndex(P=>P===E),S=O[b+p];(C=l.current)!=null&&C.loop&&(S=b+p<0?O[O.length-1]:b+p===O.length?O[0]:O[b+p]),S&&I.setState("value",S.getAttribute(It))}function k(p){let C=de(),E=C?.closest(ts),O;for(;E&&!O;)E=p>0?Hp(E,ts):Gp(E,ts),O=E?.querySelector(Qn);O?I.setState("value",O.getAttribute(It)):_(p)}let H=()=>he(ee().length-1),Ne=p=>{p.preventDefault(),p.metaKey?H():p.altKey?k(1):_(1)},te=p=>{p.preventDefault(),p.metaKey?he(0):p.altKey?k(-1):_(-1)};return c.createElement(Ve.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:p=>{var C;(C=v.onKeyDown)==null||C.call(v,p);let E=p.nativeEvent.isComposing||p.keyCode===229;if(!(p.defaultPrevented||E))switch(p.key){case"n":case"j":{j&&p.ctrlKey&&Ne(p);break}case"ArrowDown":{Ne(p);break}case"p":case"k":{j&&p.ctrlKey&&te(p);break}case"ArrowUp":{te(p);break}case"Home":{p.preventDefault(),he(0);break}case"End":{p.preventDefault(),H();break}case"Enter":{p.preventDefault();let O=de();if(O){let b=new Event(Fr);O.dispatchEvent(b)}}}}},c.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:Xp},d),sr(e,p=>c.createElement(si.Provider,{value:I},c.createElement(ti.Provider,{value:M},p))))}),Fp=c.forwardRef((e,t)=>{var r,n;let a=Ct(),o=c.useRef(null),i=c.useContext(ri),l=ys(),d=ai(e),u=(n=(r=d.current)==null?void 0:r.forceMount)!=null?n:i?.forceMount;Dt(()=>{if(!u)return l.item(a,i?.id)},[u]);let h=oi(a,o,[e.value,e.children,o],e.keywords),m=un(),f=vt(W=>W.value&&W.value===h.current),g=vt(W=>u||l.filter()===!1?!0:W.search?W.filtered.items.get(a)>0:!0);c.useEffect(()=>{let W=o.current;if(!(!W||e.disabled))return W.addEventListener(Fr,x),()=>W.removeEventListener(Fr,x)},[g,e.onSelect,e.disabled]);function x(){var W,I;y(),(I=(W=d.current).onSelect)==null||I.call(W,h.current)}function y(){m.setState("value",h.current,!0)}if(!g)return null;let{disabled:j,value:v,onSelect:T,forceMount:Q,keywords:fe,...Y}=e;return c.createElement(Ve.div,{ref:Pt(o,t),...Y,id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!f,"data-disabled":!!j,"data-selected":!!f,onPointerMove:j||l.getDisablePointerSelection()?void 0:y,onClick:j?void 0:x},e.children)}),$p=c.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,i=Ct(),l=c.useRef(null),d=c.useRef(null),u=Ct(),h=ys(),m=vt(g=>a||h.filter()===!1?!0:g.search?g.filtered.groups.has(i):!0);Dt(()=>h.group(i),[]),oi(i,l,[e.value,e.heading,d]);let f=c.useMemo(()=>({id:i,forceMount:a}),[a]);return c.createElement(Ve.div,{ref:Pt(l,t),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&c.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),sr(e,g=>c.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},c.createElement(ri.Provider,{value:f},g))))}),Wp=c.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=c.useRef(null),o=vt(i=>!i.search);return!r&&!o?null:c.createElement(Ve.div,{ref:Pt(a,t),...n,"cmdk-separator":"",role:"separator"})}),Up=c.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=un(),i=vt(u=>u.search),l=vt(u=>u.selectedItemId),d=ys();return c.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),c.createElement(Ve.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":l,id:d.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||o.setState("search",u.target.value),r?.(u.target.value)}})}),zp=c.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=c.useRef(null),i=c.useRef(null),l=vt(u=>u.selectedItemId),d=ys();return c.useEffect(()=>{if(i.current&&o.current){let u=i.current,h=o.current,m,f=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let g=u.offsetHeight;h.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return f.observe(u),()=>{cancelAnimationFrame(m),f.unobserve(u)}}},[]),c.createElement(Ve.div,{ref:Pt(o,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:d.listId},sr(e,u=>c.createElement("div",{ref:Pt(i,d.listInnerRef),"cmdk-list-sizer":""},u)))}),qp=c.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:i,...l}=e;return c.createElement(ia,{open:r,onOpenChange:n},c.createElement(oa,{container:i},c.createElement(na,{"cmdk-overlay":"",className:a}),c.createElement(aa,{"aria-label":e.label,"cmdk-dialog":"",className:o},c.createElement(ni,{ref:t,...l}))))}),Vp=c.forwardRef((e,t)=>vt(r=>r.filtered.count===0)?c.createElement(Ve.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Yp=c.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return c.createElement(Ve.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},sr(e,i=>c.createElement("div",{"aria-hidden":!0},i)))}),Vt=Object.assign(ni,{List:zp,Item:Fp,Input:Up,Group:$p,Separator:Wp,Dialog:qp,Empty:Vp,Loading:Yp});function Hp(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Gp(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function ai(e){let t=c.useRef(e);return Dt(()=>{t.current=e}),t}var Dt=typeof window>"u"?c.useEffect:c.useLayoutEffect;function Rt(e){let t=c.useRef();return t.current===void 0&&(t.current=e()),t}function vt(e){let t=un(),r=()=>e(t.snapshot());return c.useSyncExternalStore(t.subscribe,r,r)}function oi(e,t,r,n=[]){let a=c.useRef(),o=ys();return Dt(()=>{var i;let l=(()=>{var u;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(u=h.current.textContent)==null?void 0:u.trim():a.current}})(),d=n.map(u=>u.trim());o.value(e,l,d),(i=t.current)==null||i.setAttribute(It,l),a.current=l}),a}var Kp=()=>{let[e,t]=c.useState(),r=Rt(()=>new Map);return Dt(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function Jp(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function sr({asChild:e,children:t},r){return e&&c.isValidElement(t)?c.cloneElement(Jp(t),{ref:t.ref},r(t.props.children)):r(t)}var Xp={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Qp({className:e,...t}){return s.jsx(Vt,{"data-slot":"command",className:ie("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function Zp({className:e,...t}){return s.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[s.jsx(Xl,{className:"size-4 shrink-0 opacity-50"}),s.jsx(Vt.Input,{"data-slot":"command-input",className:ie("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function eg({className:e,...t}){return s.jsx(Vt.List,{"data-slot":"command-list",className:ie("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function tg({...e}){return s.jsx(Vt.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function sg({className:e,...t}){return s.jsx(Vt.Group,{"data-slot":"command-group",className:ie("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function rg({className:e,...t}){return s.jsx(Vt.Item,{"data-slot":"command-item",className:ie("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const Zn=[{name:"India",iso:"IN",dial:"91"},{name:"United Arab Emirates",iso:"AE",dial:"971"},{name:"United States",iso:"US",dial:"1"},{name:"United Kingdom",iso:"GB",dial:"44"},{name:"Singapore",iso:"SG",dial:"65"},{name:"Australia",iso:"AU",dial:"61"},{name:"Canada",iso:"CA",dial:"1"},{name:"Germany",iso:"DE",dial:"49"},{name:"France",iso:"FR",dial:"33"},{name:"Spain",iso:"ES",dial:"34"},{name:"Italy",iso:"IT",dial:"39"},{name:"Japan",iso:"JP",dial:"81"},{name:"China",iso:"CN",dial:"86"},{name:"Brazil",iso:"BR",dial:"55"},{name:"Mexico",iso:"MX",dial:"52"},{name:"Nigeria",iso:"NG",dial:"234"},{name:"South Africa",iso:"ZA",dial:"27"},{name:"Saudi Arabia",iso:"SA",dial:"966"},{name:"Pakistan",iso:"PK",dial:"92"},{name:"Bangladesh",iso:"BD",dial:"880"},{name:"Sri Lanka",iso:"LK",dial:"94"},{name:"Nepal",iso:"NP",dial:"977"},{name:"Bahrain",iso:"BH",dial:"973"},{name:"Qatar",iso:"QA",dial:"974"},{name:"Oman",iso:"OM",dial:"968"},{name:"Kuwait",iso:"KW",dial:"965"},{name:"Turkey",iso:"TR",dial:"90"},{name:"Indonesia",iso:"ID",dial:"62"},{name:"Philippines",iso:"PH",dial:"63"},{name:"Kenya",iso:"KE",dial:"254"}];function ea(e){return`fi fi-${e.toLowerCase()}`}const vr=768;function ng(){const[e,t]=c.useState(void 0);return c.useEffect(()=>{const r=window.matchMedia(`(max-width: ${vr-1}px)`),n=()=>{t(window.innerWidth<vr)};return r.addEventListener("change",n),t(window.innerWidth<vr),()=>r.removeEventListener("change",n)},[]),!!e}function ag({onBack:e,onNext:t,onError:r}){const[n,a]=c.useState(""),[o,i]=c.useState(""),[l,d]=c.useState(""),[u,h]=c.useState(""),[m,f]=c.useState(""),[g,x]=c.useState(""),[y,j]=c.useState(""),[v,T]=c.useState(""),[Q,fe]=c.useState(""),[Y,W]=c.useState(!1),[I,M]=c.useState(null),[R,le]=c.useState(""),[J,X]=c.useState(""),[U,de]=c.useState(!1),[ee,he]=c.useState(!1),[_,k]=c.useState(null),[H,Ne]=c.useState(""),[te,p]=c.useState(!1),[C,E]=c.useState(""),O=ng(),[b,S]=c.useState(!1),P=c.useMemo(()=>{const $=new Set(["AU","DE","FR","ES","IT","RU","CN","JP"]),ne=Zn.filter(F=>!$.has(F.iso)),me=ne.find(F=>F.iso==="IN"),B=ne.filter(F=>F.iso!=="IN");return me?[me,...B]:ne},[]),A=$=>{const ne={india:"IN","united states":"US",usa:"US",us:"US","united kingdom":"GB",uk:"GB",britain:"GB",canada:"CA",singapore:"SG",mexico:"MX",brazil:"BR",nigeria:"NG","south africa":"ZA",indonesia:"ID",uae:"AE","united arab emirates":"AE","saudi arabia":"SA"},me=($||"").trim();if(me.length===2)return me.toUpperCase();const B=me.toLowerCase();return ne[B]||""};c.useEffect(()=>{if(!Q||Q.length<6){M(null),le(""),X("");return}const $=setTimeout(async()=>{W(!0);try{const ne=await uh(Q.toUpperCase().trim());ne.valid&&ne.referrer?(M(!0),le("Valid referral code"),X(`${ne.referrer.firstName} ${ne.referrer.lastName}`)):(M(!1),le(ne.message||"Invalid referral code"),X(""))}catch(ne){M(!1),le(ne?.message||"Invalid referral code"),X("")}finally{W(!1)}},500);return()=>clearTimeout($)},[Q]);const re=async $=>{$.preventDefault(),he(!0),k(null),Ne("");try{if(!U){r?.("Please accept Terms & Conditions"),k("Please accept Terms & Conditions"),he(!1);return}const ne=A(y);if(!ne){T("Enter a 2-letter ISO code (e.g., IN)"),k("Please fix the highlighted fields"),he(!1);return}T("");const me=(m||"").replace(/\D/g,""),B={email:n,password:o,firstName:l,lastName:u,phone:me,dateOfBirth:g,country:ne,acceptedTerms:U};Q&&Q.trim()&&(B.referralCode=Q.toUpperCase().trim());const F=await bd(B);t({id:F.userId||F.user.id,email:F.user.email})}catch(ne){const me=ne?.data?.details||ne?.error?.details,B=Array.isArray(me)?me.map(F=>`${F.field}: ${F.message}`).join("; "):ne?.message||"Registration failed";if(Array.isArray(me)){const F=me.find(G=>String(G.field).toLowerCase()==="country"&&G.message);F&&T(F.message);const Se=me.find(G=>String(G.field).toLowerCase()==="password"&&G.message);Se&&Ne(Se.message)}k(B),r?.(B)}finally{he(!1)}};return s.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[s.jsx("div",{className:"p-4",children:s.jsx("button",{onClick:e,className:"p-2 -ml-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(it,{className:"w-6 h-6 text-gray-700"})})}),s.jsxs("div",{className:"flex-1 px-6 pt-4",children:[_&&s.jsx("div",{className:"mb-3 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm","aria-live":"polite",children:_}),s.jsx("h1",{className:"text-gray-900 mb-2",children:"Create your account"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start trading in minutes"}),s.jsxs("form",{onSubmit:re,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(ve,{placeholder:"First name",value:l,onChange:$=>d($.target.value),className:"h-12 rounded-lg",required:!0}),s.jsx(ve,{placeholder:"Last name",value:u,onChange:$=>h($.target.value),className:"h-12 rounded-lg",required:!0})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(ve,{type:"email",placeholder:"Email",value:n,onChange:$=>a($.target.value),className:"pl-10 h-12 rounded-lg",required:!0})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),C&&s.jsxs("span",{className:"absolute left-10 top-1/2 -translate-y-1/2 text-gray-700 text-sm bg-white px-2 py-0.5 rounded border border-input shadow-sm pointer-events-none select-none min-w-[48px] text-center",children:["+",C]}),s.jsx(ve,{type:"tel",placeholder:"Phone",value:m,onChange:$=>f($.target.value.replace(/[^0-9+]/g,"")),className:"h-12 rounded-lg",style:{paddingLeft:C?"112px":"40px"},"aria-label":"Phone number"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ga,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(ve,{type:"password",placeholder:"Password",value:o,onChange:$=>i($.target.value),className:`pl-10 h-12 rounded-lg ${H?"border-red-400":""}`,required:!0,"aria-invalid":!!H,"aria-describedby":H?"password-error":void 0}),H&&s.jsx("div",{id:"password-error",className:"mt-1 text-xs text-red-600",children:H})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[O?s.jsx(ve,{type:"date",placeholder:"Date of Birth",value:g,onChange:$=>x($.target.value),className:"h-12 rounded-lg"}):s.jsxs(Bn,{open:te,onOpenChange:p,children:[s.jsx(Fn,{asChild:!0,children:s.jsx("button",{type:"button",className:"border-input focus-visible:border-ring focus-visible:ring-ring/50 flex h-12 w-full rounded-lg border bg-input-background px-3 text-left text-sm outline-none focus-visible:ring-[3px]",children:s.jsxs("span",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(al,{className:"w-5 h-5 text-gray-400"}),g?g.split("-").reverse().join("/"):"dd/mm/yyyy"]})})}),s.jsx($n,{className:"bg-white text-gray-900 p-0 w-auto",sideOffset:8,children:s.jsx(Pp,{mode:"single",selected:g?new Date(g):void 0,onSelect:$=>{if($){const ne=$.getFullYear(),me=String($.getMonth()+1).padStart(2,"0"),B=String($.getDate()).padStart(2,"0");x(`${ne}-${me}-${B}`)}p(!1)},fromYear:1940,toYear:new Date().getFullYear(),captionLayout:"dropdown"})})]}),s.jsxs("div",{children:[s.jsxs(Bn,{open:b,onOpenChange:S,children:[s.jsx(Fn,{asChild:!0,children:s.jsx("button",{type:"button",className:`border-input focus-visible:border-ring focus-visible:ring-ring/50 h-12 w-full rounded-lg border bg-white px-3 text-left text-sm outline-none focus-visible:ring-[3px] ${v?"border-red-400":""}`,"aria-label":"Select country",children:s.jsxs("span",{className:"flex items-center gap-2 text-gray-700",children:[y?s.jsx("span",{className:ea(y)}):null,y?Zn.find($=>$.iso===y)?.name||y:"Country"]})})}),s.jsx($n,{className:"bg-white text-gray-900 p-0 w-[320px] max-h-[60vh] overflow-y-auto",sideOffset:8,children:s.jsxs(Qp,{className:"h-[60vh]",children:[s.jsx(Zp,{placeholder:"Search country..."}),s.jsxs(eg,{children:[s.jsx(tg,{children:"No results."}),s.jsx(sg,{children:P.map($=>s.jsxs(rg,{onSelect:()=>{j($.iso),E($.dial),T(""),S(!1)},children:[s.jsx("span",{className:`${ea($.iso)} mr-2`}),$.name," ",s.jsxs("span",{className:"ml-auto text-muted-foreground",children:["+",$.dial]})]},$.iso))})]})]})})]}),v&&s.jsx("div",{className:"text-xs text-red-600 mt-1",children:v})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(ve,{placeholder:"Referral Code (Optional)",value:Q,onChange:$=>fe($.target.value.toUpperCase()),className:`pl-10 h-12 rounded-lg ${I===!1?"border-red-400":I===!0?"border-green-500":""}`,maxLength:12}),Y&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-blue-700 border-t-transparent rounded-full animate-spin"})}),!Y&&I===!0&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(Le,{className:"w-5 h-5 text-green-600"})}),!Y&&I===!1&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(ct,{className:"w-5 h-5 text-red-600"})})]}),J&&s.jsxs("div",{className:"mt-1 text-xs text-green-600 flex items-center gap-1",children:[s.jsx(Le,{className:"w-3 h-3"}),"Referred by: ",J]}),R&&!J&&s.jsx("div",{className:`mt-1 text-xs ${I?"text-green-600":"text-red-600"}`,children:R})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qa,{id:"terms",checked:U,onCheckedChange:$=>de(!!$)}),s.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["I accept the ",s.jsx("a",{className:"text-blue-700",children:"Terms & Conditions"})]})]}),s.jsx(L,{type:"submit",className:"w-full h-12 bg-blue-700 hover:bg-blue-800 text-white rounded-lg",disabled:ee,children:ee?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Sign Up"})]})]})]})}var og=Object.defineProperty,ig=Object.defineProperties,lg=Object.getOwnPropertyDescriptors,Ys=Object.getOwnPropertySymbols,ii=Object.prototype.hasOwnProperty,li=Object.prototype.propertyIsEnumerable,ta=(e,t,r)=>t in e?og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cg=(e,t)=>{for(var r in t||(t={}))ii.call(t,r)&&ta(e,r,t[r]);if(Ys)for(var r of Ys(t))li.call(t,r)&&ta(e,r,t[r]);return e},dg=(e,t)=>ig(e,lg(t)),ug=(e,t)=>{var r={};for(var n in e)ii.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ys)for(var n of Ys(e))t.indexOf(n)<0&&li.call(e,n)&&(r[n]=e[n]);return r};function hg(e){let t=setTimeout(e,0),r=setTimeout(e,10),n=setTimeout(e,50);return[t,r,n]}function mg(e){let t=c.useRef();return c.useEffect(()=>{t.current=e}),t.current}var fg=18,ci=40,pg=`${ci}px`,gg=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function xg({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let[a,o]=c.useState(!1),[i,l]=c.useState(!1),[d,u]=c.useState(!1),h=c.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&a&&i,[a,i,r]),m=c.useCallback(()=>{let f=e.current,g=t.current;if(!f||!g||d||r==="none")return;let x=f,y=x.getBoundingClientRect().left+x.offsetWidth,j=x.getBoundingClientRect().top+x.offsetHeight/2,v=y-fg,T=j;document.querySelectorAll(gg).length===0&&document.elementFromPoint(v,T)===f||(o(!0),u(!0))},[e,t,d,r]);return c.useEffect(()=>{let f=e.current;if(!f||r==="none")return;function g(){let y=window.innerWidth-f.getBoundingClientRect().right;l(y>=ci)}g();let x=setInterval(g,1e3);return()=>{clearInterval(x)}},[e,r]),c.useEffect(()=>{let f=n||document.activeElement===t.current;if(r==="none"||!f)return;let g=setTimeout(m,0),x=setTimeout(m,2e3),y=setTimeout(m,5e3),j=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(x),clearTimeout(y),clearTimeout(j)}},[t,n,r,m]),{hasPWMBadge:a,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:pg}}var di=c.createContext({}),ui=c.forwardRef((e,t)=>{var r=e,{value:n,onChange:a,maxLength:o,textAlign:i="left",pattern:l,placeholder:d,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:m="increase-width",pasteTransformer:f,containerClassName:g,noScriptCSSFallback:x=bg,render:y,children:j}=r,v=ug(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),T,Q,fe,Y,W;let[I,M]=c.useState(typeof v.defaultValue=="string"?v.defaultValue:""),R=n??I,le=mg(R),J=c.useCallback(B=>{a?.(B),M(B)},[a]),X=c.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),U=c.useRef(null),de=c.useRef(null),ee=c.useRef({value:R,onChange:J,isIOS:typeof window<"u"&&((Q=(T=window?.CSS)==null?void 0:T.supports)==null?void 0:Q.call(T,"-webkit-touch-callout","none"))}),he=c.useRef({prev:[(fe=U.current)==null?void 0:fe.selectionStart,(Y=U.current)==null?void 0:Y.selectionEnd,(W=U.current)==null?void 0:W.selectionDirection]});c.useImperativeHandle(t,()=>U.current,[]),c.useEffect(()=>{let B=U.current,F=de.current;if(!B||!F)return;ee.current.value!==B.value&&ee.current.onChange(B.value),he.current.prev=[B.selectionStart,B.selectionEnd,B.selectionDirection];function Se(){if(document.activeElement!==B){p(null),E(null);return}let be=B.selectionStart,Z=B.selectionEnd,De=B.selectionDirection,D=B.maxLength,ae=B.value,xe=he.current.prev,N=-1,ye=-1,w;if(ae.length!==0&&be!==null&&Z!==null){let vs=be===Z,ws=be===ae.length&&ae.length<D;if(vs&&!ws){let Ze=be;if(Ze===0)N=0,ye=1,w="forward";else if(Ze===D)N=Ze-1,ye=Ze,w="backward";else if(D>1&&ae.length>1){let ut=0;if(xe[0]!==null&&xe[1]!==null){w=Ze<xe[1]?"backward":"forward";let Ke=xe[0]===xe[1]&&xe[0]<D;w==="backward"&&!Ke&&(ut=-1)}N=ut+Ze,ye=ut+Ze+1}}N!==-1&&ye!==-1&&N!==ye&&U.current.setSelectionRange(N,ye,w)}let ue=N!==-1?N:be,Ie=ye!==-1?ye:Z,Nt=w??De;p(ue),E(Ie),he.current.prev=[ue,Ie,Nt]}if(document.addEventListener("selectionchange",Se,{capture:!0}),Se(),document.activeElement===B&&Ne(!0),!document.getElementById("input-otp-style")){let be=document.createElement("style");if(be.id="input-otp-style",document.head.appendChild(be),be.sheet){let Z="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";ss(be.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),ss(be.sheet,`[data-input-otp]:autofill { ${Z} }`),ss(be.sheet,`[data-input-otp]:-webkit-autofill { ${Z} }`),ss(be.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),ss(be.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let G=()=>{F&&F.style.setProperty("--root-height",`${B.clientHeight}px`)};G();let K=new ResizeObserver(G);return K.observe(B),()=>{document.removeEventListener("selectionchange",Se,{capture:!0}),K.disconnect()}},[]);let[_,k]=c.useState(!1),[H,Ne]=c.useState(!1),[te,p]=c.useState(null),[C,E]=c.useState(null);c.useEffect(()=>{hg(()=>{var B,F,Se,G;(B=U.current)==null||B.dispatchEvent(new Event("input"));let K=(F=U.current)==null?void 0:F.selectionStart,be=(Se=U.current)==null?void 0:Se.selectionEnd,Z=(G=U.current)==null?void 0:G.selectionDirection;K!==null&&be!==null&&(p(K),E(be),he.current.prev=[K,be,Z])})},[R,H]),c.useEffect(()=>{le!==void 0&&R!==le&&le.length<o&&R.length===o&&h?.(R)},[o,h,le,R]);let O=xg({containerRef:de,inputRef:U,pushPasswordManagerStrategy:m,isFocused:H}),b=c.useCallback(B=>{let F=B.currentTarget.value.slice(0,o);if(F.length>0&&X&&!X.test(F)){B.preventDefault();return}typeof le=="string"&&F.length<le.length&&document.dispatchEvent(new Event("selectionchange")),J(F)},[o,J,le,X]),S=c.useCallback(()=>{var B;if(U.current){let F=Math.min(U.current.value.length,o-1),Se=U.current.value.length;(B=U.current)==null||B.setSelectionRange(F,Se),p(F),E(Se)}Ne(!0)},[o]),P=c.useCallback(B=>{var F,Se;let G=U.current;if(!f&&(!ee.current.isIOS||!B.clipboardData||!G))return;let K=B.clipboardData.getData("text/plain"),be=f?f(K):K;B.preventDefault();let Z=(F=U.current)==null?void 0:F.selectionStart,De=(Se=U.current)==null?void 0:Se.selectionEnd,D=(Z!==De?R.slice(0,Z)+be+R.slice(De):R.slice(0,Z)+be+R.slice(Z)).slice(0,o);if(D.length>0&&X&&!X.test(D))return;G.value=D,J(D);let ae=Math.min(D.length,o-1),xe=D.length;G.setSelectionRange(ae,xe),p(ae),E(xe)},[o,J,X,R]),A=c.useMemo(()=>({position:"relative",cursor:v.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[v.disabled]),re=c.useMemo(()=>({position:"absolute",inset:0,width:O.willPushPWMBadge?`calc(100% + ${O.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:O.willPushPWMBadge?`inset(0 ${O.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[O.PWM_BADGE_SPACE_WIDTH,O.willPushPWMBadge,i]),$=c.useMemo(()=>c.createElement("input",dg(cg({autoComplete:v.autoComplete||"one-time-code"},v),{"data-input-otp":!0,"data-input-otp-placeholder-shown":R.length===0||void 0,"data-input-otp-mss":te,"data-input-otp-mse":C,inputMode:u,pattern:X?.source,"aria-placeholder":d,style:re,maxLength:o,value:R,ref:U,onPaste:B=>{var F;P(B),(F=v.onPaste)==null||F.call(v,B)},onChange:b,onMouseOver:B=>{var F;k(!0),(F=v.onMouseOver)==null||F.call(v,B)},onMouseLeave:B=>{var F;k(!1),(F=v.onMouseLeave)==null||F.call(v,B)},onFocus:B=>{var F;S(),(F=v.onFocus)==null||F.call(v,B)},onBlur:B=>{var F;Ne(!1),(F=v.onBlur)==null||F.call(v,B)}})),[b,S,P,u,re,o,C,te,v,X?.source,R]),ne=c.useMemo(()=>({slots:Array.from({length:o}).map((B,F)=>{var Se;let G=H&&te!==null&&C!==null&&(te===C&&F===te||F>=te&&F<C),K=R[F]!==void 0?R[F]:null,be=R[0]!==void 0?null:(Se=d?.[F])!=null?Se:null;return{char:K,placeholderChar:be,isActive:G,hasFakeCaret:G&&K===null}}),isFocused:H,isHovering:!v.disabled&&_}),[H,_,o,C,te,v.disabled,R]),me=c.useMemo(()=>y?y(ne):c.createElement(di.Provider,{value:ne},j),[j,ne,y]);return c.createElement(c.Fragment,null,x!==null&&c.createElement("noscript",null,c.createElement("style",null,x)),c.createElement("div",{ref:de,"data-input-otp-container":!0,style:A,className:g},me,c.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},$)))});ui.displayName="Input";function ss(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var bg=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function yg({className:e,containerClassName:t,...r}){return s.jsx(ui,{"data-slot":"input-otp",containerClassName:ie("flex items-center gap-2 has-disabled:opacity-50",t),className:ie("disabled:cursor-not-allowed",e),...r})}function vg({className:e,...t}){return s.jsx("div",{"data-slot":"input-otp-group",className:ie("flex items-center gap-1",e),...t})}function Es({index:e,className:t,...r}){const n=c.useContext(di),{char:a,hasFakeCaret:o,isActive:i}=n?.slots[e]??{};return s.jsxs("div",{"data-slot":"input-otp-slot","data-active":i,className:ie("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm bg-input-background transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...r,children:[a,o&&s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function wg({userId:e,email:t,onVerified:r,onError:n}){const[a,o]=c.useState(""),[i,l]=c.useState(!1),[d,u]=c.useState(30),[h,m]=c.useState("");c.useEffect(()=>{const x=setInterval(()=>u(y=>Math.max(0,y-1)),1e3);return()=>clearInterval(x)},[]);const f=async()=>{if(a.length===4){l(!0);try{const x=await yd({userId:e,code:a});Xs({tokens:x.tokens,sessionId:x.sessionId},!0),r()}catch(x){const y=x?.error?.message||x?.data?.message||x?.message||"Invalid or expired code";m(y),n?.(y)}finally{l(!1)}}},g=async()=>{if(!(d>0)){u(30);try{await vd({userId:e})}catch(x){const y=x?.error?.message||x?.data?.message||x?.message||"Failed to resend code";m(y),n?.(y)}}};return s.jsxs("div",{className:"min-h-screen bg-white p-6 text-gray-900",children:[s.jsx("h2",{className:"text-gray-900",children:"Verify your email"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Enter the 4-digit code sent to ",t||"your email"]}),s.jsxs("div",{"aria-label":"Verification code","aria-invalid":!!h,"aria-describedby":h?"otp-error":void 0,children:[s.jsx(yg,{maxLength:4,value:a,onChange:o,children:s.jsxs(vg,{className:"gap-3",children:[s.jsx(Es,{index:0,className:"h-12 w-12 bg-white text-gray-900 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx(Es,{index:1,className:"h-12 w-12 bg-white text-gray-900 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx(Es,{index:2,className:"h-12 w-12 bg-white text-gray-900 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx(Es,{index:3,className:"h-12 w-12 bg-white text-gray-900 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),h&&s.jsx("div",{id:"otp-error",className:"mt-2 text-sm text-red-600",children:h})]}),s.jsxs("div",{className:"mt-4 flex gap-3",children:[s.jsx(L,{onClick:f,disabled:i||a.length!==4,className:"bg-blue-700 text-white h-11 rounded-lg",children:"Verify"}),s.jsx(L,{onClick:g,variant:"outline",disabled:d>0,className:"h-11 rounded-lg text-gray-900",children:d>0?`Resend in ${d}s`:"Resend code"})]})]})}function Ng({onDeposit:e,onSkip:t,onCancel:r,onError:n}){const[a,o]=c.useState("signup"),[i,l]=c.useState(""),[d,u]=c.useState("");return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur border-b",children:s.jsxs("div",{className:"px-6 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:a==="signup"?"text-blue-700 font-semibold":"text-gray-600",children:"Registration"}),s.jsx("span",{className:"text-gray-300",children:""}),s.jsx("span",{className:a!=="signup"?"text-blue-700 font-semibold":"text-gray-600",children:"Account"})]}),s.jsx("div",{className:"mt-2 h-1 w-full bg-gray-100 rounded",children:s.jsx("div",{className:"h-1 rounded bg-gradient-to-r from-blue-600 to-blue-800 transition-all",style:{width:a==="signup"?"50%":"100%"}})})]})}),a==="signup"&&s.jsx(ag,{onBack:r,onNext:h=>{l(h?.id||""),u(h?.email||""),o("otp")},onError:n}),a==="otp"&&s.jsx(wg,{userId:i,email:d,onVerified:()=>o("account"),onError:n}),a==="account"&&s.jsx(No,{onBack:()=>o("signup"),onNext:()=>o("created"),onError:n}),a==="created"&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("h2",{className:"text-gray-900",children:"Configuration"}),s.jsx("p",{className:"text-gray-700",children:"Your trading account is created  you can trade and deposit now."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:e,className:"w-full bg-blue-700 text-white rounded-lg h-12",children:"Deposit now"}),s.jsx("button",{onClick:t,className:"w-full bg-gray-100 text-gray-700 rounded-lg h-12",children:"Skip for now"})]})]})]})}function jg(){const[e,t]=c.useState("welcome"),[r,n]=c.useState(null),[a,o]=c.useState(!1),[i,l]=c.useState(!0),[d,u]=c.useState(null),[h,m]=c.useState(null),[f,g]=c.useState({show:!1,message:"",type:"info"}),[x,y]=c.useState(typeof navigator<"u"?navigator.onLine:!0),j="mfapp.currentScreen",v="mfapp.selectedPair",{add:T,notifications:Q,markAllRead:fe,clear:Y}=yh(),[W,I]=c.useState(!1),M=typeof window<"u"?window.mfappRefreshTimerRef||{id:null}:{id:null};typeof window<"u"&&(window.mfappRefreshTimerRef=M);const R=()=>{M.id&&(window.clearTimeout(M.id),M.id=null)},le=()=>{R();const p=hd();let E=p?Math.max(2e3,p-Date.now()-6e4):55*6e4;M.id=window.setTimeout(async()=>{const O=Ge(),b=Va(),S=Ya()||"";if(!O||!b){le();return}try{const P=await Xa({accessToken:O,refreshToken:b}),A=window.localStorage.getItem("fx.accessToken"),re=!!A&&A===O;Xs({tokens:{accessToken:P.accessToken,refreshToken:P.refreshToken,expiresIn:P.expiresIn},sessionId:S},re),le()}catch(P){P?.status===401?(Ms(),o(!1),u(null),t("welcome"),J("Session expired. Please sign in again.","info")):(J("Network issue during token refresh. Will retry.","info"),M.id=window.setTimeout(le,3e4))}},E)};c.useEffect(()=>{if(!W)return;const p=document.body.style.overflow;document.body.style.overflow="hidden";const C=E=>{E.key==="Escape"&&I(!1)};return window.addEventListener("keydown",C),()=>{document.body.style.overflow=p,window.removeEventListener("keydown",C)}},[W]);const J=(p,C="info")=>{g({show:!0,message:p,type:C})},X=p=>{u(p),o(!0),ge.connect(),t("dashboard");const C=p.firstName||p.email||"Trader";J(`Welcome back, ${C}!`,"success"),le()},U=()=>{ge.disconnect(),Ms(),R(),u(null),o(!1),t("welcome"),J("Successfully signed out.","info")},de=p=>{if(n(e),p==="trading"&&!h)try{const C=localStorage.getItem(v),E=C?JSON.parse(C):Et&&Et[0]?Et[0]:null;E?m(E):p="markets"}catch{const C=Et&&Et[0]?Et[0]:null;C?m(C):p="markets"}t(p)},ee=p=>{n(e),t(p)},he=p=>{m(p),t("trading");try{localStorage.setItem(v,JSON.stringify(p))}catch{}},_=p=>{J(`${p.direction.toUpperCase()} order for ${p.lotSize} lots of ${p.pair} placed successfully!`,"success"),t("portfolio")},k=p=>{console.log("Closing position:",p),J("Position closed successfully!","success")},H=p=>{console.log("Cancelling order:",p),J("Order cancelled successfully!","info")};if(c.useEffect(()=>{(async()=>{if(!Ge()){l(!1);return}try{const E=await ms();u(E),o(!0),ge.connect(),le();try{const b=localStorage.getItem(j),P=b&&["dashboard","markets","trading","portfolio","wallet","transactions","settings"].includes(b)?b:"dashboard";t(P);const A=localStorage.getItem(v);if(A){const re=JSON.parse(A);m(re)}P==="trading"&&!A&&t("markets")}catch{t("dashboard")}const O=E.firstName||E.email||"Trader";J(`Welcome back, ${O}!`,"success");try{(await Rd({unreadOnly:!1,limit:20})).forEach(S=>{const P={id:S.id,type:S.type,title:S.title,message:S.message,data:S.data,createdAt:S.createdAt||S.timestamp,read:!!S.read};T(Ln(P))})}catch{}}catch(E){if(E?.status===401)Ms();else{o(!0),ge.connect(),le();try{const O=localStorage.getItem(j),S=O&&["dashboard","markets","trading","portfolio","wallet","transactions","settings"].includes(O)?O:"dashboard";t(S);const P=localStorage.getItem(v);if(P){const A=JSON.parse(P);m(A)}S==="trading"&&!P&&t("markets")}catch{t("dashboard")}J(E?.message||"Network issue. You are still signed in.","info")}}finally{l(!1)}})()},[]),c.useEffect(()=>{if(a)try{localStorage.setItem(j,e)}catch{}},[e,a]),c.useEffect(()=>{if(a){ge.subscribe({channels:["notifications"]});const p=C=>{T(Ln(C))};return ge.on("notification",p),()=>ge.off("notification",p)}},[a]),!a)return i?null:s.jsxs(s.Fragment,{children:[e==="welcome"&&s.jsx(id,{onSignIn:()=>t("login"),onSignUp:()=>t("signup")}),e==="login"&&s.jsx(kd,{onBack:()=>t("welcome"),onLogin:X,onSignUp:()=>t("signup"),onForgotPassword:()=>J("Password reset link sent to your email","info"),onError:p=>J(p,"error")}),e==="signup"&&s.jsx(Ng,{onDeposit:()=>{o(!0),t("wallet-deposit"),J("Account created. Deposit to start trading.","success")},onSkip:()=>{o(!0),t("dashboard"),J("Account created. You can deposit anytime.","success")},onCancel:()=>{t("login")},onError:p=>J(p,"error")}),f.show&&s.jsx(us,{message:f.message,type:f.type,onClose:()=>g({...f,show:!1})})]});const Ne=["dashboard","markets","portfolio","wallet","transactions","settings"].some(p=>e.startsWith(p)),te=["dashboard","markets","portfolio","wallet","settings"].includes(e);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Ne&&s.jsx(Ed,{title:e==="markets"?"Markets":e==="trading"?void 0:e==="portfolio"?"Portfolio":e==="wallet"||e.startsWith("wallet-")?"Wallet":e==="transactions"?"Transactions":e==="settings"?"Settings":void 0,titleIcon:e==="markets"?s.jsx(ll,{className:"w-5 h-5 text-white"}):e==="wallet"||e.startsWith("wallet-")?s.jsx($s,{className:"w-5 h-5 text-white"}):e==="settings"?s.jsx(ba,{className:"w-5 h-5 text-white"}):void 0,showNotifications:e==="dashboard",onNotificationClick:()=>I(!0),unreadCount:Q.filter(p=>!p.read).length,showBack:e==="wallet",onBackClick:()=>{t(r&&r!=="wallet"?r:"dashboard")}}),s.jsxs("main",{className:"",style:{paddingTop:Ne?"calc(var(--safe-top) + 56px)":void 0,paddingBottom:te?"calc(var(--safe-bottom) + 64px)":void 0},children:[e==="dashboard"&&s.jsx(ft,{label:"Dashboard",onError:({error:p,label:C,stack:E})=>console.error("AppError",{label:C,error:p,stack:E,screen:e}),children:s.jsx(qu,{userName:d?.firstName||d?.email||Od.firstName,onNavigate:de})}),e==="markets"&&s.jsx(ft,{label:"Markets",onError:({error:p,label:C,stack:E})=>console.error("AppError",{label:C,error:p,stack:E,screen:e}),children:s.jsx(c.Suspense,{fallback:s.jsx("div",{className:"p-6 flex justify-center",children:s.jsx(Ye,{})}),children:s.jsx(Sg,{onSelectPair:he})})}),e==="trading"&&h&&s.jsx(ft,{label:"Trading",onError:({error:p,label:C,stack:E})=>console.error("AppError",{label:C,error:p,stack:E,screen:e}),children:s.jsx(c.Suspense,{fallback:s.jsx("div",{className:"p-6 flex justify-center",children:s.jsx(Ye,{})}),children:s.jsx(Cg,{pair:h,onBack:()=>t("markets"),onPlaceOrder:_})})}),e==="trading"&&!h&&s.jsx("div",{className:"px-4 py-8",children:s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Select a market to start trading"}),s.jsx(L,{onClick:()=>t("markets"),className:"bg-blue-700 hover:bg-blue-800 text-white rounded-lg",children:"Go to Markets"})]})}),e==="portfolio"&&s.jsx(ft,{label:"Portfolio",onError:({error:p,label:C,stack:E})=>console.error("AppError",{label:C,error:p,stack:E,screen:e}),children:s.jsx(c.Suspense,{fallback:s.jsx("div",{className:"p-6 flex justify-center",children:s.jsx(Ye,{})}),children:s.jsx(Pg,{onClosePosition:k,onCancelOrder:H})})}),(e==="wallet"||e.startsWith("wallet-"))&&s.jsx(ft,{children:s.jsx(Qu,{onNavigate:de})}),e==="transactions"&&s.jsx(ft,{label:"Transactions",onError:({error:p,label:C,stack:E})=>console.error("AppError",{label:C,error:p,stack:E,screen:e}),children:s.jsx(c.Suspense,{fallback:s.jsx("div",{className:"p-6 flex justify-center",children:s.jsx(Ye,{})}),children:s.jsx(_g,{onBack:()=>t("wallet")})})}),e==="settings"&&s.jsx(ft,{label:"Settings",onError:({error:p,label:C,stack:E})=>console.error("AppError",{label:C,error:p,stack:E,screen:e}),children:s.jsx(gh,{onLogout:U})})]}),te&&s.jsx(Md,{activeTab:e,onTabChange:ee}),f.show&&s.jsx(us,{message:f.message,type:f.type,onClose:()=>g({...f,show:!1})}),s.jsx("div",{"aria-live":"polite",role:"status",className:"sr-only",children:f.show?f.message:""}),W&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40",onClick:()=>I(!1),children:s.jsxs("div",{className:"fixed inset-0 bg-white flex flex-col",onClick:p=>p.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-gray-900 font-semibold text-lg",children:"Notifications"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"text-sm text-gray-700",onClick:fe,children:"Mark all read"}),s.jsx("button",{className:"text-sm text-gray-600",onClick:Y,children:"Clear"}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100","aria-label":"Close",onClick:()=>I(!1),children:s.jsx(ct,{className:"w-5 h-5 text-gray-700"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-scroll px-6 py-4 pb-24",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},role:"region","aria-label":"Notifications list",tabIndex:0,children:Q.length===0?s.jsx("div",{className:"p-6 text-gray-500",children:"No notifications yet"}):s.jsx("div",{className:"space-y-3",children:Q.map(p=>s.jsxs("div",{className:"p-4 rounded-lg border bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-medium text-gray-900",children:p.title}),s.jsx("div",{className:`text-xs ${p.read?"text-gray-400":"text-red-600"}`,children:p.read?"Read":"New"})]}),s.jsx("div",{className:"text-sm text-gray-700 mt-1",children:p.message}),s.jsx("div",{className:"text-xs text-gray-600 mt-2",children:new Date(p.createdAt).toLocaleString()})]},p.id))})})]})})]})}function kg(){return s.jsx(bh,{children:s.jsx(fd,{children:s.jsx(jg,{})})})}const Sg=c.lazy(()=>Gs(()=>import("./Markets-Dkij86eW.js"),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.Markets}))),Cg=c.lazy(()=>Gs(()=>import("./Trading-Bnk9g2w6.js"),__vite__mapDeps([4,1,2,3])).then(e=>({default:e.Trading}))),Pg=c.lazy(()=>Gs(()=>import("./Portfolio-BzvRuQTY.js"),__vite__mapDeps([5,1,2,3])).then(e=>({default:e.Portfolio}))),_g=c.lazy(()=>Gs(()=>import("./Transactions-B86iPRAq.js"),__vite__mapDeps([6,1,2,3])).then(e=>({default:e.Transactions})));Ui.createRoot(document.getElementById("root")).render(s.jsx(ft,{children:s.jsx(kg,{})}));export{it as A,L as B,Id as C,Qa as D,Qt as E,Ye as F,Lg as G,Vr as H,ve as I,al as J,Wg as K,_e as L,wr as M,Nr as N,Ks as O,zu as P,Vl as Q,js as R,Xl as S,xt as T,ct as X,ke as a,V as b,se as c,Oe as d,ac as e,lt as f,qd as g,Bg as h,so as i,Ja as j,Ae as k,xn as l,Et as m,Eg as n,qr as o,Xt as p,ft as q,Fg as r,Td as s,Rg as t,Ga as u,Og as v,ge as w,Ig as x,Mg as y,ro as z};
